{"meta":{"version":1,"warehouse":"3.0.1"},"models":{"Asset":[{"_id":"source/assets/images/bg.jpg","path":"assets/images/bg.jpg","modified":1,"renderable":0},{"_id":"themes/icarus/source/css/back-to-top.css","path":"css/back-to-top.css","modified":1,"renderable":1},{"_id":"themes/icarus/source/css/insight.css","path":"css/insight.css","modified":1,"renderable":1},{"_id":"themes/icarus/source/css/progressbar.css","path":"css/progressbar.css","modified":1,"renderable":1},{"_id":"themes/icarus/source/css/search.css","path":"css/search.css","modified":1,"renderable":1},{"_id":"themes/icarus/source/css/style.styl","path":"css/style.styl","modified":1,"renderable":1},{"_id":"themes/icarus/source/images/avatar.png","path":"images/avatar.png","modified":1,"renderable":1},{"_id":"themes/icarus/source/images/favicon.svg","path":"images/favicon.svg","modified":1,"renderable":1},{"_id":"themes/icarus/source/images/logo.svg","path":"images/logo.svg","modified":1,"renderable":1},{"_id":"themes/icarus/source/images/og_image.png","path":"images/og_image.png","modified":1,"renderable":1},{"_id":"themes/icarus/source/images/thumbnail.svg","path":"images/thumbnail.svg","modified":1,"renderable":1},{"_id":"themes/icarus/source/js/animation.js","path":"js/animation.js","modified":1,"renderable":1},{"_id":"themes/icarus/source/js/back-to-top.js","path":"js/back-to-top.js","modified":1,"renderable":1},{"_id":"themes/icarus/source/js/gallery.js","path":"js/gallery.js","modified":1,"renderable":1},{"_id":"themes/icarus/source/js/insight.js","path":"js/insight.js","modified":1,"renderable":1},{"_id":"themes/icarus/source/js/main.js","path":"js/main.js","modified":1,"renderable":1},{"_id":"source/assets/images/00tx.jpg","path":"assets/images/00tx.jpg","modified":1,"renderable":0},{"_id":"source/assets/images/favicon-16x16.ico","path":"assets/images/favicon-16x16.ico","modified":1,"renderable":0},{"_id":"source/assets/images/favicon-32x32.ico","path":"assets/images/favicon-32x32.ico","modified":1,"renderable":0},{"_id":"source/assets/images/paycode/wxpay.png","path":"assets/images/paycode/wxpay.png","modified":1,"renderable":0},{"_id":"source/assets/images/map/12/ar12-3.jpeg","path":"assets/images/map/12/ar12-3.jpeg","modified":1,"renderable":0},{"_id":"source/assets/images/map/12/ar12-4.jpg","path":"assets/images/map/12/ar12-4.jpg","modified":1,"renderable":0},{"_id":"source/assets/images/map/12/ar12-5.jpg","path":"assets/images/map/12/ar12-5.jpg","modified":1,"renderable":0},{"_id":"source/assets/images/map/4/ar4-1.png","path":"assets/images/map/4/ar4-1.png","modified":1,"renderable":0},{"_id":"source/assets/images/map/4/ar4-2.png","path":"assets/images/map/4/ar4-2.png","modified":1,"renderable":0},{"_id":"source/assets/images/map/4/ar4-3.png","path":"assets/images/map/4/ar4-3.png","modified":1,"renderable":0},{"_id":"source/assets/images/map/4/ar4-4.png","path":"assets/images/map/4/ar4-4.png","modified":1,"renderable":0},{"_id":"source/assets/images/map/4/ar4-5.png","path":"assets/images/map/4/ar4-5.png","modified":1,"renderable":0},{"_id":"source/assets/images/map/4/ar4-6.png","path":"assets/images/map/4/ar4-6.png","modified":1,"renderable":0},{"_id":"source/assets/images/paycode/alipay.jpg","path":"assets/images/paycode/alipay.jpg","modified":1,"renderable":0},{"_id":"source/assets/images/map/12/ar12-2.jpg","path":"assets/images/map/12/ar12-2.jpg","modified":1,"renderable":0},{"_id":"source/assets/images/map/12/ar12-1.png","path":"assets/images/map/12/ar12-1.png","modified":1,"renderable":0}],"Cache":[{"_id":"themes/icarus/LICENSE","hash":"41f72cd544612bc4589c924c776422b800a4eff7","modified":1578377291000},{"_id":"themes/icarus/README.md","hash":"c351bc76d3b4a138989c50f57bd3c52fa95eaa56","modified":1578377291000},{"_id":"themes/icarus/_config.yml","hash":"93b1e2734dc419937198844675e7be90a1dc7a34","modified":1578408964641},{"_id":"themes/icarus/package.json","hash":"4f362aa241ad5d5d9422cc8f1e825edfcd8cbb1a","modified":1578377291000},{"_id":"source/_posts/C++标准线程库.md","hash":"cf86e86a03f220adc855fefff614cc7284b34592","modified":1578383415989},{"_id":"source/_posts/JS数组.md","hash":"f583740bddd8eaece1af8bdbf49c9573268bffcf","modified":1578381888873},{"_id":"source/_posts/bdtrans-一个命令行下的翻译工具.md","hash":"a1b6af42f6c52ac5d3522eb5d343316a4ce69eb6","modified":1578383322753},{"_id":"source/_posts/flex布局中flex-grow与flex-shrink的计算方式.md","hash":"b42db9c49d43b0e044ad1bdc7a9119669b21ee92","modified":1578383349409},{"_id":"source/_posts/一个毕业生眼中的大学.md","hash":"240e8e85d041c3f18b244429823d839c6934efbd","modified":1578383144973},{"_id":"source/_posts/名言摘抄.md","hash":"5e2159f521ca653fc9eb4179a0048cad27b672a8","modified":1575984829532},{"_id":"source/_posts/拉勾网企业招聘信息分析报告.md","hash":"b4e51914ef3e88fc91f9d093c22dc94df3d6a537","modified":1578383233161},{"_id":"source/_posts/看懂了《让子弹飞》就理解了毛泽东和文革(转载).md","hash":"66de8756b1db1d12c8e2c0501d60a7215729c01d","modified":1578383369769},{"_id":"source/_posts/绕过校园网Web认证.md","hash":"d0daa73066318588a8b25c846461925bf7b3cb5a","modified":1578383265953},{"_id":"source/_posts/自适应高度的输入框.md","hash":"c8fb397ff203f82c25c735db2540f02dfc25cdd5","modified":1578411719409},{"_id":"source/_posts/解决Debina系统自动更新软件包的问题.md","hash":"afb5197778df0a1202646b447b8f4721c0959584","modified":1578383390025},{"_id":"source/_posts/那年夏夜.md","hash":"6dddbdf340fb82fe20a096c46ae7b80b90041358","modified":1578383296189},{"_id":"source/about/index.md","hash":"4c2e4c68850d2e97deafdd2e42d8dc9bf862e05c","modified":1575902570347},{"_id":"source/categories/index.md","hash":"a0c91a4666dd2689393d9f14edc9b01047d29458","modified":1574769507302},{"_id":"source/tags/index.md","hash":"88507f6d8e57212e83b94827d115f818f72bfce5","modified":1574769501274},{"_id":"themes/icarus/languages/de.yml","hash":"79d769768780b9a72eb256ab61f217b8bdebf85b","modified":1578377291000},{"_id":"themes/icarus/languages/es.yml","hash":"2e59e579d393c881dcbb885516d93eeaf469cec2","modified":1578377291000},{"_id":"themes/icarus/languages/en.yml","hash":"66d873bbe04894610c2d28b0d03e10143997b51b","modified":1578377291000},{"_id":"themes/icarus/languages/fr.yml","hash":"0017f93a5d491a9c0e55911cdc35316762c5a94e","modified":1578377291000},{"_id":"themes/icarus/languages/id.yml","hash":"92d2d19a62a17b6e99f82a014309bbf6c13c9ae8","modified":1578377291000},{"_id":"themes/icarus/languages/ja.yml","hash":"6eed7771de2353d71b720c6e605cceb3f230b12e","modified":1578377291000},{"_id":"themes/icarus/languages/ko.yml","hash":"e7ac736b604429adedd67f3ca6043201eff7b23b","modified":1578377291000},{"_id":"themes/icarus/languages/pl.yml","hash":"43f5447c38c9be2e1f5ce6181a0f97eeb437b059","modified":1578377291000},{"_id":"themes/icarus/languages/pt-BR.yml","hash":"bcf5bc81ca855d26bbc3b3bfabc7d84429e74b85","modified":1578377291000},{"_id":"themes/icarus/languages/ru.yml","hash":"ba8b4f7d77eb1d1e28aa1f9107bd0bbbdc4cba99","modified":1578377291000},{"_id":"themes/icarus/languages/tr.yml","hash":"eff1c0b3d5c4b328f6dd74a195ff378c898f4d29","modified":1578377291000},{"_id":"themes/icarus/languages/vn.yml","hash":"6d9f4fabca711a6cb0a0efd72aa75c3641beb4a6","modified":1578377291000},{"_id":"themes/icarus/languages/zh-CN.yml","hash":"1e0070de43c2af7654ee50c57d97ef7fdf4b3dab","modified":1578400971325},{"_id":"themes/icarus/languages/zh-TW.yml","hash":"6ff978a0c4c11e996925e1a912a1d805f4680a6c","modified":1578377291000},{"_id":"themes/icarus/layout/archive.ejs","hash":"2527527eaf3e757ab476325f691d2e2e0ff9c2d5","modified":1578377291000},{"_id":"themes/icarus/layout/categories.ejs","hash":"29d304f2b95a04fbc5e7529f9bdce9648e3545ef","modified":1578377291000},{"_id":"themes/icarus/layout/category.ejs","hash":"58aa84f75193b978b2072f29dbb84ed8279574b9","modified":1578377291000},{"_id":"themes/icarus/layout/index.ejs","hash":"8ab440868f721bb7256ab9f2be96996850b0cf44","modified":1578377291000},{"_id":"themes/icarus/layout/layout.ejs","hash":"cc2d31a27e9e7879dd22f93fc72b91e940074fac","modified":1578380581041},{"_id":"themes/icarus/layout/page.ejs","hash":"ebf120d46074f67ea25a231d2f7a64fd1e751904","modified":1578377291000},{"_id":"themes/icarus/layout/post.ejs","hash":"ebf120d46074f67ea25a231d2f7a64fd1e751904","modified":1578377291000},{"_id":"themes/icarus/layout/tag.ejs","hash":"45eb077f2ac86f5c8090cb1a2361eed56a368e95","modified":1578377291000},{"_id":"themes/icarus/layout/tags.ejs","hash":"0c527c6b72386f11c18e8aa5249be8c601e69906","modified":1578377291000},{"_id":"themes/icarus/scripts/index.js","hash":"40839db58041e31eb06d428a91869b0789277e7e","modified":1578377291000},{"_id":"source/assets/images/bg.jpg","hash":"c26df46935a330740f562b773f94fdf8a8415691","modified":1574755274062},{"_id":"themes/icarus/includes/common/ConfigGenerator.js","hash":"451397efc7808787419fa3eb6b043c0bd8bbdf30","modified":1578377291000},{"_id":"themes/icarus/includes/common/ConfigValidator.js","hash":"48cff5402e93b11d5266370e9c4b78ee21369cb9","modified":1578377291000},{"_id":"themes/icarus/includes/common/utils.js","hash":"c0aeaeb57a42bcc71a92da2249762f91abd83ffe","modified":1578377291000},{"_id":"themes/icarus/includes/generators/categories.js","hash":"7cb370ac53a05d6b1b9203579716c0ca83d35c36","modified":1578377291000},{"_id":"themes/icarus/includes/generators/category.js","hash":"313e170e55d74526c4e1be7181ef7a21439147c9","modified":1578377291000},{"_id":"themes/icarus/includes/generators/insight.js","hash":"c4b981443927b87cc14a3a583029e13f819d6d71","modified":1578377291000},{"_id":"themes/icarus/includes/generators/tags.js","hash":"8195322c208706427a1cf56361669dca4d86f6f1","modified":1578377291000},{"_id":"themes/icarus/includes/helpers/cdn.js","hash":"2d6dff6e489768b93aa211b445a9918fe175ba3a","modified":1578388420565},{"_id":"themes/icarus/includes/helpers/config.js","hash":"931cbc10553e059baab3f1bcb19c6100fce30019","modified":1578386310333},{"_id":"themes/icarus/includes/helpers/layout.js","hash":"748ca348dbeb0aed4970b5b8b376da3ca390e642","modified":1578387563949},{"_id":"themes/icarus/includes/helpers/override.js","hash":"223771860caddffcbce7d84dfb07798f6aa0bdda","modified":1578377291000},{"_id":"themes/icarus/includes/helpers/page.js","hash":"4ce98c781bcbc132672e6d16bf02df5bebcea7b3","modified":1578377291000},{"_id":"themes/icarus/includes/helpers/site.js","hash":"2f55818448fe83c73418dcf9751745c7918c10e3","modified":1578377291000},{"_id":"themes/icarus/includes/specs/article.spec.js","hash":"ce24279cd0cd39855216dab0cd5223c755757cdf","modified":1578377291000},{"_id":"themes/icarus/includes/specs/comment.spec.js","hash":"b0ef033e363b918134fb5a003143e9bd8fafa300","modified":1578377291000},{"_id":"themes/icarus/includes/specs/config.spec.js","hash":"7a9bac384a73cf9f39173fdb2dfc2813784d8891","modified":1578377291000},{"_id":"themes/icarus/includes/specs/donate.spec.js","hash":"722cb2662569957e8b1d1a467d9632b8cc6e69d6","modified":1578377291000},{"_id":"themes/icarus/includes/specs/footer.spec.js","hash":"8e6d7c5f9a13ce03241b6562259d210b389cb88e","modified":1578377291000},{"_id":"themes/icarus/includes/specs/icon_link.spec.js","hash":"f2a83ac5ccb74fc6f3dfbd25430e142297d8491c","modified":1578377291000},{"_id":"themes/icarus/includes/specs/meta.spec.js","hash":"ed1b818b929d71930608291514a72ef5a639efee","modified":1578377291000},{"_id":"themes/icarus/includes/specs/navbar.spec.js","hash":"7de29c0031738a4de4d31ed4f7b0c43447c7961c","modified":1578377291000},{"_id":"themes/icarus/includes/specs/plugins.spec.js","hash":"2fb7a28fdde9a46f576e69b9967f24d66adffb57","modified":1578377291000},{"_id":"themes/icarus/includes/specs/providers.spec.js","hash":"820cc6936ba75e3104cc2e8641716ed65ada8b6f","modified":1578377291000},{"_id":"themes/icarus/includes/specs/search.spec.js","hash":"1e3995cdc471e6a2817cd45e2b6f0fd39b4540ec","modified":1578377291000},{"_id":"themes/icarus/includes/specs/share.spec.js","hash":"5ec65409a17ead13974140fc5ddc19e526586d9f","modified":1578377291000},{"_id":"themes/icarus/includes/specs/sidebar.spec.js","hash":"630c9701affe2549abc61cd4d1e5153af2224fb6","modified":1578385344945},{"_id":"themes/icarus/includes/specs/widgets.spec.js","hash":"c5cedfe1074c0566baf8aca248f0392a501d9a74","modified":1578377291000},{"_id":"themes/icarus/includes/tasks/check_config.js","hash":"ce7626d643737c90dee6b75435ccdec26b89dacf","modified":1578377291000},{"_id":"themes/icarus/includes/tasks/check_deps.js","hash":"ab08051f785eab2a0685aa537270d2988bc13639","modified":1578377291000},{"_id":"themes/icarus/includes/tasks/welcome.js","hash":"00d1ef8c9609552b82e9a5140b838a9057c59508","modified":1578377291000},{"_id":"themes/icarus/includes/utils/lru.js","hash":"35c0ede3553549758ff5e4ded2bc650778793377","modified":1578377291000},{"_id":"themes/icarus/layout/comment/changyan.ejs","hash":"73038ac4fdfdfa71d92edaa98cc194b3446586a3","modified":1578377291000},{"_id":"themes/icarus/layout/comment/changyan.locals.js","hash":"49bce2ee742c7224bda97092d6e0a1a09184ef34","modified":1578377291000},{"_id":"themes/icarus/layout/comment/disqus.ejs","hash":"7a8c656c8651d48e21ed24c469ea75898b2b12df","modified":1578377291000},{"_id":"themes/icarus/layout/comment/disqus.locals.js","hash":"a8d2cecaa82ec9e2e2e61cb73417d63d115335d6","modified":1578377291000},{"_id":"themes/icarus/layout/comment/facebook.ejs","hash":"1c3751f36f737527e352c65bb1ca7172ff792979","modified":1578377291000},{"_id":"themes/icarus/layout/comment/facebook.locals.js","hash":"77e3ef1d933660d980b26d15968aa1a5c8a93a56","modified":1578377291000},{"_id":"themes/icarus/layout/comment/gitalk.ejs","hash":"eb1314badf793924b5786e92f8b3ebb0f21f3b58","modified":1578377291000},{"_id":"themes/icarus/layout/comment/gitalk.locals.js","hash":"f920f130598148b4d9f213c82f2d7f88a796012f","modified":1578377291000},{"_id":"themes/icarus/layout/comment/gitment.ejs","hash":"d5e1a396e23df4e75e139d12846290bdb08ba01e","modified":1578377291000},{"_id":"themes/icarus/layout/comment/gitment.locals.js","hash":"f920f130598148b4d9f213c82f2d7f88a796012f","modified":1578377291000},{"_id":"themes/icarus/layout/comment/isso.ejs","hash":"cc6a43bd24be764086f88ad7c5c97ff04df87e0b","modified":1578377291000},{"_id":"themes/icarus/layout/comment/isso.locals.js","hash":"9a43112ac0a58df98bb418563ec04558023e1fae","modified":1578377291000},{"_id":"themes/icarus/layout/comment/livere.ejs","hash":"12ff9a345f6bba2f732f592e39508c2afde89b00","modified":1578377291000},{"_id":"themes/icarus/layout/comment/livere.locals.js","hash":"9a43112ac0a58df98bb418563ec04558023e1fae","modified":1578377291000},{"_id":"themes/icarus/layout/comment/valine.ejs","hash":"31471cd05018583249b4c09a78cf1d02e7987244","modified":1578377291000},{"_id":"themes/icarus/layout/comment/valine.locals.js","hash":"9a43112ac0a58df98bb418563ec04558023e1fae","modified":1578377291000},{"_id":"themes/icarus/layout/common/article.ejs","hash":"cb415e3fc23808fdacf31988bfb1f4e8805c2435","modified":1578387348541},{"_id":"themes/icarus/layout/common/article.locals.js","hash":"1f108fa96e61a681d7b1ee390b4f0ff60d042720","modified":1578377291000},{"_id":"themes/icarus/layout/common/footer.ejs","hash":"062ead91bb9008022fb46bacbe0f8ca239c5d993","modified":1578411083305},{"_id":"themes/icarus/layout/common/footer.locals.js","hash":"504ed92dc76723f19777463d690acfbe1d89e2ba","modified":1578377291000},{"_id":"themes/icarus/layout/common/head.ejs","hash":"6830487118ce0450b4df7331448ddd5821698ef7","modified":1578408633881},{"_id":"themes/icarus/layout/common/navbar.ejs","hash":"0fe0c940fcb112828d465830713a0cdd42864951","modified":1578377291000},{"_id":"themes/icarus/layout/common/navbar.locals.js","hash":"7e523ba80667038f2e58cf4f9cb073e9afbc70e6","modified":1578377291000},{"_id":"themes/icarus/layout/common/paginator.ejs","hash":"7837d80b27f166161b3deeffb571680025c7d723","modified":1578377291000},{"_id":"themes/icarus/layout/common/scripts.ejs","hash":"99da87756d2bd234b058e90d2c6dabc1bc10f20e","modified":1578377291000},{"_id":"themes/icarus/layout/common/widget.ejs","hash":"dbb9849340bce383de8927e9bddf7d129ea5a005","modified":1578385330725},{"_id":"themes/icarus/layout/donate/alipay.ejs","hash":"3290058879973e403a05472a0fe2ac0219d5b961","modified":1578377291000},{"_id":"themes/icarus/layout/donate/alipay.locals.js","hash":"9a43112ac0a58df98bb418563ec04558023e1fae","modified":1578377291000},{"_id":"themes/icarus/layout/donate/patreon.ejs","hash":"fc19da9674649c035d133535078ff7e37d0f54c1","modified":1578377291000},{"_id":"themes/icarus/layout/donate/patreon.locals.js","hash":"9a43112ac0a58df98bb418563ec04558023e1fae","modified":1578377291000},{"_id":"themes/icarus/layout/donate/paypal.ejs","hash":"dbb90fa9214d659ea6bbd5a92ea00888adf3761e","modified":1578377291000},{"_id":"themes/icarus/layout/donate/paypal.locals.js","hash":"9a43112ac0a58df98bb418563ec04558023e1fae","modified":1578377291000},{"_id":"themes/icarus/layout/donate/wechat.ejs","hash":"051b873e1fc28c1d7c2d6443991b6a2f43813e6b","modified":1578377291000},{"_id":"themes/icarus/layout/donate/wechat.locals.js","hash":"9a43112ac0a58df98bb418563ec04558023e1fae","modified":1578377291000},{"_id":"themes/icarus/layout/plugin/animejs.ejs","hash":"c17ea2cfe5cb239342166e2ba72cbfc663c8160f","modified":1578377291000},{"_id":"themes/icarus/layout/plugin/animejs.locals.js","hash":"3bf911060a222f00b03be708c37f20e36cb66ba9","modified":1578377291000},{"_id":"themes/icarus/layout/plugin/back-to-top.ejs","hash":"5936b5fd2f2444605a21c6c422623f07f02d5c9a","modified":1578377291000},{"_id":"themes/icarus/layout/plugin/back-to-top.locals.js","hash":"3bf911060a222f00b03be708c37f20e36cb66ba9","modified":1578377291000},{"_id":"themes/icarus/layout/plugin/baidu-analytics.ejs","hash":"7dbbea5722277e00a624c1796ec83d5f9c12d059","modified":1578377291000},{"_id":"themes/icarus/layout/plugin/baidu-analytics.locals.js","hash":"c02eb152e6aff05833006e6edd32b74c1c4258c3","modified":1578377291000},{"_id":"themes/icarus/layout/plugin/busuanzi.ejs","hash":"0f55267964b299f1fe0a0e16e1c7bc9f31102e32","modified":1578409112129},{"_id":"themes/icarus/layout/plugin/busuanzi.locals.js","hash":"ec80bcfa4c1302c04130a746df4b1298d117de0b","modified":1578377291000},{"_id":"themes/icarus/layout/plugin/gallery.ejs","hash":"7d19b7a5713d08a614578f079f1327a651c472ae","modified":1578377291000},{"_id":"themes/icarus/layout/plugin/gallery.locals.js","hash":"037fb56dffc128d3a91c1cb8852998d9539d3fac","modified":1578377291000},{"_id":"themes/icarus/layout/plugin/google-analytics.ejs","hash":"13b298b0026bfc7bcb6a47b6c795fe15cc4584fc","modified":1578377291000},{"_id":"themes/icarus/layout/plugin/google-analytics.locals.js","hash":"c02eb152e6aff05833006e6edd32b74c1c4258c3","modified":1578377291000},{"_id":"themes/icarus/layout/plugin/hotjar.ejs","hash":"6df0d8f77ed39e4d32c78177844115e31bf3a776","modified":1578377291000},{"_id":"themes/icarus/layout/plugin/hotjar.locals.js","hash":"9258fc2af057d2545a43fae54790743b63450378","modified":1578377291000},{"_id":"themes/icarus/layout/plugin/mathjax.ejs","hash":"dddb6f37487286fe2080118bcbb4a8d82dc84d5e","modified":1578377291000},{"_id":"themes/icarus/layout/plugin/mathjax.locals.js","hash":"7faa26fa6da6a93dc3f7fdcf5a784d1f8825b031","modified":1578377291000},{"_id":"themes/icarus/layout/plugin/outdated-browser.ejs","hash":"1437d1ac085a8110e61317254f6c0a034121bc39","modified":1578377291000},{"_id":"themes/icarus/layout/plugin/outdated-browser.locals.js","hash":"037fb56dffc128d3a91c1cb8852998d9539d3fac","modified":1578377291000},{"_id":"themes/icarus/layout/plugin/progressbar.ejs","hash":"34423f74787cc9d67b2598dd69b07c84d5bf2280","modified":1578377291000},{"_id":"themes/icarus/layout/plugin/progressbar.locals.js","hash":"ec80bcfa4c1302c04130a746df4b1298d117de0b","modified":1578377291000},{"_id":"themes/icarus/layout/search/baidu.ejs","hash":"850aa91778100d693a52b10eaa8586c8e3215ee6","modified":1578377291000},{"_id":"themes/icarus/layout/search/baidu.locals.js","hash":"9a43112ac0a58df98bb418563ec04558023e1fae","modified":1578377291000},{"_id":"themes/icarus/layout/search/google-cse.ejs","hash":"4b881a99325a6a0cebf97ac53e09d8fc67f87d29","modified":1578377291000},{"_id":"themes/icarus/layout/search/google-cse.locals.js","hash":"9a43112ac0a58df98bb418563ec04558023e1fae","modified":1578377291000},{"_id":"themes/icarus/layout/search/insight.ejs","hash":"9a27db2a007582ceee7ca4b1eebddbd456893568","modified":1578377291000},{"_id":"themes/icarus/layout/search/insight.locals.js","hash":"9a43112ac0a58df98bb418563ec04558023e1fae","modified":1578377291000},{"_id":"themes/icarus/layout/share/addthis.ejs","hash":"f1c5f337333009d5f00dfbac4864a16ef8f9cb8d","modified":1578377291000},{"_id":"themes/icarus/layout/share/addthis.locals.js","hash":"9a43112ac0a58df98bb418563ec04558023e1fae","modified":1578377291000},{"_id":"themes/icarus/layout/share/addtoany.ejs","hash":"95d3bc1a841bd934b1ae9209ad1af74e743ecb10","modified":1578377291000},{"_id":"themes/icarus/layout/share/addtoany.locals.js","hash":"9a43112ac0a58df98bb418563ec04558023e1fae","modified":1578377291000},{"_id":"themes/icarus/layout/share/bdshare.ejs","hash":"f14c8084b7ee16a091f0bd2ae9039e3bfff7e7b7","modified":1578377291000},{"_id":"themes/icarus/layout/share/bdshare.locals.js","hash":"9a43112ac0a58df98bb418563ec04558023e1fae","modified":1578377291000},{"_id":"themes/icarus/layout/share/sharejs.ejs","hash":"65d08316cc479910ea4f526cd1c299d0104daf7f","modified":1578377291000},{"_id":"themes/icarus/layout/share/sharejs.locals.js","hash":"11976fd4cfed1044be29b476b34c33175c9b4308","modified":1578377291000},{"_id":"themes/icarus/layout/share/sharethis.ejs","hash":"4f2c40f790f3be0a4e79db04f02ea41ba2f4d4c0","modified":1578377291000},{"_id":"themes/icarus/layout/share/sharethis.locals.js","hash":"9a43112ac0a58df98bb418563ec04558023e1fae","modified":1578377291000},{"_id":"themes/icarus/layout/widget/archive.ejs","hash":"eb738a2ac2935ce7a542964d90088613b281dd15","modified":1578377291000},{"_id":"themes/icarus/layout/widget/archive.locals.js","hash":"9a43112ac0a58df98bb418563ec04558023e1fae","modified":1578377291000},{"_id":"themes/icarus/layout/widget/category.ejs","hash":"17e58e537645c4434a1140377ae3e7f43cca4927","modified":1578377291000},{"_id":"themes/icarus/layout/widget/category.locals.js","hash":"9a43112ac0a58df98bb418563ec04558023e1fae","modified":1578377291000},{"_id":"themes/icarus/layout/widget/links.ejs","hash":"bb6510193632413e83227bdffad7c3b37629dcde","modified":1578377291000},{"_id":"themes/icarus/layout/widget/links.locals.js","hash":"872cf1a18e152361f5739c6d5fecc0bf46d59513","modified":1578377291000},{"_id":"themes/icarus/layout/widget/profile.ejs","hash":"b5dfd0db3851bf046f28431c9f2adcecc1e7b1df","modified":1578377291000},{"_id":"themes/icarus/layout/widget/profile.locals.js","hash":"9a43112ac0a58df98bb418563ec04558023e1fae","modified":1578377291000},{"_id":"themes/icarus/layout/widget/recent_posts.ejs","hash":"14a2f4587831e017b93818c06dbe18a7e8a27c1e","modified":1578377291000},{"_id":"themes/icarus/layout/widget/recent_posts.locals.js","hash":"5065aca74ec2c98ec88994636fee8408f769c5f2","modified":1578377291000},{"_id":"themes/icarus/layout/widget/subscribe_email.ejs","hash":"391622e9c1d17bf79180faa617ed8c1ee1871a87","modified":1578377291000},{"_id":"themes/icarus/layout/widget/subscribe_email.locals.js","hash":"aae87fbdb7a1245a0fc0637225a935fc39836916","modified":1578377291000},{"_id":"themes/icarus/layout/widget/tag.ejs","hash":"e41aff420cc4ea1c454de49bd8af0e7a93f3db3f","modified":1578377291000},{"_id":"themes/icarus/layout/widget/tagcloud.ejs","hash":"26fa17afaf0cb345a213816c44c39575a66759ba","modified":1578377291000},{"_id":"themes/icarus/layout/widget/tagcloud.locals.js","hash":"093f59d2f43e7ffa47bee79da15f98705300dfba","modified":1578377291000},{"_id":"themes/icarus/layout/widget/toc.ejs","hash":"b6e0a3d95e8660ceb9a94b6e671ad9a6e345acd1","modified":1578387636481},{"_id":"themes/icarus/layout/widget/toc.locals.js","hash":"e730a7fff2717f17741540e5ed77b89e289fdeab","modified":1578377291000},{"_id":"themes/icarus/source/css/back-to-top.css","hash":"5805bee2445e997d64dfe526b08b5fe0bce357eb","modified":1578377291000},{"_id":"themes/icarus/source/css/insight.css","hash":"22943a610d5cfffedfb823c692f4db2b1f37a4c9","modified":1578377291000},{"_id":"themes/icarus/source/css/progressbar.css","hash":"bbc737b7a8feb19901e792c447a846273779d5c3","modified":1578377291000},{"_id":"themes/icarus/source/css/search.css","hash":"d6a59894819e7431d42b249b6c2fc9ff3b99a488","modified":1578377291000},{"_id":"themes/icarus/source/css/style.styl","hash":"980234fbbc6bcd8a570d526beeae92a0789a3691","modified":1578409867517},{"_id":"themes/icarus/source/images/avatar.png","hash":"0d8236dcca871735500e9d06bbdbe0853ed6775b","modified":1578377291000},{"_id":"themes/icarus/source/images/favicon.svg","hash":"16fd847265845063a16596761cddb32926073dd2","modified":1578377291000},{"_id":"themes/icarus/source/images/logo.svg","hash":"e9b5c1438ddb576693a15d0713b2a1d9ceda4be9","modified":1578377291000},{"_id":"themes/icarus/source/images/og_image.png","hash":"b03f163096ca9c350ec962feee9836277b5c2509","modified":1578377291000},{"_id":"themes/icarus/source/images/thumbnail.svg","hash":"b9c58ff09ed415e6cf08b42b35faa2bc000d5059","modified":1578377291000},{"_id":"themes/icarus/source/js/animation.js","hash":"6a02a4f26c59721d772f40d0481cd67ac870f223","modified":1578386483877},{"_id":"themes/icarus/source/js/back-to-top.js","hash":"b1dcf30577cefe833dc6151757c0a05ea5b5a643","modified":1578377291000},{"_id":"themes/icarus/source/js/gallery.js","hash":"bb74e694457dc23b83ac80cf5aadcd26b60469fd","modified":1578377291000},{"_id":"themes/icarus/source/js/insight.js","hash":"8ba56fd5e4232a05ccef5f8b733c7ecca0814633","modified":1578377291000},{"_id":"themes/icarus/source/js/main.js","hash":"3a6a7e263fe894da89e51bdb6ad22779cb6ddc2d","modified":1578385557997},{"_id":"source/assets/images/00tx.jpg","hash":"da49633f8cfbf4823d1bdb4b22e7da382a8156a4","modified":1548043728000},{"_id":"source/assets/images/favicon-16x16.ico","hash":"6ed49a2d41a8851e1b0310db74d7b278a6d9f7d0","modified":1574780090550},{"_id":"source/assets/images/favicon-32x32.ico","hash":"6ed49a2d41a8851e1b0310db74d7b278a6d9f7d0","modified":1574780090550},{"_id":"source/assets/images/paycode/wxpay.png","hash":"ccf8d95f016997d2bd6943c76721969a3ea3f095","modified":1575903766223},{"_id":"source/assets/images/map/12/ar12-3.jpeg","hash":"50a177bd957283776254a7f8112502a6748a87a1","modified":1578074449289},{"_id":"source/assets/images/map/12/ar12-4.jpg","hash":"c1f01de8625ac80b9246ff96ce30a9c2934ba3ab","modified":1578074591269},{"_id":"source/assets/images/map/12/ar12-5.jpg","hash":"fe080454e584eaa49d1923c335cbc68f702c8377","modified":1578074789129},{"_id":"source/assets/images/map/4/ar4-1.png","hash":"9caf48dca0b43980a5156ae3c779117c8683a716","modified":1575816667242},{"_id":"source/assets/images/map/4/ar4-2.png","hash":"43e77c0ce70edc7519ae79dec5bf4ff734ff7006","modified":1576250214412},{"_id":"source/assets/images/map/4/ar4-3.png","hash":"d37059e1ca0feecea66a4dd8538185df1ee91e05","modified":1576335102592},{"_id":"source/assets/images/map/4/ar4-4.png","hash":"78fbea09ae8b961e35ba83245575c6b0689c8d8f","modified":1576335984008},{"_id":"source/assets/images/map/4/ar4-5.png","hash":"a907bb77deab9efaeaa8cb9d827136c614af54e1","modified":1576421626924},{"_id":"source/assets/images/map/4/ar4-6.png","hash":"6b9ad916a1bdf59383a477e98eed2a12a894fc04","modified":1576422673824},{"_id":"source/assets/images/paycode/alipay.jpg","hash":"b42971592abd20c8f177f63b9f1317e4a5f0ce16","modified":1575903697075},{"_id":"source/assets/images/map/12/ar12-2.jpg","hash":"6c220f8bbeeacf7d537ab94069b9bcd4de873c8f","modified":1578073856161},{"_id":"source/assets/images/map/12/ar12-1.png","hash":"4bfec90ca8e1f7f0e7d3dafa4543489a1cd96f5f","modified":1578072860245},{"_id":"public/search.json","hash":"387fd1e16c00a1198e85b6d521fa9505a769dd23","modified":1578411795822},{"_id":"public/atom.xml","hash":"2dfd1f7ab3c74fa540007f07c8b89395f4d14b2b","modified":1578411795822},{"_id":"public/content.json","hash":"de7b526ac61019a44b73d858641a22d4f316ebfa","modified":1578411795822},{"_id":"public/about/index.html","hash":"49189f2f67d0c19f6a81be9e3f6535002ea9c221","modified":1578411795822},{"_id":"public/categories/index.html","hash":"3f59c52a7f2eca504a8a36628e213184f92c095a","modified":1578411795822},{"_id":"public/tags/index.html","hash":"31810b1dac4f275c7674bc900ecd50f437d5753c","modified":1578411795822},{"_id":"public/archives/13/index.html","hash":"9498fc527d5eee06e6d3a49ddcd079b0ef4812c4","modified":1578411795822},{"_id":"public/archives/12/index.html","hash":"9af9c1f05e6c84b42d543f918c6c1a18aeaa0004","modified":1578411795822},{"_id":"public/archives/10/index.html","hash":"fae773bc16975393d8ff5fab03a7a4c91f5e1301","modified":1578411795822},{"_id":"public/archives/9/index.html","hash":"2999b2a1554606154ed61390654a53ffe4bc44a9","modified":1578411795822},{"_id":"public/archives/8/index.html","hash":"027a9855baae0ddbb4928f59b87d694df7f7ddd2","modified":1578411795822},{"_id":"public/archives/6/index.html","hash":"3ef441450b29ab16c720100955ba50b1810a3cd4","modified":1578411795822},{"_id":"public/archives/7/index.html","hash":"8a4f436e5adc47fba750d68351d44c637261306c","modified":1578411795822},{"_id":"public/archives/5/index.html","hash":"d7ce36d5a75f080bafd09b7e2037e039da08e4c6","modified":1578411795822},{"_id":"public/archives/4/index.html","hash":"510354420337496b023e0b4d95e5b10303f1e83f","modified":1578411795822},{"_id":"public/archives/3/index.html","hash":"0eb1a44c2c5d5223945b814b6f037dadb856f679","modified":1578411795822},{"_id":"public/archives/2/index.html","hash":"e82e4582442d5f651861b5a0376db9c798ea7dca","modified":1578411795822},{"_id":"public/archives/1/index.html","hash":"486fbae1cdb026811a5d8d3b3672741909346674","modified":1578411795822},{"_id":"public/archives/index.html","hash":"b7c4f52eb7a8852044d3b03e3bcc382de267a302","modified":1578411795822},{"_id":"public/archives/page/2/index.html","hash":"3101a3ef11789b8debe32f527022da54b8395ece","modified":1578411795822},{"_id":"public/archives/2019/index.html","hash":"47595438f656d58720c931314ee3957d79b11412","modified":1578411795822},{"_id":"public/archives/2019/page/2/index.html","hash":"243d0df6a6ad23f45cde6469e260e76ad9fc7887","modified":1578411795822},{"_id":"public/archives/2019/11/index.html","hash":"8bed2a3d929606f418f7bb17d7788a9a7dbd9d45","modified":1578411795822},{"_id":"public/archives/2019/12/index.html","hash":"89417d7d871e8b73cd807f1a21a0c87d5b37d469","modified":1578411795822},{"_id":"public/archives/2019/12/page/2/index.html","hash":"009fb224bba8c6f77de5b58990b61e7aa3af496a","modified":1578411795822},{"_id":"public/categories/编程语言/index.html","hash":"10c95504f1fb1d8e0150bd7008a79fd6c6163d2c","modified":1578411795822},{"_id":"public/categories/前端/index.html","hash":"bf32d284b30ef08c4751dfa7411a573086223e04","modified":1578411795822},{"_id":"public/categories/工具使用/index.html","hash":"e46cdfa500421e05623de70f6e8b121ae927986d","modified":1578411795822},{"_id":"public/categories/一个人/index.html","hash":"48834dbfa7d68e4aadeb63d981cae836ab28a5e1","modified":1578411795822},{"_id":"public/categories/前端/JavaScript/index.html","hash":"91548239445e8f23f2084ffb09938e92ac0ce1be","modified":1578411795822},{"_id":"public/categories/其它/index.html","hash":"e94b9c2a057d0164dbf6dcc4de71a5dc68e3a4e5","modified":1578411795822},{"_id":"public/categories/好玩的事/index.html","hash":"0fbf52f8b45b903b10bb58a9d6a7d74459955cfb","modified":1578411795822},{"_id":"public/categories/VueJS/index.html","hash":"03366b55e5e8969fc1b87dcbc044395b54f64d8a","modified":1578411795822},{"_id":"public/categories/前端/CSS/index.html","hash":"f2862b5783a3e05de4c645a04372918be7e348af","modified":1578411795822},{"_id":"public/categories/Linux/index.html","hash":"37c2eb36d69eda4d9f79910180d1998eadfacb60","modified":1578411795822},{"_id":"public/categories/那年夏夜/index.html","hash":"7686c942894b6f30a8149adeb06b96edaccac503","modified":1578411795822},{"_id":"public/index.html","hash":"67b8d94e48caad9c127a6e9395687c359712cd03","modified":1578411795822},{"_id":"public/page/2/index.html","hash":"d1630687596860f368cfa2920c7a18fd1827abec","modified":1578411795822},{"_id":"public/tags/C/index.html","hash":"0ad1bdb0397c1bc5795b0ddd25bf90125cf54166","modified":1578411795822},{"_id":"public/tags/工具使用/index.html","hash":"5684879aa33540beda801cef11f8011d33001091","modified":1578411795822},{"_id":"public/tags/CSS/index.html","hash":"17c8fe05ed3d88e4a06837635a4be7cdc3382385","modified":1578411795822},{"_id":"public/tags/思考/index.html","hash":"7dbf487a53601c7ae032c1a416beeae7e700b7fc","modified":1578411795822},{"_id":"public/tags/兴趣/index.html","hash":"38061635b1ce44435356450d946e493b753e0048","modified":1578411795822},{"_id":"public/tags/Linux/index.html","hash":"fc12e375ee886f275720db28f0e21c64bc28825e","modified":1578411795822},{"_id":"public/tags/生活/index.html","hash":"3629f94ca5a5e37373f4677d75e9d5eaed6df9ec","modified":1578411795822},{"_id":"public/images/avatar.png","hash":"0d8236dcca871735500e9d06bbdbe0853ed6775b","modified":1578411795822},{"_id":"public/images/favicon.svg","hash":"16fd847265845063a16596761cddb32926073dd2","modified":1578411795822},{"_id":"public/images/logo.svg","hash":"e9b5c1438ddb576693a15d0713b2a1d9ceda4be9","modified":1578411795822},{"_id":"public/images/thumbnail.svg","hash":"b9c58ff09ed415e6cf08b42b35faa2bc000d5059","modified":1578411795822},{"_id":"public/images/og_image.png","hash":"b03f163096ca9c350ec962feee9836277b5c2509","modified":1578411795822},{"_id":"public/assets/images/paycode/wxpay.png","hash":"ccf8d95f016997d2bd6943c76721969a3ea3f095","modified":1578411795822},{"_id":"public/assets/images/map/12/ar12-3.jpeg","hash":"50a177bd957283776254a7f8112502a6748a87a1","modified":1578411795822},{"_id":"public/assets/images/map/12/ar12-4.jpg","hash":"c1f01de8625ac80b9246ff96ce30a9c2934ba3ab","modified":1578411795822},{"_id":"public/assets/images/map/12/ar12-5.jpg","hash":"fe080454e584eaa49d1923c335cbc68f702c8377","modified":1578411795822},{"_id":"public/assets/images/map/4/ar4-1.png","hash":"9caf48dca0b43980a5156ae3c779117c8683a716","modified":1578411795822},{"_id":"public/assets/images/map/4/ar4-2.png","hash":"43e77c0ce70edc7519ae79dec5bf4ff734ff7006","modified":1578411795822},{"_id":"public/assets/images/map/4/ar4-3.png","hash":"d37059e1ca0feecea66a4dd8538185df1ee91e05","modified":1578411795822},{"_id":"public/assets/images/map/4/ar4-4.png","hash":"78fbea09ae8b961e35ba83245575c6b0689c8d8f","modified":1578411795822},{"_id":"public/assets/images/map/4/ar4-5.png","hash":"a907bb77deab9efaeaa8cb9d827136c614af54e1","modified":1578411795822},{"_id":"public/assets/images/map/4/ar4-6.png","hash":"6b9ad916a1bdf59383a477e98eed2a12a894fc04","modified":1578411795822},{"_id":"public/assets/images/bg.jpg","hash":"c26df46935a330740f562b773f94fdf8a8415691","modified":1578411795822},{"_id":"public/assets/images/00tx.jpg","hash":"da49633f8cfbf4823d1bdb4b22e7da382a8156a4","modified":1578411795822},{"_id":"public/assets/images/favicon-16x16.ico","hash":"6ed49a2d41a8851e1b0310db74d7b278a6d9f7d0","modified":1578411795822},{"_id":"public/assets/images/favicon-32x32.ico","hash":"6ed49a2d41a8851e1b0310db74d7b278a6d9f7d0","modified":1578411795822},{"_id":"public/assets/images/paycode/alipay.jpg","hash":"b42971592abd20c8f177f63b9f1317e4a5f0ce16","modified":1578411795822},{"_id":"public/css/insight.css","hash":"22943a610d5cfffedfb823c692f4db2b1f37a4c9","modified":1578411795822},{"_id":"public/css/progressbar.css","hash":"bbc737b7a8feb19901e792c447a846273779d5c3","modified":1578411795822},{"_id":"public/css/back-to-top.css","hash":"5805bee2445e997d64dfe526b08b5fe0bce357eb","modified":1578411795822},{"_id":"public/css/search.css","hash":"d6a59894819e7431d42b249b6c2fc9ff3b99a488","modified":1578411795822},{"_id":"public/css/style.css","hash":"4292ac7516d61d3c15a464714923cfa523d545b6","modified":1578411795822},{"_id":"public/js/animation.js","hash":"6a02a4f26c59721d772f40d0481cd67ac870f223","modified":1578411795822},{"_id":"public/js/back-to-top.js","hash":"b1dcf30577cefe833dc6151757c0a05ea5b5a643","modified":1578411795822},{"_id":"public/js/gallery.js","hash":"bb74e694457dc23b83ac80cf5aadcd26b60469fd","modified":1578411795822},{"_id":"public/js/insight.js","hash":"8ba56fd5e4232a05ccef5f8b733c7ecca0814633","modified":1578411795822},{"_id":"public/js/main.js","hash":"3a6a7e263fe894da89e51bdb6ad22779cb6ddc2d","modified":1578411795822},{"_id":"public/assets/images/map/12/ar12-2.jpg","hash":"6c220f8bbeeacf7d537ab94069b9bcd4de873c8f","modified":1578411795822},{"_id":"public/assets/images/map/12/ar12-1.png","hash":"4bfec90ca8e1f7f0e7d3dafa4543489a1cd96f5f","modified":1578411795822}],"Category":[{"name":"编程语言","_id":"ck541mor40004ecfw3x2u7vil"},{"name":"前端","_id":"ck541morb000aecfweb4u4zy5"},{"name":"工具使用","_id":"ck541morf000gecfwbps5f3mw"},{"name":"一个人","_id":"ck541morm000qecfwb8lgf6es"},{"name":"JavaScript","parent":"ck541morb000aecfweb4u4zy5","_id":"ck541moro000vecfwhyge66vi"},{"name":"其它","_id":"ck541morp000zecfw1kgvgm3y"},{"name":"好玩的事","_id":"ck541morr0017ecfwg0dx0z7t"},{"name":"VueJS","_id":"ck541moru001becfw7662393i"},{"name":"CSS","parent":"ck541morb000aecfweb4u4zy5","_id":"ck541morv001decfw8kcr86a8"},{"name":"Linux","_id":"ck541morv001fecfweutj7wmp"},{"name":"那年夏夜","_id":"ck541morw001hecfwb1lzh4j6"}],"Data":[],"Page":[{"title":"about","date":"2019-12-09T14:28:15.000Z","comments":0,"_content":"\n　　**假如一间铁屋子，是绝无窗户而万难破毁的，里面有许多熟睡的人们，不久都要闷死了，然而是从昏睡入死灭，并不感到就死的悲哀。现在你大嚷起来，惊起了较为清醒的几个人，使这不幸的少数者来受无可挽救的临终的苦楚，你倒以为对得起他们么？**\n\n　　**然而几个人既然起来，你不能说决没有毁坏这铁屋的希望。**","source":"about/index.md","raw":"---\ntitle: about\ndate: 2019-12-09 22:28:15\ncomments: false\n---\n\n　　**假如一间铁屋子，是绝无窗户而万难破毁的，里面有许多熟睡的人们，不久都要闷死了，然而是从昏睡入死灭，并不感到就死的悲哀。现在你大嚷起来，惊起了较为清醒的几个人，使这不幸的少数者来受无可挽救的临终的苦楚，你倒以为对得起他们么？**\n\n　　**然而几个人既然起来，你不能说决没有毁坏这铁屋的希望。**","updated":"2019-12-09T14:42:50.347Z","path":"about/index.html","layout":"page","_id":"ck541mor00001ecfwgaao6451","content":"<p>　　<strong>假如一间铁屋子，是绝无窗户而万难破毁的，里面有许多熟睡的人们，不久都要闷死了，然而是从昏睡入死灭，并不感到就死的悲哀。现在你大嚷起来，惊起了较为清醒的几个人，使这不幸的少数者来受无可挽救的临终的苦楚，你倒以为对得起他们么？</strong></p>\n<p>　　<strong>然而几个人既然起来，你不能说决没有毁坏这铁屋的希望。</strong></p>\n","site":{"data":{}},"excerpt":"","more":"<p>　　<strong>假如一间铁屋子，是绝无窗户而万难破毁的，里面有许多熟睡的人们，不久都要闷死了，然而是从昏睡入死灭，并不感到就死的悲哀。现在你大嚷起来，惊起了较为清醒的几个人，使这不幸的少数者来受无可挽救的临终的苦楚，你倒以为对得起他们么？</strong></p>\n<p>　　<strong>然而几个人既然起来，你不能说决没有毁坏这铁屋的希望。</strong></p>\n"},{"title":"categories","date":"2019-11-25T13:53:04.000Z","type":"categories","comments":0,"_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2019-11-25 21:53:04\ntype: \"categories\"\ncomments: false\n---\n","updated":"2019-11-26T11:58:27.302Z","path":"categories/index.html","layout":"page","_id":"ck541mor30003ecfw6sz728gu","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"tags","date":"2019-11-25T13:55:19.000Z","type":"tags","comments":0,"_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2019-11-25 21:55:19\ntype: \"tags\"\ncomments: false\n---\n","updated":"2019-11-26T11:58:21.274Z","path":"tags/index.html","layout":"page","_id":"ck541mor80007ecfw5f13hmqh","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"C++ 标准线程库","date":"2019-11-25T07:50:29.000Z","reward":true,"toc":true,"_content":"\n　　C++11 引入了对多线程语言级别的支持，<thread> 库是C++的标准线程库，它定义了与编写多线程程序相关的类。 相比于传统的POSIX线程标准，<thread> 库更符合C++的编程风格。\n\n　　<thread> 库是跨平台的，这意味着你可以在任意平台上不经修改直接编译同一段多线程代码（前提是你没有在这段代码中调用其它系统相关的API）\n<!-- More -->\n### 创建一个线程\n\nstd::thread 类用来创建一个线程\n\n```cpp\n// dev01.cc\n#include <iostream>\n#include <thread>  // 引入线程库头文件\n\nvoid Display(int index) {\n  std::cout << \"index 的值为!\" << index << std::endl;\n}\n\nint main() {\n  // 创建线程 trd, 传入参数 1\n  std::thread trd(Display, 1);\n\n  // 等待线程 trd 结束\n  trd.join();\n\n  return 0;\n}\n```\n```shell\n编译dev01.cc （需要动态链接pthread库）\ng++ -o dev dev.cc -lpthread && ./dev\n输出：index 的值为 1\n```\n　　std::thread 的初始化构造函数原型为`template <class Fn, class... Args>`, 构造函数的第一个参数为线程要执行的函数，后面是要传递给线程函数的实参。**值得注意的是，线程在thread类实例化之后就开始执行了，不需要显式的调用任何启动线程的函数。**\n\n　　线程启动后，需要在主线程内调用线程对象的 join 函数。join 函数用于阻塞主线程的执行，当新创建的线程执行完成后，主线程继续执行。一个进程内的所有线程共享某些资源，若不调用线程对象的join 函数，一旦主线程执行结束，操作系统将回收这些资源，新创建的线程得不到这些应有的资源就会终止执行并抛出错误。\n\n【拷贝构造函数】\n std::thread 类不支持拷贝构造 `thread (const thread&) = delete;`\n\n【移动构造函数】\nstd::thread 类支持移动构造函数 `thread (thread&& x) noexcept;`\n```cpp\n// dev02.cc\n#include <iostream>\n#include <thread>\n\nvoid Display(int index) {\n  std::cout << \"index 的值为!\" << index << std::endl;\n}\n\nint main() {\n  // 创建线程 trd, 传入参数 1\n  std::thread trd(Display, 1);\n  // 移动动构造一个线程对象\n  // 该操作不会以任何方式影响被移动线程的执行\n  std::thread trd1(std::move(trd));\n\n  // 此时trd对象不再代表任何执行线程\n  // trd.join();\n  trd1.join();\n\n  return 0;\n}\n```\n【赋值操作符】\n 可以使用赋值操作符移动赋值线程对象`thread& operator= (thread&& rhs) noexcept;`\n 不可以使赋值操作符拷贝赋值线程对象`thread& operator= (const thread&) = delete;`\n```cpp\n// dev03.cc\n#include <iostream>\n#include <thread>\n\nvoid Display(int index) {\n  std::cout << \"我是线程 \" << index << std::endl;\n}\n\nint main() {\n  // 创建线程对象数组\n  // 调用类的默认构造函数\n  std::thread trds[3];\n\n  // 使用赋值操作符移动赋值\n  // 该操作不会以任何方式影响被移动线程的执行\n  for(int i = 0; i < 3; i++)\n    trds[i] = std::thread(Display, i + 1);\n\n  // 等待线程结束\n  for(int i = 0; i < 3; i++)\n    trds[i].join();\n\n  return 0;\n}\n```\n```shell\n编译上面的程序输出：\n我是线程 2\n我是线程 3\n我是线程 1\n```\n可以看到，线程的执行顺序是不确定的，这取决于操作系统如何调度线程的执行。\n而且，输出也并不总是这样顺眼，比如下面的输出：\n```shell\n我是线程 我是线程 21我是线程 3\n```\nDisplay 函数中的输出语句是可中断的，当某个线程输出 “我是线程 ” 后，它完全有可能被操作系统挂起，等待一段时间后系统再次启动这个线程，输出剩余的内容。\n\n### 获取线程ID\n\n每个线程都有一个唯一标识，通过调用线程对象的 get_id 函数可以得到这个唯一标识。\n\n```cpp\n// dev04.cc\n#include <iostream>\n#include <thread>\n\nvoid Display(int index) {\n  //std::cout << \"我是线程 \" << index << std::endl;\n}\n\nint main() {\n  std::thread trds[3];\n\n  for(int i = 0; i < 3; i++)\n    trds[i] = std::thread(Display, i + 1);\n\n  for(int i = 0; i < 3; i++) {\n    // 线程ID 的类型为 std::thread::id\n    std::thread::id tid = trds[i].get_id();\n    std::cout << \"线程\" << i + 1 << \" \" << tid << std::endl;\n    trds[i].join();\n  }\n\n  return 0;\n}\n```\n```shell\n编译上面的程序输出：\n线程1 140121399854848\n线程2 140121391462144\n线程3 140121383069440\n```\n\n### 检测线程可连接性\n\n通过调用线程对象的 joinable 函数可以检测线程对象是否是可连接的。\n如果线程对象表示执行线程，则该对象是可连接的。\n在以下任何情况下，线程对象均不可连接：\n1.  线程对象是由默认构造函数生成的\n2. 线程对象已经被移动（通过移动构造函数或赋值操作符）\n3. 已经调用过线程对象的 join 或 detach 函数\n\n```cpp\n// dev05.cc\n#include <iostream>\n#include <thread>\n\nvoid Display(int index) {\n  //std::cout << \"我是线程 \" << index << std::endl;\n}\n\nint main() {\n  // 默认构造 trd1\n  std::thread trd1;\n  // 正常构造 trd2\n  std::thread trd2(Display, 1);\n  // 移动构造 trd3\n  std::thread trd3(std::move(trd2));\n\n  if(trd1.joinable()) {\n    std::cout << \"线程对象trd1可连接\" << std::endl;\n    trd1.join();\n  } else {\n    std::cout << \"线程对象trd1不可连接，它是默认构造的\" << std::endl;\n  }\n  \n  if(trd2.joinable()) {\n    std::cout << \"线程对象trd2可连接\" << std::endl;\n    trd2.join();\n  } else {\n    std::cout << \"线程对象trd2不可连接，它已经被移动了\" << std::endl;\n  }\n\n  if(trd3.joinable()) {\n    std::cout << \"线程对象trd3可连接\" << std::endl;\n    trd3.join();\n  } else {\n    std::cout << \"线程对象trd3不可连接\" << std::endl;\n  }\n\n  if(trd3.joinable()) {\n    std::cout << \"线程对象trd3可连接\" << std::endl;\n    trd3.join();\n  } else {\n    std::cout << \"线程对象trd3现在不可连接了\" << std::endl;\n  }\n\n  return 0;\n}\n```\n```shell\n编译上面的程序输出：\n线程对象trd1不可连接，它是默认构造的\n线程对象trd2不可连接，它已经被移动了\n线程对象trd3可连接\n线程对象trd3现在不可连接了\n```\n\n### 分离线程\n\n调用线程对象的detach函数可以使新创建的线程与主线程分离，与join函数不同的是，detach函数不会阻塞主线程的执行，若主线程早于新线程执行完毕，新线程将终止执行，不会抛出任何错误。\n\n```cpp\n// dev06.cc\n#include <iostream>\n#include <thread>\n#include <chrono>\n\nvoid DelayThread(int s) {\n  // sleep_for函数使线程睡眠s秒\n  std::this_thread::sleep_for(std::chrono::seconds(s));\n  std::cout << s << \"秒过去了\" << std::endl;\n}\n\nint main() {\n  std::thread trd1(DelayThread, 2);\n  std::thread trd2(DelayThread, 8);\n\n  // 分离线程\n  trd1.detach();\n  trd2.detach();\n\n  // 主线程睡眠5s\n  DelayThread(5);\n  return 0;\n}\n```\n```shell\n编译上面的程序输出：\n2秒过去了\n5秒过去了\n```\n\n### 交换线程\n\n通过调用线程对象的swap函数可以交换两个线程\n\n```cpp\n// dev07.cc\n#include <iostream>\n#include <thread>\n\nvoid Display(int index) {\n  // ...\n}\n\nint main() {\n  std::thread trd1(Display, 2);\n  std::thread trd2(Display, 8);\n\n  std::cout << \"交换前：\" << std::endl;\n  std::cout << \"trd1 ID: \" << trd1.get_id() << std::endl;\n  std::cout << \"trd2 ID: \" << trd2.get_id() << std::endl;\n\n  // 交换两个线程\n  trd1.swap(trd2);\n  // 同样可以调用非成员函数交换两个线程\n  // swap(trd1, trd2);\n\n  std::cout << \"交换后：\" << std::endl;\n  std::cout << \"trd1 ID: \" << trd1.get_id() << std::endl;\n  std::cout << \"trd2 ID: \" << trd2.get_id() << std::endl;\n\n  trd1.join();\n  trd2.join();\n\n  return 0;\n}\n```\n```shell\n编译上面的程序输出：\n交换前：\ntrd1 ID: 140593231992576\ntrd2 ID: 140593223599872\n交换后：\ntrd1 ID: 140593223599872\ntrd2 ID: 140593231992576\n```\n\n### 获取硬件并发数量\n\n有时我们想知道处理器支持的硬件并发数量，可以调用线程类的静态函数 hardware_concurrency 来获取这个值，该函数返回值是一个无符号整数。\n\n```cpp\n// dev08.cc\n#include <iostream>\n#include <thread>\n\nint main() {\n  std::cout << std::thread::hardware_concurrency();\n  return 0;\n}\n```\n```shell\n编译上面的程序输出（在我的四核心处理器上）\n4\n编译上面的程序输出（在我的单核心处理器上）\n1\n```\n值得注意的是：该函数的返回值不一定与系统中可用的处理器或内核的实际数量相匹配，系统可以为每个处理单元支持多个线程，或限制对程序的资源访问。\n\n### 访问当前线程\n\n　　std::this_thread 命名空间定义了几个访问当前线程的函数，你可以在线程函数中直接调用这些函数来实现一些功能。\n\n+ get_id\n`thread::id get_id() noexcept;`\n获取当先线程ID\n+ yield\n`void yield() noexcept;`\n阻塞当先线程的执行\n+ sleep_for\n`template <class Rep, class Period>`\n`void sleep_for (const chrono::duration<Rep,Period>& rel_time);`\n阻塞当前线程的执行一段时间\n\n```cpp\n// dev09.cc\n#include <iostream>\n#include <thread>\n#include <chrono>\n\nbool ready = false;\n\nvoid SetReady() {\n  // 等待 5 秒钟后设置全局变量 ready 的值为 true\n  std::this_thread::sleep_for(std::chrono::seconds(5));\n  std::cout << \"Display 函数即将继续执行\" << std::endl;\n  ready = true;\n}\n\nvoid Display() {\n  // 阻塞当前线程的执行，直到SetReady 函数设置\n  // 全局变量 ready 的值为 true 的时候才继续执行\n  while (!ready) {\n    std::this_thread::yield();\n  }\n  std::cout << \"线程ID: \" << std::this_thread::get_id() << std::endl;\n}\n\n\nint main () {\n  std::thread trd1(SetReady);\n  std::thread trd2(Display);\n  trd1.join();\n  trd2.join();\n\n  return 0;\n}\n```\n```shell\n编译上面的程序输出：\nDisplay 函数即将继续执行\n线程ID: 140362842375936\n```\n\n+ sleep_until\n`template <class Clock, class Duration>`\n`void sleep_until (const chrono::time_point<Clock,Duration>& abs_time);`\n阻塞当前线程的执行直到某个时间\n\n```cpp\n// dev10.cc\n// this_thread::sleep_for example\n\n#include <iostream>\n#include <iomanip>　　// std::put_time\n#include <thread>\n#include <chrono>\n#include <ctime>　// std::time_t, std::tm, std::localtime, std::mktime\n\nint main() {\n  using std::chrono::system_clock;\n  std::time_t tt = system_clock::to_time_t(system_clock::now());\n\n  struct std::tm * ptm = std::localtime(&tt);\n  std::cout << \"Current time: \" << std::put_time(ptm,\"%X\") << '\\n';\n\n  std::cout << \"Waiting for the next minute to begin...\\n\";\n  ++ptm->tm_min; ptm->tm_sec=0;\n  std::this_thread::sleep_until(system_clock::from_time_t(mktime(ptm)));\n\n  std::cout << std::put_time(ptm,\"%X\") << \" reached!\\n\";\n\n  return 0;\n}\n```\n```shell\n编译上面的程序输出：\nCurrent time: 22:08:36\nWaiting for the next minute to begin...\n22:09:00 reached!\n```\n上面是摘自CPP官网的一段程序，主函数内生成一个关于系统时间的结构体，输出当前时间后使结构体内的分钟数自增1，之后调动 sleep_until 函数阻塞当前线程的执行直到下一分钟的到来。\n\n\n以上是对C++标准线程库的简单介绍，此文章内的全部代码可在下面的链接中找到：[https://github.com/zsimline/sweetea/tree/master/code/archives-667](https://github.com/zsimline/sweetea/tree/master/code/archives-667)\n\n参考资料：\n[1] CPP官网 [http://www.cplusplus.com/reference/thread/](http://www.cplusplus.com/reference/thread/)\n","source":"_posts/C++标准线程库.md","raw":"---\ntitle: C++ 标准线程库\ndate: 2019-11-25 15:50:29\npermalink: 1\ncategories: 编程语言\ntags: C++\nreward: true\ntoc: true\n---\n\n　　C++11 引入了对多线程语言级别的支持，<thread> 库是C++的标准线程库，它定义了与编写多线程程序相关的类。 相比于传统的POSIX线程标准，<thread> 库更符合C++的编程风格。\n\n　　<thread> 库是跨平台的，这意味着你可以在任意平台上不经修改直接编译同一段多线程代码（前提是你没有在这段代码中调用其它系统相关的API）\n<!-- More -->\n### 创建一个线程\n\nstd::thread 类用来创建一个线程\n\n```cpp\n// dev01.cc\n#include <iostream>\n#include <thread>  // 引入线程库头文件\n\nvoid Display(int index) {\n  std::cout << \"index 的值为!\" << index << std::endl;\n}\n\nint main() {\n  // 创建线程 trd, 传入参数 1\n  std::thread trd(Display, 1);\n\n  // 等待线程 trd 结束\n  trd.join();\n\n  return 0;\n}\n```\n```shell\n编译dev01.cc （需要动态链接pthread库）\ng++ -o dev dev.cc -lpthread && ./dev\n输出：index 的值为 1\n```\n　　std::thread 的初始化构造函数原型为`template <class Fn, class... Args>`, 构造函数的第一个参数为线程要执行的函数，后面是要传递给线程函数的实参。**值得注意的是，线程在thread类实例化之后就开始执行了，不需要显式的调用任何启动线程的函数。**\n\n　　线程启动后，需要在主线程内调用线程对象的 join 函数。join 函数用于阻塞主线程的执行，当新创建的线程执行完成后，主线程继续执行。一个进程内的所有线程共享某些资源，若不调用线程对象的join 函数，一旦主线程执行结束，操作系统将回收这些资源，新创建的线程得不到这些应有的资源就会终止执行并抛出错误。\n\n【拷贝构造函数】\n std::thread 类不支持拷贝构造 `thread (const thread&) = delete;`\n\n【移动构造函数】\nstd::thread 类支持移动构造函数 `thread (thread&& x) noexcept;`\n```cpp\n// dev02.cc\n#include <iostream>\n#include <thread>\n\nvoid Display(int index) {\n  std::cout << \"index 的值为!\" << index << std::endl;\n}\n\nint main() {\n  // 创建线程 trd, 传入参数 1\n  std::thread trd(Display, 1);\n  // 移动动构造一个线程对象\n  // 该操作不会以任何方式影响被移动线程的执行\n  std::thread trd1(std::move(trd));\n\n  // 此时trd对象不再代表任何执行线程\n  // trd.join();\n  trd1.join();\n\n  return 0;\n}\n```\n【赋值操作符】\n 可以使用赋值操作符移动赋值线程对象`thread& operator= (thread&& rhs) noexcept;`\n 不可以使赋值操作符拷贝赋值线程对象`thread& operator= (const thread&) = delete;`\n```cpp\n// dev03.cc\n#include <iostream>\n#include <thread>\n\nvoid Display(int index) {\n  std::cout << \"我是线程 \" << index << std::endl;\n}\n\nint main() {\n  // 创建线程对象数组\n  // 调用类的默认构造函数\n  std::thread trds[3];\n\n  // 使用赋值操作符移动赋值\n  // 该操作不会以任何方式影响被移动线程的执行\n  for(int i = 0; i < 3; i++)\n    trds[i] = std::thread(Display, i + 1);\n\n  // 等待线程结束\n  for(int i = 0; i < 3; i++)\n    trds[i].join();\n\n  return 0;\n}\n```\n```shell\n编译上面的程序输出：\n我是线程 2\n我是线程 3\n我是线程 1\n```\n可以看到，线程的执行顺序是不确定的，这取决于操作系统如何调度线程的执行。\n而且，输出也并不总是这样顺眼，比如下面的输出：\n```shell\n我是线程 我是线程 21我是线程 3\n```\nDisplay 函数中的输出语句是可中断的，当某个线程输出 “我是线程 ” 后，它完全有可能被操作系统挂起，等待一段时间后系统再次启动这个线程，输出剩余的内容。\n\n### 获取线程ID\n\n每个线程都有一个唯一标识，通过调用线程对象的 get_id 函数可以得到这个唯一标识。\n\n```cpp\n// dev04.cc\n#include <iostream>\n#include <thread>\n\nvoid Display(int index) {\n  //std::cout << \"我是线程 \" << index << std::endl;\n}\n\nint main() {\n  std::thread trds[3];\n\n  for(int i = 0; i < 3; i++)\n    trds[i] = std::thread(Display, i + 1);\n\n  for(int i = 0; i < 3; i++) {\n    // 线程ID 的类型为 std::thread::id\n    std::thread::id tid = trds[i].get_id();\n    std::cout << \"线程\" << i + 1 << \" \" << tid << std::endl;\n    trds[i].join();\n  }\n\n  return 0;\n}\n```\n```shell\n编译上面的程序输出：\n线程1 140121399854848\n线程2 140121391462144\n线程3 140121383069440\n```\n\n### 检测线程可连接性\n\n通过调用线程对象的 joinable 函数可以检测线程对象是否是可连接的。\n如果线程对象表示执行线程，则该对象是可连接的。\n在以下任何情况下，线程对象均不可连接：\n1.  线程对象是由默认构造函数生成的\n2. 线程对象已经被移动（通过移动构造函数或赋值操作符）\n3. 已经调用过线程对象的 join 或 detach 函数\n\n```cpp\n// dev05.cc\n#include <iostream>\n#include <thread>\n\nvoid Display(int index) {\n  //std::cout << \"我是线程 \" << index << std::endl;\n}\n\nint main() {\n  // 默认构造 trd1\n  std::thread trd1;\n  // 正常构造 trd2\n  std::thread trd2(Display, 1);\n  // 移动构造 trd3\n  std::thread trd3(std::move(trd2));\n\n  if(trd1.joinable()) {\n    std::cout << \"线程对象trd1可连接\" << std::endl;\n    trd1.join();\n  } else {\n    std::cout << \"线程对象trd1不可连接，它是默认构造的\" << std::endl;\n  }\n  \n  if(trd2.joinable()) {\n    std::cout << \"线程对象trd2可连接\" << std::endl;\n    trd2.join();\n  } else {\n    std::cout << \"线程对象trd2不可连接，它已经被移动了\" << std::endl;\n  }\n\n  if(trd3.joinable()) {\n    std::cout << \"线程对象trd3可连接\" << std::endl;\n    trd3.join();\n  } else {\n    std::cout << \"线程对象trd3不可连接\" << std::endl;\n  }\n\n  if(trd3.joinable()) {\n    std::cout << \"线程对象trd3可连接\" << std::endl;\n    trd3.join();\n  } else {\n    std::cout << \"线程对象trd3现在不可连接了\" << std::endl;\n  }\n\n  return 0;\n}\n```\n```shell\n编译上面的程序输出：\n线程对象trd1不可连接，它是默认构造的\n线程对象trd2不可连接，它已经被移动了\n线程对象trd3可连接\n线程对象trd3现在不可连接了\n```\n\n### 分离线程\n\n调用线程对象的detach函数可以使新创建的线程与主线程分离，与join函数不同的是，detach函数不会阻塞主线程的执行，若主线程早于新线程执行完毕，新线程将终止执行，不会抛出任何错误。\n\n```cpp\n// dev06.cc\n#include <iostream>\n#include <thread>\n#include <chrono>\n\nvoid DelayThread(int s) {\n  // sleep_for函数使线程睡眠s秒\n  std::this_thread::sleep_for(std::chrono::seconds(s));\n  std::cout << s << \"秒过去了\" << std::endl;\n}\n\nint main() {\n  std::thread trd1(DelayThread, 2);\n  std::thread trd2(DelayThread, 8);\n\n  // 分离线程\n  trd1.detach();\n  trd2.detach();\n\n  // 主线程睡眠5s\n  DelayThread(5);\n  return 0;\n}\n```\n```shell\n编译上面的程序输出：\n2秒过去了\n5秒过去了\n```\n\n### 交换线程\n\n通过调用线程对象的swap函数可以交换两个线程\n\n```cpp\n// dev07.cc\n#include <iostream>\n#include <thread>\n\nvoid Display(int index) {\n  // ...\n}\n\nint main() {\n  std::thread trd1(Display, 2);\n  std::thread trd2(Display, 8);\n\n  std::cout << \"交换前：\" << std::endl;\n  std::cout << \"trd1 ID: \" << trd1.get_id() << std::endl;\n  std::cout << \"trd2 ID: \" << trd2.get_id() << std::endl;\n\n  // 交换两个线程\n  trd1.swap(trd2);\n  // 同样可以调用非成员函数交换两个线程\n  // swap(trd1, trd2);\n\n  std::cout << \"交换后：\" << std::endl;\n  std::cout << \"trd1 ID: \" << trd1.get_id() << std::endl;\n  std::cout << \"trd2 ID: \" << trd2.get_id() << std::endl;\n\n  trd1.join();\n  trd2.join();\n\n  return 0;\n}\n```\n```shell\n编译上面的程序输出：\n交换前：\ntrd1 ID: 140593231992576\ntrd2 ID: 140593223599872\n交换后：\ntrd1 ID: 140593223599872\ntrd2 ID: 140593231992576\n```\n\n### 获取硬件并发数量\n\n有时我们想知道处理器支持的硬件并发数量，可以调用线程类的静态函数 hardware_concurrency 来获取这个值，该函数返回值是一个无符号整数。\n\n```cpp\n// dev08.cc\n#include <iostream>\n#include <thread>\n\nint main() {\n  std::cout << std::thread::hardware_concurrency();\n  return 0;\n}\n```\n```shell\n编译上面的程序输出（在我的四核心处理器上）\n4\n编译上面的程序输出（在我的单核心处理器上）\n1\n```\n值得注意的是：该函数的返回值不一定与系统中可用的处理器或内核的实际数量相匹配，系统可以为每个处理单元支持多个线程，或限制对程序的资源访问。\n\n### 访问当前线程\n\n　　std::this_thread 命名空间定义了几个访问当前线程的函数，你可以在线程函数中直接调用这些函数来实现一些功能。\n\n+ get_id\n`thread::id get_id() noexcept;`\n获取当先线程ID\n+ yield\n`void yield() noexcept;`\n阻塞当先线程的执行\n+ sleep_for\n`template <class Rep, class Period>`\n`void sleep_for (const chrono::duration<Rep,Period>& rel_time);`\n阻塞当前线程的执行一段时间\n\n```cpp\n// dev09.cc\n#include <iostream>\n#include <thread>\n#include <chrono>\n\nbool ready = false;\n\nvoid SetReady() {\n  // 等待 5 秒钟后设置全局变量 ready 的值为 true\n  std::this_thread::sleep_for(std::chrono::seconds(5));\n  std::cout << \"Display 函数即将继续执行\" << std::endl;\n  ready = true;\n}\n\nvoid Display() {\n  // 阻塞当前线程的执行，直到SetReady 函数设置\n  // 全局变量 ready 的值为 true 的时候才继续执行\n  while (!ready) {\n    std::this_thread::yield();\n  }\n  std::cout << \"线程ID: \" << std::this_thread::get_id() << std::endl;\n}\n\n\nint main () {\n  std::thread trd1(SetReady);\n  std::thread trd2(Display);\n  trd1.join();\n  trd2.join();\n\n  return 0;\n}\n```\n```shell\n编译上面的程序输出：\nDisplay 函数即将继续执行\n线程ID: 140362842375936\n```\n\n+ sleep_until\n`template <class Clock, class Duration>`\n`void sleep_until (const chrono::time_point<Clock,Duration>& abs_time);`\n阻塞当前线程的执行直到某个时间\n\n```cpp\n// dev10.cc\n// this_thread::sleep_for example\n\n#include <iostream>\n#include <iomanip>　　// std::put_time\n#include <thread>\n#include <chrono>\n#include <ctime>　// std::time_t, std::tm, std::localtime, std::mktime\n\nint main() {\n  using std::chrono::system_clock;\n  std::time_t tt = system_clock::to_time_t(system_clock::now());\n\n  struct std::tm * ptm = std::localtime(&tt);\n  std::cout << \"Current time: \" << std::put_time(ptm,\"%X\") << '\\n';\n\n  std::cout << \"Waiting for the next minute to begin...\\n\";\n  ++ptm->tm_min; ptm->tm_sec=0;\n  std::this_thread::sleep_until(system_clock::from_time_t(mktime(ptm)));\n\n  std::cout << std::put_time(ptm,\"%X\") << \" reached!\\n\";\n\n  return 0;\n}\n```\n```shell\n编译上面的程序输出：\nCurrent time: 22:08:36\nWaiting for the next minute to begin...\n22:09:00 reached!\n```\n上面是摘自CPP官网的一段程序，主函数内生成一个关于系统时间的结构体，输出当前时间后使结构体内的分钟数自增1，之后调动 sleep_until 函数阻塞当前线程的执行直到下一分钟的到来。\n\n\n以上是对C++标准线程库的简单介绍，此文章内的全部代码可在下面的链接中找到：[https://github.com/zsimline/sweetea/tree/master/code/archives-667](https://github.com/zsimline/sweetea/tree/master/code/archives-667)\n\n参考资料：\n[1] CPP官网 [http://www.cplusplus.com/reference/thread/](http://www.cplusplus.com/reference/thread/)\n","slug":"1","published":1,"updated":"2020-01-07T07:50:15.989Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck541moqr0000ecfwgyzv8bsk","content":"<p>　　C++11 引入了对多线程语言级别的支持，<thread> 库是C++的标准线程库，它定义了与编写多线程程序相关的类。 相比于传统的POSIX线程标准，<thread> 库更符合C++的编程风格。</p>\n<p>　　<thread> 库是跨平台的，这意味着你可以在任意平台上不经修改直接编译同一段多线程代码（前提是你没有在这段代码中调用其它系统相关的API）</p>\n<a id=\"more\"></a>\n<h3 id=\"创建一个线程\"><a href=\"#创建一个线程\" class=\"headerlink\" title=\"创建一个线程\"></a>创建一个线程</h3><p>std::thread 类用来创建一个线程</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// dev01.cc</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;thread&gt;  // 引入线程库头文件</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Display</span><span class=\"params\">(<span class=\"keyword\">int</span> index)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"index 的值为!\"</span> &lt;&lt; index &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// 创建线程 trd, 传入参数 1</span></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"function\">thread <span class=\"title\">trd</span><span class=\"params\">(Display, <span class=\"number\">1</span>)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 等待线程 trd 结束</span></span><br><span class=\"line\">  trd.join();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">编译dev01.cc （需要动态链接pthread库）</span><br><span class=\"line\">g++ -o dev dev.cc -lpthread &amp;&amp; ./dev</span><br><span class=\"line\">输出：index 的值为 1</span><br></pre></td></tr></table></figure>\n<p>　　std::thread 的初始化构造函数原型为<code>template &lt;class Fn, class... Args&gt;</code>, 构造函数的第一个参数为线程要执行的函数，后面是要传递给线程函数的实参。<strong>值得注意的是，线程在thread类实例化之后就开始执行了，不需要显式的调用任何启动线程的函数。</strong></p>\n<p>　　线程启动后，需要在主线程内调用线程对象的 join 函数。join 函数用于阻塞主线程的执行，当新创建的线程执行完成后，主线程继续执行。一个进程内的所有线程共享某些资源，若不调用线程对象的join 函数，一旦主线程执行结束，操作系统将回收这些资源，新创建的线程得不到这些应有的资源就会终止执行并抛出错误。</p>\n<p>【拷贝构造函数】<br> std::thread 类不支持拷贝构造 <code>thread (const thread&amp;) = delete;</code></p>\n<p>【移动构造函数】<br>std::thread 类支持移动构造函数 <code>thread (thread&amp;&amp; x) noexcept;</code></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// dev02.cc</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;thread&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Display</span><span class=\"params\">(<span class=\"keyword\">int</span> index)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"index 的值为!\"</span> &lt;&lt; index &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// 创建线程 trd, 传入参数 1</span></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"function\">thread <span class=\"title\">trd</span><span class=\"params\">(Display, <span class=\"number\">1</span>)</span></span>;</span><br><span class=\"line\">  <span class=\"comment\">// 移动动构造一个线程对象</span></span><br><span class=\"line\">  <span class=\"comment\">// 该操作不会以任何方式影响被移动线程的执行</span></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"function\">thread <span class=\"title\">trd1</span><span class=\"params\">(<span class=\"built_in\">std</span>::move(trd))</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 此时trd对象不再代表任何执行线程</span></span><br><span class=\"line\">  <span class=\"comment\">// trd.join();</span></span><br><span class=\"line\">  trd1.join();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>【赋值操作符】<br> 可以使用赋值操作符移动赋值线程对象<code>thread&amp; operator= (thread&amp;&amp; rhs) noexcept;</code><br> 不可以使赋值操作符拷贝赋值线程对象<code>thread&amp; operator= (const thread&amp;) = delete;</code></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// dev03.cc</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;thread&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Display</span><span class=\"params\">(<span class=\"keyword\">int</span> index)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"我是线程 \"</span> &lt;&lt; index &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// 创建线程对象数组</span></span><br><span class=\"line\">  <span class=\"comment\">// 调用类的默认构造函数</span></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::thread trds[<span class=\"number\">3</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 使用赋值操作符移动赋值</span></span><br><span class=\"line\">  <span class=\"comment\">// 该操作不会以任何方式影响被移动线程的执行</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">3</span>; i++)</span><br><span class=\"line\">    trds[i] = <span class=\"built_in\">std</span>::thread(Display, i + <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 等待线程结束</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">3</span>; i++)</span><br><span class=\"line\">    trds[i].join();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">编译上面的程序输出：</span><br><span class=\"line\">我是线程 2</span><br><span class=\"line\">我是线程 3</span><br><span class=\"line\">我是线程 1</span><br></pre></td></tr></table></figure>\n<p>可以看到，线程的执行顺序是不确定的，这取决于操作系统如何调度线程的执行。<br>而且，输出也并不总是这样顺眼，比如下面的输出：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">我是线程 我是线程 21我是线程 3</span><br></pre></td></tr></table></figure>\n<p>Display 函数中的输出语句是可中断的，当某个线程输出 “我是线程 ” 后，它完全有可能被操作系统挂起，等待一段时间后系统再次启动这个线程，输出剩余的内容。</p>\n<h3 id=\"获取线程ID\"><a href=\"#获取线程ID\" class=\"headerlink\" title=\"获取线程ID\"></a>获取线程ID</h3><p>每个线程都有一个唯一标识，通过调用线程对象的 get_id 函数可以得到这个唯一标识。</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// dev04.cc</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;thread&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Display</span><span class=\"params\">(<span class=\"keyword\">int</span> index)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//std::cout &lt;&lt; \"我是线程 \" &lt;&lt; index &lt;&lt; std::endl;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::thread trds[<span class=\"number\">3</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">3</span>; i++)</span><br><span class=\"line\">    trds[i] = <span class=\"built_in\">std</span>::thread(Display, i + <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">3</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 线程ID 的类型为 std::thread::id</span></span><br><span class=\"line\">    <span class=\"built_in\">std</span>::thread::id tid = trds[i].get_id();</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"线程\"</span> &lt;&lt; i + <span class=\"number\">1</span> &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; tid &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">    trds[i].join();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">编译上面的程序输出：</span><br><span class=\"line\">线程1 140121399854848</span><br><span class=\"line\">线程2 140121391462144</span><br><span class=\"line\">线程3 140121383069440</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"检测线程可连接性\"><a href=\"#检测线程可连接性\" class=\"headerlink\" title=\"检测线程可连接性\"></a>检测线程可连接性</h3><p>通过调用线程对象的 joinable 函数可以检测线程对象是否是可连接的。<br>如果线程对象表示执行线程，则该对象是可连接的。<br>在以下任何情况下，线程对象均不可连接：</p>\n<ol>\n<li>线程对象是由默认构造函数生成的</li>\n<li>线程对象已经被移动（通过移动构造函数或赋值操作符）</li>\n<li>已经调用过线程对象的 join 或 detach 函数</li>\n</ol>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// dev05.cc</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;thread&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Display</span><span class=\"params\">(<span class=\"keyword\">int</span> index)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//std::cout &lt;&lt; \"我是线程 \" &lt;&lt; index &lt;&lt; std::endl;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// 默认构造 trd1</span></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::thread trd1;</span><br><span class=\"line\">  <span class=\"comment\">// 正常构造 trd2</span></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"function\">thread <span class=\"title\">trd2</span><span class=\"params\">(Display, <span class=\"number\">1</span>)</span></span>;</span><br><span class=\"line\">  <span class=\"comment\">// 移动构造 trd3</span></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"function\">thread <span class=\"title\">trd3</span><span class=\"params\">(<span class=\"built_in\">std</span>::move(trd2))</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span>(trd1.joinable()) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"线程对象trd1可连接\"</span> &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">    trd1.join();</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"线程对象trd1不可连接，它是默认构造的\"</span> &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">if</span>(trd2.joinable()) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"线程对象trd2可连接\"</span> &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">    trd2.join();</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"线程对象trd2不可连接，它已经被移动了\"</span> &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span>(trd3.joinable()) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"线程对象trd3可连接\"</span> &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">    trd3.join();</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"线程对象trd3不可连接\"</span> &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span>(trd3.joinable()) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"线程对象trd3可连接\"</span> &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">    trd3.join();</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"线程对象trd3现在不可连接了\"</span> &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">编译上面的程序输出：</span><br><span class=\"line\">线程对象trd1不可连接，它是默认构造的</span><br><span class=\"line\">线程对象trd2不可连接，它已经被移动了</span><br><span class=\"line\">线程对象trd3可连接</span><br><span class=\"line\">线程对象trd3现在不可连接了</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"分离线程\"><a href=\"#分离线程\" class=\"headerlink\" title=\"分离线程\"></a>分离线程</h3><p>调用线程对象的detach函数可以使新创建的线程与主线程分离，与join函数不同的是，detach函数不会阻塞主线程的执行，若主线程早于新线程执行完毕，新线程将终止执行，不会抛出任何错误。</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// dev06.cc</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;thread&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;chrono&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">DelayThread</span><span class=\"params\">(<span class=\"keyword\">int</span> s)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// sleep_for函数使线程睡眠s秒</span></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::this_thread::sleep_for(<span class=\"built_in\">std</span>::chrono::seconds(s));</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; s &lt;&lt; <span class=\"string\">\"秒过去了\"</span> &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"function\">thread <span class=\"title\">trd1</span><span class=\"params\">(DelayThread, <span class=\"number\">2</span>)</span></span>;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"function\">thread <span class=\"title\">trd2</span><span class=\"params\">(DelayThread, <span class=\"number\">8</span>)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 分离线程</span></span><br><span class=\"line\">  trd1.detach();</span><br><span class=\"line\">  trd2.detach();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 主线程睡眠5s</span></span><br><span class=\"line\">  DelayThread(<span class=\"number\">5</span>);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">编译上面的程序输出：</span><br><span class=\"line\">2秒过去了</span><br><span class=\"line\">5秒过去了</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"交换线程\"><a href=\"#交换线程\" class=\"headerlink\" title=\"交换线程\"></a>交换线程</h3><p>通过调用线程对象的swap函数可以交换两个线程</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// dev07.cc</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;thread&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Display</span><span class=\"params\">(<span class=\"keyword\">int</span> index)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"function\">thread <span class=\"title\">trd1</span><span class=\"params\">(Display, <span class=\"number\">2</span>)</span></span>;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"function\">thread <span class=\"title\">trd2</span><span class=\"params\">(Display, <span class=\"number\">8</span>)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"交换前：\"</span> &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"trd1 ID: \"</span> &lt;&lt; trd1.get_id() &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"trd2 ID: \"</span> &lt;&lt; trd2.get_id() &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 交换两个线程</span></span><br><span class=\"line\">  trd1.swap(trd2);</span><br><span class=\"line\">  <span class=\"comment\">// 同样可以调用非成员函数交换两个线程</span></span><br><span class=\"line\">  <span class=\"comment\">// swap(trd1, trd2);</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"交换后：\"</span> &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"trd1 ID: \"</span> &lt;&lt; trd1.get_id() &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"trd2 ID: \"</span> &lt;&lt; trd2.get_id() &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  trd1.join();</span><br><span class=\"line\">  trd2.join();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">编译上面的程序输出：</span><br><span class=\"line\">交换前：</span><br><span class=\"line\">trd1 ID: 140593231992576</span><br><span class=\"line\">trd2 ID: 140593223599872</span><br><span class=\"line\">交换后：</span><br><span class=\"line\">trd1 ID: 140593223599872</span><br><span class=\"line\">trd2 ID: 140593231992576</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"获取硬件并发数量\"><a href=\"#获取硬件并发数量\" class=\"headerlink\" title=\"获取硬件并发数量\"></a>获取硬件并发数量</h3><p>有时我们想知道处理器支持的硬件并发数量，可以调用线程类的静态函数 hardware_concurrency 来获取这个值，该函数返回值是一个无符号整数。</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// dev08.cc</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;thread&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"built_in\">std</span>::thread::hardware_concurrency();</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">编译上面的程序输出（在我的四核心处理器上）</span><br><span class=\"line\">4</span><br><span class=\"line\">编译上面的程序输出（在我的单核心处理器上）</span><br><span class=\"line\">1</span><br></pre></td></tr></table></figure>\n<p>值得注意的是：该函数的返回值不一定与系统中可用的处理器或内核的实际数量相匹配，系统可以为每个处理单元支持多个线程，或限制对程序的资源访问。</p>\n<h3 id=\"访问当前线程\"><a href=\"#访问当前线程\" class=\"headerlink\" title=\"访问当前线程\"></a>访问当前线程</h3><p>　　std::this_thread 命名空间定义了几个访问当前线程的函数，你可以在线程函数中直接调用这些函数来实现一些功能。</p>\n<ul>\n<li>get_id<br><code>thread::id get_id() noexcept;</code><br>获取当先线程ID</li>\n<li>yield<br><code>void yield() noexcept;</code><br>阻塞当先线程的执行</li>\n<li>sleep_for<br><code>template &lt;class Rep, class Period&gt;</code><br><code>void sleep_for (const chrono::duration&lt;Rep,Period&gt;&amp; rel_time);</code><br>阻塞当前线程的执行一段时间</li>\n</ul>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// dev09.cc</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;thread&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;chrono&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">bool</span> ready = <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">SetReady</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// 等待 5 秒钟后设置全局变量 ready 的值为 true</span></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::this_thread::sleep_for(<span class=\"built_in\">std</span>::chrono::seconds(<span class=\"number\">5</span>));</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"Display 函数即将继续执行\"</span> &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">  ready = <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Display</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// 阻塞当前线程的执行，直到SetReady 函数设置</span></span><br><span class=\"line\">  <span class=\"comment\">// 全局变量 ready 的值为 true 的时候才继续执行</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (!ready) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::this_thread::yield();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"线程ID: \"</span> &lt;&lt; <span class=\"built_in\">std</span>::this_thread::get_id() &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span> <span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"function\">thread <span class=\"title\">trd1</span><span class=\"params\">(SetReady)</span></span>;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"function\">thread <span class=\"title\">trd2</span><span class=\"params\">(Display)</span></span>;</span><br><span class=\"line\">  trd1.join();</span><br><span class=\"line\">  trd2.join();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">编译上面的程序输出：</span><br><span class=\"line\">Display 函数即将继续执行</span><br><span class=\"line\">线程ID: 140362842375936</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>sleep_until<br><code>template &lt;class Clock, class Duration&gt;</code><br><code>void sleep_until (const chrono::time_point&lt;Clock,Duration&gt;&amp; abs_time);</code><br>阻塞当前线程的执行直到某个时间</li>\n</ul>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// dev10.cc</span></span><br><span class=\"line\"><span class=\"comment\">// this_thread::sleep_for example</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iomanip&gt;　　// std::put_time</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;thread&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;chrono&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;ctime&gt;　// std::time_t, std::tm, std::localtime, std::mktime</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">using</span> <span class=\"built_in\">std</span>::chrono::system_clock;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"keyword\">time_t</span> tt = system_clock::<span class=\"keyword\">to_time_t</span>(system_clock::now());</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">std</span>:</span>:tm * ptm = <span class=\"built_in\">std</span>::localtime(&amp;tt);</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"Current time: \"</span> &lt;&lt; <span class=\"built_in\">std</span>::put_time(ptm,<span class=\"string\">\"%X\"</span>) &lt;&lt; <span class=\"string\">'\\n'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"Waiting for the next minute to begin...\\n\"</span>;</span><br><span class=\"line\">  ++ptm-&gt;tm_min; ptm-&gt;tm_sec=<span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::this_thread::sleep_until(system_clock::<span class=\"keyword\">from_time_t</span>(mktime(ptm)));</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"built_in\">std</span>::put_time(ptm,<span class=\"string\">\"%X\"</span>) &lt;&lt; <span class=\"string\">\" reached!\\n\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">编译上面的程序输出：</span><br><span class=\"line\">Current time: 22:08:36</span><br><span class=\"line\">Waiting for the next minute to begin...</span><br><span class=\"line\">22:09:00 reached!</span><br></pre></td></tr></table></figure>\n<p>上面是摘自CPP官网的一段程序，主函数内生成一个关于系统时间的结构体，输出当前时间后使结构体内的分钟数自增1，之后调动 sleep_until 函数阻塞当前线程的执行直到下一分钟的到来。</p>\n<p>以上是对C++标准线程库的简单介绍，此文章内的全部代码可在下面的链接中找到：<a href=\"https://github.com/zsimline/sweetea/tree/master/code/archives-667\">https://github.com/zsimline/sweetea/tree/master/code/archives-667</a></p>\n<p>参考资料：<br>[1] CPP官网 <a href=\"http://www.cplusplus.com/reference/thread/\">http://www.cplusplus.com/reference/thread/</a></p>\n","site":{"data":{}},"excerpt":"<p>　　C++11 引入了对多线程语言级别的支持，<thread> 库是C++的标准线程库，它定义了与编写多线程程序相关的类。 相比于传统的POSIX线程标准，<thread> 库更符合C++的编程风格。</p>\n<p>　　<thread> 库是跨平台的，这意味着你可以在任意平台上不经修改直接编译同一段多线程代码（前提是你没有在这段代码中调用其它系统相关的API）</p>","more":"<h3 id=\"创建一个线程\"><a href=\"#创建一个线程\" class=\"headerlink\" title=\"创建一个线程\"></a>创建一个线程</h3><p>std::thread 类用来创建一个线程</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// dev01.cc</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;thread&gt;  // 引入线程库头文件</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Display</span><span class=\"params\">(<span class=\"keyword\">int</span> index)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"index 的值为!\"</span> &lt;&lt; index &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// 创建线程 trd, 传入参数 1</span></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"function\">thread <span class=\"title\">trd</span><span class=\"params\">(Display, <span class=\"number\">1</span>)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 等待线程 trd 结束</span></span><br><span class=\"line\">  trd.join();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">编译dev01.cc （需要动态链接pthread库）</span><br><span class=\"line\">g++ -o dev dev.cc -lpthread &amp;&amp; ./dev</span><br><span class=\"line\">输出：index 的值为 1</span><br></pre></td></tr></table></figure>\n<p>　　std::thread 的初始化构造函数原型为<code>template &lt;class Fn, class... Args&gt;</code>, 构造函数的第一个参数为线程要执行的函数，后面是要传递给线程函数的实参。<strong>值得注意的是，线程在thread类实例化之后就开始执行了，不需要显式的调用任何启动线程的函数。</strong></p>\n<p>　　线程启动后，需要在主线程内调用线程对象的 join 函数。join 函数用于阻塞主线程的执行，当新创建的线程执行完成后，主线程继续执行。一个进程内的所有线程共享某些资源，若不调用线程对象的join 函数，一旦主线程执行结束，操作系统将回收这些资源，新创建的线程得不到这些应有的资源就会终止执行并抛出错误。</p>\n<p>【拷贝构造函数】<br> std::thread 类不支持拷贝构造 <code>thread (const thread&amp;) = delete;</code></p>\n<p>【移动构造函数】<br>std::thread 类支持移动构造函数 <code>thread (thread&amp;&amp; x) noexcept;</code></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// dev02.cc</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;thread&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Display</span><span class=\"params\">(<span class=\"keyword\">int</span> index)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"index 的值为!\"</span> &lt;&lt; index &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// 创建线程 trd, 传入参数 1</span></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"function\">thread <span class=\"title\">trd</span><span class=\"params\">(Display, <span class=\"number\">1</span>)</span></span>;</span><br><span class=\"line\">  <span class=\"comment\">// 移动动构造一个线程对象</span></span><br><span class=\"line\">  <span class=\"comment\">// 该操作不会以任何方式影响被移动线程的执行</span></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"function\">thread <span class=\"title\">trd1</span><span class=\"params\">(<span class=\"built_in\">std</span>::move(trd))</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 此时trd对象不再代表任何执行线程</span></span><br><span class=\"line\">  <span class=\"comment\">// trd.join();</span></span><br><span class=\"line\">  trd1.join();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>【赋值操作符】<br> 可以使用赋值操作符移动赋值线程对象<code>thread&amp; operator= (thread&amp;&amp; rhs) noexcept;</code><br> 不可以使赋值操作符拷贝赋值线程对象<code>thread&amp; operator= (const thread&amp;) = delete;</code></p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// dev03.cc</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;thread&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Display</span><span class=\"params\">(<span class=\"keyword\">int</span> index)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"我是线程 \"</span> &lt;&lt; index &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// 创建线程对象数组</span></span><br><span class=\"line\">  <span class=\"comment\">// 调用类的默认构造函数</span></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::thread trds[<span class=\"number\">3</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 使用赋值操作符移动赋值</span></span><br><span class=\"line\">  <span class=\"comment\">// 该操作不会以任何方式影响被移动线程的执行</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">3</span>; i++)</span><br><span class=\"line\">    trds[i] = <span class=\"built_in\">std</span>::thread(Display, i + <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 等待线程结束</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">3</span>; i++)</span><br><span class=\"line\">    trds[i].join();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">编译上面的程序输出：</span><br><span class=\"line\">我是线程 2</span><br><span class=\"line\">我是线程 3</span><br><span class=\"line\">我是线程 1</span><br></pre></td></tr></table></figure>\n<p>可以看到，线程的执行顺序是不确定的，这取决于操作系统如何调度线程的执行。<br>而且，输出也并不总是这样顺眼，比如下面的输出：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">我是线程 我是线程 21我是线程 3</span><br></pre></td></tr></table></figure>\n<p>Display 函数中的输出语句是可中断的，当某个线程输出 “我是线程 ” 后，它完全有可能被操作系统挂起，等待一段时间后系统再次启动这个线程，输出剩余的内容。</p>\n<h3 id=\"获取线程ID\"><a href=\"#获取线程ID\" class=\"headerlink\" title=\"获取线程ID\"></a>获取线程ID</h3><p>每个线程都有一个唯一标识，通过调用线程对象的 get_id 函数可以得到这个唯一标识。</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// dev04.cc</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;thread&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Display</span><span class=\"params\">(<span class=\"keyword\">int</span> index)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//std::cout &lt;&lt; \"我是线程 \" &lt;&lt; index &lt;&lt; std::endl;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::thread trds[<span class=\"number\">3</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">3</span>; i++)</span><br><span class=\"line\">    trds[i] = <span class=\"built_in\">std</span>::thread(Display, i + <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">3</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 线程ID 的类型为 std::thread::id</span></span><br><span class=\"line\">    <span class=\"built_in\">std</span>::thread::id tid = trds[i].get_id();</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"线程\"</span> &lt;&lt; i + <span class=\"number\">1</span> &lt;&lt; <span class=\"string\">\" \"</span> &lt;&lt; tid &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">    trds[i].join();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">编译上面的程序输出：</span><br><span class=\"line\">线程1 140121399854848</span><br><span class=\"line\">线程2 140121391462144</span><br><span class=\"line\">线程3 140121383069440</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"检测线程可连接性\"><a href=\"#检测线程可连接性\" class=\"headerlink\" title=\"检测线程可连接性\"></a>检测线程可连接性</h3><p>通过调用线程对象的 joinable 函数可以检测线程对象是否是可连接的。<br>如果线程对象表示执行线程，则该对象是可连接的。<br>在以下任何情况下，线程对象均不可连接：</p>\n<ol>\n<li>线程对象是由默认构造函数生成的</li>\n<li>线程对象已经被移动（通过移动构造函数或赋值操作符）</li>\n<li>已经调用过线程对象的 join 或 detach 函数</li>\n</ol>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// dev05.cc</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;thread&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Display</span><span class=\"params\">(<span class=\"keyword\">int</span> index)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//std::cout &lt;&lt; \"我是线程 \" &lt;&lt; index &lt;&lt; std::endl;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// 默认构造 trd1</span></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::thread trd1;</span><br><span class=\"line\">  <span class=\"comment\">// 正常构造 trd2</span></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"function\">thread <span class=\"title\">trd2</span><span class=\"params\">(Display, <span class=\"number\">1</span>)</span></span>;</span><br><span class=\"line\">  <span class=\"comment\">// 移动构造 trd3</span></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"function\">thread <span class=\"title\">trd3</span><span class=\"params\">(<span class=\"built_in\">std</span>::move(trd2))</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span>(trd1.joinable()) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"线程对象trd1可连接\"</span> &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">    trd1.join();</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"线程对象trd1不可连接，它是默认构造的\"</span> &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">if</span>(trd2.joinable()) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"线程对象trd2可连接\"</span> &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">    trd2.join();</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"线程对象trd2不可连接，它已经被移动了\"</span> &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span>(trd3.joinable()) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"线程对象trd3可连接\"</span> &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">    trd3.join();</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"线程对象trd3不可连接\"</span> &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span>(trd3.joinable()) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"线程对象trd3可连接\"</span> &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">    trd3.join();</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"线程对象trd3现在不可连接了\"</span> &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">编译上面的程序输出：</span><br><span class=\"line\">线程对象trd1不可连接，它是默认构造的</span><br><span class=\"line\">线程对象trd2不可连接，它已经被移动了</span><br><span class=\"line\">线程对象trd3可连接</span><br><span class=\"line\">线程对象trd3现在不可连接了</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"分离线程\"><a href=\"#分离线程\" class=\"headerlink\" title=\"分离线程\"></a>分离线程</h3><p>调用线程对象的detach函数可以使新创建的线程与主线程分离，与join函数不同的是，detach函数不会阻塞主线程的执行，若主线程早于新线程执行完毕，新线程将终止执行，不会抛出任何错误。</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// dev06.cc</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;thread&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;chrono&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">DelayThread</span><span class=\"params\">(<span class=\"keyword\">int</span> s)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// sleep_for函数使线程睡眠s秒</span></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::this_thread::sleep_for(<span class=\"built_in\">std</span>::chrono::seconds(s));</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; s &lt;&lt; <span class=\"string\">\"秒过去了\"</span> &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"function\">thread <span class=\"title\">trd1</span><span class=\"params\">(DelayThread, <span class=\"number\">2</span>)</span></span>;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"function\">thread <span class=\"title\">trd2</span><span class=\"params\">(DelayThread, <span class=\"number\">8</span>)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 分离线程</span></span><br><span class=\"line\">  trd1.detach();</span><br><span class=\"line\">  trd2.detach();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 主线程睡眠5s</span></span><br><span class=\"line\">  DelayThread(<span class=\"number\">5</span>);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">编译上面的程序输出：</span><br><span class=\"line\">2秒过去了</span><br><span class=\"line\">5秒过去了</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"交换线程\"><a href=\"#交换线程\" class=\"headerlink\" title=\"交换线程\"></a>交换线程</h3><p>通过调用线程对象的swap函数可以交换两个线程</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// dev07.cc</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;thread&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Display</span><span class=\"params\">(<span class=\"keyword\">int</span> index)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"function\">thread <span class=\"title\">trd1</span><span class=\"params\">(Display, <span class=\"number\">2</span>)</span></span>;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"function\">thread <span class=\"title\">trd2</span><span class=\"params\">(Display, <span class=\"number\">8</span>)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"交换前：\"</span> &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"trd1 ID: \"</span> &lt;&lt; trd1.get_id() &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"trd2 ID: \"</span> &lt;&lt; trd2.get_id() &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 交换两个线程</span></span><br><span class=\"line\">  trd1.swap(trd2);</span><br><span class=\"line\">  <span class=\"comment\">// 同样可以调用非成员函数交换两个线程</span></span><br><span class=\"line\">  <span class=\"comment\">// swap(trd1, trd2);</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"交换后：\"</span> &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"trd1 ID: \"</span> &lt;&lt; trd1.get_id() &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"trd2 ID: \"</span> &lt;&lt; trd2.get_id() &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  trd1.join();</span><br><span class=\"line\">  trd2.join();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">编译上面的程序输出：</span><br><span class=\"line\">交换前：</span><br><span class=\"line\">trd1 ID: 140593231992576</span><br><span class=\"line\">trd2 ID: 140593223599872</span><br><span class=\"line\">交换后：</span><br><span class=\"line\">trd1 ID: 140593223599872</span><br><span class=\"line\">trd2 ID: 140593231992576</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"获取硬件并发数量\"><a href=\"#获取硬件并发数量\" class=\"headerlink\" title=\"获取硬件并发数量\"></a>获取硬件并发数量</h3><p>有时我们想知道处理器支持的硬件并发数量，可以调用线程类的静态函数 hardware_concurrency 来获取这个值，该函数返回值是一个无符号整数。</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// dev08.cc</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;thread&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"built_in\">std</span>::thread::hardware_concurrency();</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">编译上面的程序输出（在我的四核心处理器上）</span><br><span class=\"line\">4</span><br><span class=\"line\">编译上面的程序输出（在我的单核心处理器上）</span><br><span class=\"line\">1</span><br></pre></td></tr></table></figure>\n<p>值得注意的是：该函数的返回值不一定与系统中可用的处理器或内核的实际数量相匹配，系统可以为每个处理单元支持多个线程，或限制对程序的资源访问。</p>\n<h3 id=\"访问当前线程\"><a href=\"#访问当前线程\" class=\"headerlink\" title=\"访问当前线程\"></a>访问当前线程</h3><p>　　std::this_thread 命名空间定义了几个访问当前线程的函数，你可以在线程函数中直接调用这些函数来实现一些功能。</p>\n<ul>\n<li>get_id<br><code>thread::id get_id() noexcept;</code><br>获取当先线程ID</li>\n<li>yield<br><code>void yield() noexcept;</code><br>阻塞当先线程的执行</li>\n<li>sleep_for<br><code>template &lt;class Rep, class Period&gt;</code><br><code>void sleep_for (const chrono::duration&lt;Rep,Period&gt;&amp; rel_time);</code><br>阻塞当前线程的执行一段时间</li>\n</ul>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// dev09.cc</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;thread&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;chrono&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">bool</span> ready = <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">SetReady</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// 等待 5 秒钟后设置全局变量 ready 的值为 true</span></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::this_thread::sleep_for(<span class=\"built_in\">std</span>::chrono::seconds(<span class=\"number\">5</span>));</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"Display 函数即将继续执行\"</span> &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">  ready = <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Display</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// 阻塞当前线程的执行，直到SetReady 函数设置</span></span><br><span class=\"line\">  <span class=\"comment\">// 全局变量 ready 的值为 true 的时候才继续执行</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (!ready) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::this_thread::yield();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"线程ID: \"</span> &lt;&lt; <span class=\"built_in\">std</span>::this_thread::get_id() &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span> <span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"function\">thread <span class=\"title\">trd1</span><span class=\"params\">(SetReady)</span></span>;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"function\">thread <span class=\"title\">trd2</span><span class=\"params\">(Display)</span></span>;</span><br><span class=\"line\">  trd1.join();</span><br><span class=\"line\">  trd2.join();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">编译上面的程序输出：</span><br><span class=\"line\">Display 函数即将继续执行</span><br><span class=\"line\">线程ID: 140362842375936</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>sleep_until<br><code>template &lt;class Clock, class Duration&gt;</code><br><code>void sleep_until (const chrono::time_point&lt;Clock,Duration&gt;&amp; abs_time);</code><br>阻塞当前线程的执行直到某个时间</li>\n</ul>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// dev10.cc</span></span><br><span class=\"line\"><span class=\"comment\">// this_thread::sleep_for example</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;iomanip&gt;　　// std::put_time</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;thread&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;chrono&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;ctime&gt;　// std::time_t, std::tm, std::localtime, std::mktime</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">using</span> <span class=\"built_in\">std</span>::chrono::system_clock;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"keyword\">time_t</span> tt = system_clock::<span class=\"keyword\">to_time_t</span>(system_clock::now());</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">std</span>:</span>:tm * ptm = <span class=\"built_in\">std</span>::localtime(&amp;tt);</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"Current time: \"</span> &lt;&lt; <span class=\"built_in\">std</span>::put_time(ptm,<span class=\"string\">\"%X\"</span>) &lt;&lt; <span class=\"string\">'\\n'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"Waiting for the next minute to begin...\\n\"</span>;</span><br><span class=\"line\">  ++ptm-&gt;tm_min; ptm-&gt;tm_sec=<span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"built_in\">std</span>::this_thread::sleep_until(system_clock::<span class=\"keyword\">from_time_t</span>(mktime(ptm)));</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"built_in\">std</span>::put_time(ptm,<span class=\"string\">\"%X\"</span>) &lt;&lt; <span class=\"string\">\" reached!\\n\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">编译上面的程序输出：</span><br><span class=\"line\">Current time: 22:08:36</span><br><span class=\"line\">Waiting for the next minute to begin...</span><br><span class=\"line\">22:09:00 reached!</span><br></pre></td></tr></table></figure>\n<p>上面是摘自CPP官网的一段程序，主函数内生成一个关于系统时间的结构体，输出当前时间后使结构体内的分钟数自增1，之后调动 sleep_until 函数阻塞当前线程的执行直到下一分钟的到来。</p>\n<p>以上是对C++标准线程库的简单介绍，此文章内的全部代码可在下面的链接中找到：<a href=\"https://github.com/zsimline/sweetea/tree/master/code/archives-667\">https://github.com/zsimline/sweetea/tree/master/code/archives-667</a></p>\n<p>参考资料：<br>[1] CPP官网 <a href=\"http://www.cplusplus.com/reference/thread/\">http://www.cplusplus.com/reference/thread/</a></p>"},{"title":"JS数组","reward":true,"date":"2019-12-30T02:43:51.000Z","toc":true,"_content":"\n　　数组是 JavaScript 中最为常用的数据类型之一，一个数组中可以存储多个相同类型或不同类型的元素，元素的类型可以是基本类型也可以是数组类型，本文就JS数组的属性与方法做一个简单的介绍，争取用丰富的例子让读者明晰数组中常用函数的用法，同时尝试实现一些数组的方法。\n<!-- More  -->\n### 数组的构造\n\n- **直接构造**\n　　最常用也最明显的方式就是直接写一个用中括号括起来的数组，如 `const arr = [1,2,3];`\n- **构造函数**\n　　使用 `Array` 构造函数构造一个数组，函数原型为 `new Array(element0, element1[, ...[, elementN]])`，如 `const arr = new Array(1,2,3);` **需要注意的是，当只向函数传递一个数值参数时，并不会构造出一个只包含一个元素的数组，该参数将作为数组的长度构造出一个含有N个空元素的数组**，如 `const arr = new Array(5)` 则 arr 的值为 `[ <5 empty items> ]`\n- **Array.from**\n　　`Array.from` 方法用于从一个类数组对象或者可迭代对象生成数组，函数原型为 `Array.from(arrayLike[, mapFn[, thisArg]]);` 函数生成的数组将是一个全新的数组，改变该数组不会影响原来的数组，例如 \n```javascript\nconst arr = [1,2,3]; \nconst arrCopy1 = arr;\nconst arrCopy2 = Array.from(arr);\narrCopy1[0] = 8;\narrCopy2[1] = 10;\nconsole.log(arr)  // [8,2,3]\nconsole.log(arrCopy1)  // [8,2,3]\nconsole.log(arrCopy2)  // [1,10,3]\n```\n　　从类数组生成，那么什么是类数组呢？按照MDN的解释，类数组是具有length属性和索引元素的对象，因为是类数组，所以它不具备一般意义上的数组所拥有的方法，如 `const arrLike = {'0':'a', '1':'b', '2':'c', length:3};` arrlike 具有 length 属性且其元素是可被索引的。\n```javascript\nconst arrLike = {'0':'a', '1':'b', '2':'c', length:3};\nconst arrCopy = Array.from(arrLike);\nconsole.log(arrCopy)  // ['a','b','c']\n```\n　　`Array.from` 默认从索引0开始查找元素，且生成的数组长度与类数组的 `length` 属性值一致，当找不到该索引时会将该索引对应的值设置为 `undefined`.\n```javascript\nconst arrLike = {'1':'a', '2':'b', '3':'c', length:3};\nconst arrCopy = Array.from(arrLike);\nconsole.log(arrCopy)  // [ undefined, 'a', 'b' ]\n\n// 从0开始查找，找不到设置为 undefined, 继续查找，找到索引为1和索引为2的元素，\n// 因为length属性的值为3, 则停止查找\n```\n　　函数的 `arguments` 对象是一种常见的类数组，我们可以使用 `Array.from` 函数将其转换为数组。\n```javascript\nfunction test() {\n  console.log(arguments);\n  console.log(Array.from(arguments));\n}\n\ntest(1,2,3)\n\n// [Arguments] { '0': 1, '1': 2, '2': 3 }\n// [ 1, 2, 3 ]\n```\n　　那么什么又是可迭代对象呢？**可迭代对象内部通常都有一个迭代器，可以通过对迭代器的调用顺序的访问对象内的每一个元素**。数组属于可迭代对象，ES6中的 `Set` 和 `Map` 也属于可迭代对象，关于可迭代对象的更多内容请参考网友写的一片文章[【ES6】迭代器与可迭代对象](https://segmentfault.com/a/1190000016824284)\n例如，ES6中的[生成器函数](http://es6.ruanyifeng.com/#docs/generator)返回一个可迭代对象，我们可以将该可迭代对象转换为数组\n```javascript\nfunction* test() {\n  yield 1 + 2;\n  yield 3 + 4;\n  yield 5 + 7;\n}\n\nconst gen = test();\nconsole.log(gen)  // Object [Generator] {}\nconsole.log(Array.from(gen)) // [3,7,12]\n```\n- **Array.of**\n　　上文说道当我们只向 `Array` 构造函数传递一个数值时，不会创建包含单一元素的数组，而会创建包含N个元素的空数组。而 `Array.of` 就是解决这一问题的，向 `Array.of` 传递一个数值时将会创建出包含单一元素的数组。除此之外与构造函数无任何不同。\n```javascript\nconst arr = Array.of(1);\nconsole.log(arr);  // [1]\n```\n\n### 数组实例的属性\n\n　　数组实例只有一个 `length` 属性，表示数组中元素的个数。\n\n### 插入/删除类方法\n\n　　数组实例中的插入/删除类方法将会改变原数组。\n\n**Array.prototype.push(element1, ..., elementN)** *向数组末尾添加一个或者多个元素，返回数组新的长度*\n\n```javascript\nconst arr = [1,2,3];\nconst arr2 = [7,8,9];\nconst len = arr.push(4, 5, 6, arr2);\nconsole.log(arr);\nconsole.log(len);\n\n// [ 1, 2, 3, 4, 5, 6, [ 7, 8, 9 ] ]\n// 7\n```\n从上面我们可以看到，`arr2` 是作为一个整体被添加到 `arr` 的末尾，有时候我们希望 `arr2` 合并到 `arr` 中，那么如何使用 `push` 方法实现数组的合并呢？答案是使用函数原型上的 `apply` 方法。\n\n```javascript\nconst arr = [1,2,3];\nconst arr2 = [7,8,9];\narr.push.apply(arr,arr2);\nconsole.log(arr);\n\n// [ 1, 2, 3, 7, 8, 9 ]\n```\n`apply` 法将 `arr2` 中的每一个元素作为参数参数传递给 `push` 方法，相当于 `arr.push(4,5,6)`, 关于 `apply` 的更多解释请参考 [Function.prototype.apply()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/apply)\n\n但是上面的实现是有缺陷的，它不能同时传入单个值的参数和数组参数，因为 `apply` 方法只接收一个数组参数，解决这一问题的方式是使用扩展运算符。ECMAScript6 定义了由三个点(...)组成的扩展运算符，它将数组转为用逗号分隔的参数序列。我们可以也使用它来实现数组的合并\n```javascript\nconst arr = [1,2,3];\nconst arr2 = [7,8,9];\narr.push(4,5,6, ...arr2);\nconsole.log(arr);\n\n// [1, 2, 3, 4, 5, 6, 7, 8, 9]\n```\n这样就简单多了。\n\n**Array.prototype.pop()** *删除数组的最后一个元素，返回该元素的值，当数组为空时返回undefined*\n\n```javascript\nconst arr = ['a','b']\nconsole.log(arr.pop());  // b\nconsole.log(arr.pop());  // a\nconsole.log(arr.pop());  // undefined\n```\n\n**Array.prototype.unshift(element1, ..., elementN)** *向数组开头添加一个或者多个元素，返回数组新的长度*\n\n```javascript\nconst arr = [1,2,3];\nconst arr2 = [7,8,9];\nconst len = arr.unshift(4, 5, 6, arr2);\nconsole.log(arr);\nconsole.log(len);\n\n// [ 4, 5, 6, [ 7, 8, 9 ], 1, 2, 3 ]\n// 7\n```\n传入多个参数时，插入数组中的顺序与作为参数时的顺序是一致的，同样你也可以使用上文提到的方法将一个数组合并到另一个数组的开头，这里就不再举例子了。\n\n**Array.prototype.shift()** *删除数组的第一个元素，返回该元素的值，当数组为空时返回undefined*\n\n```javascript\nconst arr = ['a','b']\nconsole.log(arr.shift());  // b\nconsole.log(arr.shift());  // a\nconsole.log(arr.shift());  // undefined\n```\n\n**Array.prototype.reverse()** *反序数组中的元素的位置，返回反序后的数组*\n\n```javascript\nconst arr = [1,2,3]\narr.reverse()\nconsole.log(arr);  // [ 3, 2, 1 ]\n```\n配合 `apply` 或者 `call`, 该方法还可用于对类数组的反序，例如函数的 `arguments` 对象。\n\n```javascript\nfunction test() {\n  Array.prototype.reverse.call(arguments);\n  console.log(arguments)\n}\ntest(1,2,3);\n\n// [Arguments] { '0': 3, '1': 2, '2': 1 }\n```\n\n**Array.prototype.splice(start[, deleteCount[, item1[, item2[, ...]]]])** *删除/替换/增加元素，以数组的形式返回被删除的内容，若没有元素被删除则返回空数组*\n\n　　该函数兼具删除、替换、增加三种功能，参数 `start`​ 指定修改的开始位置（从0计数）。如果超出了数组的长度，则从数组末尾开始添加内容；如果是负值，则表示从数组末位开始的第几位（从-1计数）；如果负数的绝对值大于数组的长度，则表示开始位置为第0位。\n　　参数 `deleteCount` 表示要移除的数组元素的个数。如果 `deleteCount` 大于 `start` 之后元素的总数，则从 `start` 后面的元素都将被删除（含第 start 位）。如果 deleteCount 是 0 或者负数，则不移除元素。\n　　`deleteCount` 之后的参数为将要被添加进数组的元素。\n\n```javascript\nconst arr = [1,2,3]\n\n// 只添加元素\narr.splice(1, 0, 4, 5, 6)\nconsole.log(arr);  // [ 1, 4, 5, 6, 2, 3 ]\n\n// 删除元素并添加元素，相当于替换\nconst result = arr.splice(1, 2, 7, 8, 9)\nconsole.log(arr);  // [ 1, 7, 8, 9, 6, 2, 3 ]\nconsole.log(result); // [ 4, 5 ]\n\n// 只删除元素\narr.splice(1, 4)\nconsole.log(arr);  // [ 1, 2, 3 ]\n\n// 从倒数第二个位置删除元素，并添加新元素\narr.splice(-2, 1, 4, 5, 6)\nconsole.log(arr);  // [ 1, 4, 5, 6, 3 ]\n```\n\n\n**Array.prototype.fill(value[, start[, end]])** *使用一个固定值填充数组，返回修改后的数组* **ES6新增**\n\n　　参数 `value` 表示用来填充数组元素的值，`start` （可选） 表示起始索引，默认值为0, `end` （可选） 表示终止索引，默认值为数组长度。start,end 为一个左闭右开的区间。当 `start` 或 `end` 为负数时，则表示从数组末位开始的第几位（从-1计数）。\n\n```javascript\nconst arr = [1,2,3,4,5];\n\narr.fill(0, 2, 4);\nconsole.log(arr);  // [ 1, 2, 0, 0, 5 ]\n\narr.fill(0, -4, -3);\nconsole.log(arr);  // [ 1, 0, 0, 0, 5 ]\n```\n\n**Array.prototype.copyWithin(target[, start[, end]])** *复制数组的一部分到同一数组中的另一个位置，不会改变原数组的长度，返回改变后的数组*\n\n　　参数 `target` 表示复制的目标位置，如果是负数，将从末尾开始计算，如果其值超过数组的长度，将不会发生拷贝。`start` （可选） 表示被复制元素的起始位置， 默认值为0，如果是负数，`start` 将从末尾开始计算。`end` （可选） 表示被复制元素的结束位置，如果是负数，`end` 将从末尾开始计算。start,end 为一个左闭右开区间。若区间内的元素被复制到目标位置后超过数组的长度，则超过的部分将被舍弃。\n```javascript\nconsole.log([1,2,3,4,5].copyWithin(0, 2, 4));\nconsole.log([1,2,3,4,5].copyWithin(3, 1, 4)); \n\n// [ 3, 4, 3, 4, 5 ]\n// [ 1, 2, 3, 2, 3 ]\n```\n\n**Array.prototype.sort([compareFunction])** *对数组内的元素进行排序*\n\n　　参数 `compareFunction` 是用来指定按某种顺序进行排列的函数，它接收两个用于比较的元素，返回比较结果。假设 a 和 b 是两个将要被比较的元素：如果 compareFunction(a, b) 小于 0 ，那么 a 会被排列到 b 之前；如果 compareFunction(a, b) 等于 0，a 和 b 的相对位置不变；如果 compareFunction(a, b) 大于 0 ， b 会被排列到 a 之前。\n\n```javascript\nfunction compare(a, b) {\n  if (a < b ) {\n    return -1;\n  }\n  if (a > b ) {\n    return 1;\n  }\n  return 0;\n}\n\nconst arr = [25, 15, 5, 11, 8]\narr.sort(compare)\nconsole.log(arr);  // [ 5, 8, 11, 15, 25 ]\n```\n或者更加简单的写法:\n```javascript\nconst arr = [25, 15, 5, 11, 8]\narr.sort((a, b) => a == b ? 0 : ( a > b ? 1 : -1));\n// 当简单的比较数字时也可以写为: arr.sort((a, b) => a - b);\nconsole.log(arr);  // [ 5, 8, 11, 15, 25 ]\n```\n按对象的某个值进行排序:\n```javascript\nconst arr = [\n  { name: 'john', value: 20 },\n  { name: 'tom',  value: 14 },\n  { name: 'may',  value: 25 },\n  { name: 'abby', value: 12 },\n  { name: 'amy',  value: 16 },\n]\narr.sort((a, b) => a.value == b.value ? 0 : ( a.value > b.value ? 1 : -1));\nconsole.log(arr);\n/*\n[\n  { name: 'abby', value: 12 },\n  { name: 'tom',  value: 14 },\n  { name: 'amy',  value: 16 },\n  { name: 'john', value: 20 },\n  { name: 'may',  value: 25 }\n]\n*/\n```\n当我们没有提供 `compareFunction` 参数时，`sort` 方法会将数组内的元素转换为字符串按**字典序**进行比较。\n```javascript\nconst arr = [25, 15, 5, 11, 8]\n// arr 转化为字符串 ['25', '15', '5', '11', '8']\narr.sort();\nconsole.log(arr);  // [ 11, 15, 25, 5, 8 ]\n```\n\n　　以上就是数组中的插入/删除类方法，接下来将介绍数组中的访问方法，请点击 [链接](http://127.0.0.1:4000/archives/14/) 继续阅读。\n","source":"_posts/JS数组.md","raw":"---\ntitle: JS数组\nreward: true\ndate: 2019-12-30 10:43:51\npermalink: 13\ncategories: [前端, JavaScript]\ntags:\ntoc: true\n---\n\n　　数组是 JavaScript 中最为常用的数据类型之一，一个数组中可以存储多个相同类型或不同类型的元素，元素的类型可以是基本类型也可以是数组类型，本文就JS数组的属性与方法做一个简单的介绍，争取用丰富的例子让读者明晰数组中常用函数的用法，同时尝试实现一些数组的方法。\n<!-- More  -->\n### 数组的构造\n\n- **直接构造**\n　　最常用也最明显的方式就是直接写一个用中括号括起来的数组，如 `const arr = [1,2,3];`\n- **构造函数**\n　　使用 `Array` 构造函数构造一个数组，函数原型为 `new Array(element0, element1[, ...[, elementN]])`，如 `const arr = new Array(1,2,3);` **需要注意的是，当只向函数传递一个数值参数时，并不会构造出一个只包含一个元素的数组，该参数将作为数组的长度构造出一个含有N个空元素的数组**，如 `const arr = new Array(5)` 则 arr 的值为 `[ <5 empty items> ]`\n- **Array.from**\n　　`Array.from` 方法用于从一个类数组对象或者可迭代对象生成数组，函数原型为 `Array.from(arrayLike[, mapFn[, thisArg]]);` 函数生成的数组将是一个全新的数组，改变该数组不会影响原来的数组，例如 \n```javascript\nconst arr = [1,2,3]; \nconst arrCopy1 = arr;\nconst arrCopy2 = Array.from(arr);\narrCopy1[0] = 8;\narrCopy2[1] = 10;\nconsole.log(arr)  // [8,2,3]\nconsole.log(arrCopy1)  // [8,2,3]\nconsole.log(arrCopy2)  // [1,10,3]\n```\n　　从类数组生成，那么什么是类数组呢？按照MDN的解释，类数组是具有length属性和索引元素的对象，因为是类数组，所以它不具备一般意义上的数组所拥有的方法，如 `const arrLike = {'0':'a', '1':'b', '2':'c', length:3};` arrlike 具有 length 属性且其元素是可被索引的。\n```javascript\nconst arrLike = {'0':'a', '1':'b', '2':'c', length:3};\nconst arrCopy = Array.from(arrLike);\nconsole.log(arrCopy)  // ['a','b','c']\n```\n　　`Array.from` 默认从索引0开始查找元素，且生成的数组长度与类数组的 `length` 属性值一致，当找不到该索引时会将该索引对应的值设置为 `undefined`.\n```javascript\nconst arrLike = {'1':'a', '2':'b', '3':'c', length:3};\nconst arrCopy = Array.from(arrLike);\nconsole.log(arrCopy)  // [ undefined, 'a', 'b' ]\n\n// 从0开始查找，找不到设置为 undefined, 继续查找，找到索引为1和索引为2的元素，\n// 因为length属性的值为3, 则停止查找\n```\n　　函数的 `arguments` 对象是一种常见的类数组，我们可以使用 `Array.from` 函数将其转换为数组。\n```javascript\nfunction test() {\n  console.log(arguments);\n  console.log(Array.from(arguments));\n}\n\ntest(1,2,3)\n\n// [Arguments] { '0': 1, '1': 2, '2': 3 }\n// [ 1, 2, 3 ]\n```\n　　那么什么又是可迭代对象呢？**可迭代对象内部通常都有一个迭代器，可以通过对迭代器的调用顺序的访问对象内的每一个元素**。数组属于可迭代对象，ES6中的 `Set` 和 `Map` 也属于可迭代对象，关于可迭代对象的更多内容请参考网友写的一片文章[【ES6】迭代器与可迭代对象](https://segmentfault.com/a/1190000016824284)\n例如，ES6中的[生成器函数](http://es6.ruanyifeng.com/#docs/generator)返回一个可迭代对象，我们可以将该可迭代对象转换为数组\n```javascript\nfunction* test() {\n  yield 1 + 2;\n  yield 3 + 4;\n  yield 5 + 7;\n}\n\nconst gen = test();\nconsole.log(gen)  // Object [Generator] {}\nconsole.log(Array.from(gen)) // [3,7,12]\n```\n- **Array.of**\n　　上文说道当我们只向 `Array` 构造函数传递一个数值时，不会创建包含单一元素的数组，而会创建包含N个元素的空数组。而 `Array.of` 就是解决这一问题的，向 `Array.of` 传递一个数值时将会创建出包含单一元素的数组。除此之外与构造函数无任何不同。\n```javascript\nconst arr = Array.of(1);\nconsole.log(arr);  // [1]\n```\n\n### 数组实例的属性\n\n　　数组实例只有一个 `length` 属性，表示数组中元素的个数。\n\n### 插入/删除类方法\n\n　　数组实例中的插入/删除类方法将会改变原数组。\n\n**Array.prototype.push(element1, ..., elementN)** *向数组末尾添加一个或者多个元素，返回数组新的长度*\n\n```javascript\nconst arr = [1,2,3];\nconst arr2 = [7,8,9];\nconst len = arr.push(4, 5, 6, arr2);\nconsole.log(arr);\nconsole.log(len);\n\n// [ 1, 2, 3, 4, 5, 6, [ 7, 8, 9 ] ]\n// 7\n```\n从上面我们可以看到，`arr2` 是作为一个整体被添加到 `arr` 的末尾，有时候我们希望 `arr2` 合并到 `arr` 中，那么如何使用 `push` 方法实现数组的合并呢？答案是使用函数原型上的 `apply` 方法。\n\n```javascript\nconst arr = [1,2,3];\nconst arr2 = [7,8,9];\narr.push.apply(arr,arr2);\nconsole.log(arr);\n\n// [ 1, 2, 3, 7, 8, 9 ]\n```\n`apply` 法将 `arr2` 中的每一个元素作为参数参数传递给 `push` 方法，相当于 `arr.push(4,5,6)`, 关于 `apply` 的更多解释请参考 [Function.prototype.apply()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/apply)\n\n但是上面的实现是有缺陷的，它不能同时传入单个值的参数和数组参数，因为 `apply` 方法只接收一个数组参数，解决这一问题的方式是使用扩展运算符。ECMAScript6 定义了由三个点(...)组成的扩展运算符，它将数组转为用逗号分隔的参数序列。我们可以也使用它来实现数组的合并\n```javascript\nconst arr = [1,2,3];\nconst arr2 = [7,8,9];\narr.push(4,5,6, ...arr2);\nconsole.log(arr);\n\n// [1, 2, 3, 4, 5, 6, 7, 8, 9]\n```\n这样就简单多了。\n\n**Array.prototype.pop()** *删除数组的最后一个元素，返回该元素的值，当数组为空时返回undefined*\n\n```javascript\nconst arr = ['a','b']\nconsole.log(arr.pop());  // b\nconsole.log(arr.pop());  // a\nconsole.log(arr.pop());  // undefined\n```\n\n**Array.prototype.unshift(element1, ..., elementN)** *向数组开头添加一个或者多个元素，返回数组新的长度*\n\n```javascript\nconst arr = [1,2,3];\nconst arr2 = [7,8,9];\nconst len = arr.unshift(4, 5, 6, arr2);\nconsole.log(arr);\nconsole.log(len);\n\n// [ 4, 5, 6, [ 7, 8, 9 ], 1, 2, 3 ]\n// 7\n```\n传入多个参数时，插入数组中的顺序与作为参数时的顺序是一致的，同样你也可以使用上文提到的方法将一个数组合并到另一个数组的开头，这里就不再举例子了。\n\n**Array.prototype.shift()** *删除数组的第一个元素，返回该元素的值，当数组为空时返回undefined*\n\n```javascript\nconst arr = ['a','b']\nconsole.log(arr.shift());  // b\nconsole.log(arr.shift());  // a\nconsole.log(arr.shift());  // undefined\n```\n\n**Array.prototype.reverse()** *反序数组中的元素的位置，返回反序后的数组*\n\n```javascript\nconst arr = [1,2,3]\narr.reverse()\nconsole.log(arr);  // [ 3, 2, 1 ]\n```\n配合 `apply` 或者 `call`, 该方法还可用于对类数组的反序，例如函数的 `arguments` 对象。\n\n```javascript\nfunction test() {\n  Array.prototype.reverse.call(arguments);\n  console.log(arguments)\n}\ntest(1,2,3);\n\n// [Arguments] { '0': 3, '1': 2, '2': 1 }\n```\n\n**Array.prototype.splice(start[, deleteCount[, item1[, item2[, ...]]]])** *删除/替换/增加元素，以数组的形式返回被删除的内容，若没有元素被删除则返回空数组*\n\n　　该函数兼具删除、替换、增加三种功能，参数 `start`​ 指定修改的开始位置（从0计数）。如果超出了数组的长度，则从数组末尾开始添加内容；如果是负值，则表示从数组末位开始的第几位（从-1计数）；如果负数的绝对值大于数组的长度，则表示开始位置为第0位。\n　　参数 `deleteCount` 表示要移除的数组元素的个数。如果 `deleteCount` 大于 `start` 之后元素的总数，则从 `start` 后面的元素都将被删除（含第 start 位）。如果 deleteCount 是 0 或者负数，则不移除元素。\n　　`deleteCount` 之后的参数为将要被添加进数组的元素。\n\n```javascript\nconst arr = [1,2,3]\n\n// 只添加元素\narr.splice(1, 0, 4, 5, 6)\nconsole.log(arr);  // [ 1, 4, 5, 6, 2, 3 ]\n\n// 删除元素并添加元素，相当于替换\nconst result = arr.splice(1, 2, 7, 8, 9)\nconsole.log(arr);  // [ 1, 7, 8, 9, 6, 2, 3 ]\nconsole.log(result); // [ 4, 5 ]\n\n// 只删除元素\narr.splice(1, 4)\nconsole.log(arr);  // [ 1, 2, 3 ]\n\n// 从倒数第二个位置删除元素，并添加新元素\narr.splice(-2, 1, 4, 5, 6)\nconsole.log(arr);  // [ 1, 4, 5, 6, 3 ]\n```\n\n\n**Array.prototype.fill(value[, start[, end]])** *使用一个固定值填充数组，返回修改后的数组* **ES6新增**\n\n　　参数 `value` 表示用来填充数组元素的值，`start` （可选） 表示起始索引，默认值为0, `end` （可选） 表示终止索引，默认值为数组长度。start,end 为一个左闭右开的区间。当 `start` 或 `end` 为负数时，则表示从数组末位开始的第几位（从-1计数）。\n\n```javascript\nconst arr = [1,2,3,4,5];\n\narr.fill(0, 2, 4);\nconsole.log(arr);  // [ 1, 2, 0, 0, 5 ]\n\narr.fill(0, -4, -3);\nconsole.log(arr);  // [ 1, 0, 0, 0, 5 ]\n```\n\n**Array.prototype.copyWithin(target[, start[, end]])** *复制数组的一部分到同一数组中的另一个位置，不会改变原数组的长度，返回改变后的数组*\n\n　　参数 `target` 表示复制的目标位置，如果是负数，将从末尾开始计算，如果其值超过数组的长度，将不会发生拷贝。`start` （可选） 表示被复制元素的起始位置， 默认值为0，如果是负数，`start` 将从末尾开始计算。`end` （可选） 表示被复制元素的结束位置，如果是负数，`end` 将从末尾开始计算。start,end 为一个左闭右开区间。若区间内的元素被复制到目标位置后超过数组的长度，则超过的部分将被舍弃。\n```javascript\nconsole.log([1,2,3,4,5].copyWithin(0, 2, 4));\nconsole.log([1,2,3,4,5].copyWithin(3, 1, 4)); \n\n// [ 3, 4, 3, 4, 5 ]\n// [ 1, 2, 3, 2, 3 ]\n```\n\n**Array.prototype.sort([compareFunction])** *对数组内的元素进行排序*\n\n　　参数 `compareFunction` 是用来指定按某种顺序进行排列的函数，它接收两个用于比较的元素，返回比较结果。假设 a 和 b 是两个将要被比较的元素：如果 compareFunction(a, b) 小于 0 ，那么 a 会被排列到 b 之前；如果 compareFunction(a, b) 等于 0，a 和 b 的相对位置不变；如果 compareFunction(a, b) 大于 0 ， b 会被排列到 a 之前。\n\n```javascript\nfunction compare(a, b) {\n  if (a < b ) {\n    return -1;\n  }\n  if (a > b ) {\n    return 1;\n  }\n  return 0;\n}\n\nconst arr = [25, 15, 5, 11, 8]\narr.sort(compare)\nconsole.log(arr);  // [ 5, 8, 11, 15, 25 ]\n```\n或者更加简单的写法:\n```javascript\nconst arr = [25, 15, 5, 11, 8]\narr.sort((a, b) => a == b ? 0 : ( a > b ? 1 : -1));\n// 当简单的比较数字时也可以写为: arr.sort((a, b) => a - b);\nconsole.log(arr);  // [ 5, 8, 11, 15, 25 ]\n```\n按对象的某个值进行排序:\n```javascript\nconst arr = [\n  { name: 'john', value: 20 },\n  { name: 'tom',  value: 14 },\n  { name: 'may',  value: 25 },\n  { name: 'abby', value: 12 },\n  { name: 'amy',  value: 16 },\n]\narr.sort((a, b) => a.value == b.value ? 0 : ( a.value > b.value ? 1 : -1));\nconsole.log(arr);\n/*\n[\n  { name: 'abby', value: 12 },\n  { name: 'tom',  value: 14 },\n  { name: 'amy',  value: 16 },\n  { name: 'john', value: 20 },\n  { name: 'may',  value: 25 }\n]\n*/\n```\n当我们没有提供 `compareFunction` 参数时，`sort` 方法会将数组内的元素转换为字符串按**字典序**进行比较。\n```javascript\nconst arr = [25, 15, 5, 11, 8]\n// arr 转化为字符串 ['25', '15', '5', '11', '8']\narr.sort();\nconsole.log(arr);  // [ 11, 15, 25, 5, 8 ]\n```\n\n　　以上就是数组中的插入/删除类方法，接下来将介绍数组中的访问方法，请点击 [链接](http://127.0.0.1:4000/archives/14/) 继续阅读。\n","slug":"13","published":1,"updated":"2020-01-07T07:24:48.873Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck541mor10002ecfw41b7gq34","content":"<p>　　数组是 JavaScript 中最为常用的数据类型之一，一个数组中可以存储多个相同类型或不同类型的元素，元素的类型可以是基本类型也可以是数组类型，本文就JS数组的属性与方法做一个简单的介绍，争取用丰富的例子让读者明晰数组中常用函数的用法，同时尝试实现一些数组的方法。</p>\n<a id=\"more\"></a>\n<h3 id=\"数组的构造\"><a href=\"#数组的构造\" class=\"headerlink\" title=\"数组的构造\"></a>数组的构造</h3><ul>\n<li><strong>直接构造</strong><br>　　最常用也最明显的方式就是直接写一个用中括号括起来的数组，如 <code>const arr = [1,2,3];</code></li>\n<li><strong>构造函数</strong><br>　　使用 <code>Array</code> 构造函数构造一个数组，函数原型为 <code>new Array(element0, element1[, ...[, elementN]])</code>，如 <code>const arr = new Array(1,2,3);</code> <strong>需要注意的是，当只向函数传递一个数值参数时，并不会构造出一个只包含一个元素的数组，该参数将作为数组的长度构造出一个含有N个空元素的数组</strong>，如 <code>const arr = new Array(5)</code> 则 arr 的值为 <code>[ &lt;5 empty items&gt; ]</code></li>\n<li><strong>Array.from</strong><br>　　<code>Array.from</code> 方法用于从一个类数组对象或者可迭代对象生成数组，函数原型为 <code>Array.from(arrayLike[, mapFn[, thisArg]]);</code> 函数生成的数组将是一个全新的数组，改变该数组不会影响原来的数组，例如 <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>]; </span><br><span class=\"line\"><span class=\"keyword\">const</span> arrCopy1 = arr;</span><br><span class=\"line\"><span class=\"keyword\">const</span> arrCopy2 = <span class=\"built_in\">Array</span>.from(arr);</span><br><span class=\"line\">arrCopy1[<span class=\"number\">0</span>] = <span class=\"number\">8</span>;</span><br><span class=\"line\">arrCopy2[<span class=\"number\">1</span>] = <span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr)  <span class=\"comment\">// [8,2,3]</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arrCopy1)  <span class=\"comment\">// [8,2,3]</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arrCopy2)  <span class=\"comment\">// [1,10,3]</span></span><br></pre></td></tr></table></figure>\n　　从类数组生成，那么什么是类数组呢？按照MDN的解释，类数组是具有length属性和索引元素的对象，因为是类数组，所以它不具备一般意义上的数组所拥有的方法，如 <code>const arrLike = {&#39;0&#39;:&#39;a&#39;, &#39;1&#39;:&#39;b&#39;, &#39;2&#39;:&#39;c&#39;, length:3};</code> arrlike 具有 length 属性且其元素是可被索引的。<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arrLike = &#123;<span class=\"string\">'0'</span>:<span class=\"string\">'a'</span>, <span class=\"string\">'1'</span>:<span class=\"string\">'b'</span>, <span class=\"string\">'2'</span>:<span class=\"string\">'c'</span>, <span class=\"attr\">length</span>:<span class=\"number\">3</span>&#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> arrCopy = <span class=\"built_in\">Array</span>.from(arrLike);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arrCopy)  <span class=\"comment\">// ['a','b','c']</span></span><br></pre></td></tr></table></figure>\n　　<code>Array.from</code> 默认从索引0开始查找元素，且生成的数组长度与类数组的 <code>length</code> 属性值一致，当找不到该索引时会将该索引对应的值设置为 <code>undefined</code>.<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arrLike = &#123;<span class=\"string\">'1'</span>:<span class=\"string\">'a'</span>, <span class=\"string\">'2'</span>:<span class=\"string\">'b'</span>, <span class=\"string\">'3'</span>:<span class=\"string\">'c'</span>, <span class=\"attr\">length</span>:<span class=\"number\">3</span>&#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> arrCopy = <span class=\"built_in\">Array</span>.from(arrLike);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arrCopy)  <span class=\"comment\">// [ undefined, 'a', 'b' ]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 从0开始查找，找不到设置为 undefined, 继续查找，找到索引为1和索引为2的元素，</span></span><br><span class=\"line\"><span class=\"comment\">// 因为length属性的值为3, 则停止查找</span></span><br></pre></td></tr></table></figure>\n　　函数的 <code>arguments</code> 对象是一种常见的类数组，我们可以使用 <code>Array.from</code> 函数将其转换为数组。<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"built_in\">arguments</span>);</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"built_in\">Array</span>.from(<span class=\"built_in\">arguments</span>));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">test(<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// [Arguments] &#123; '0': 1, '1': 2, '2': 3 &#125;</span></span><br><span class=\"line\"><span class=\"comment\">// [ 1, 2, 3 ]</span></span><br></pre></td></tr></table></figure>\n　　那么什么又是可迭代对象呢？<strong>可迭代对象内部通常都有一个迭代器，可以通过对迭代器的调用顺序的访问对象内的每一个元素</strong>。数组属于可迭代对象，ES6中的 <code>Set</code> 和 <code>Map</code> 也属于可迭代对象，关于可迭代对象的更多内容请参考网友写的一片文章<a href=\"https://segmentfault.com/a/1190000016824284\">【ES6】迭代器与可迭代对象</a><br>例如，ES6中的<a href=\"http://es6.ruanyifeng.com/#docs/generator\">生成器函数</a>返回一个可迭代对象，我们可以将该可迭代对象转换为数组<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>* <span class=\"title\">test</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"number\">1</span> + <span class=\"number\">2</span>;</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"number\">3</span> + <span class=\"number\">4</span>;</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"number\">5</span> + <span class=\"number\">7</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> gen = test();</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(gen)  <span class=\"comment\">// Object [Generator] &#123;&#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Array</span>.from(gen)) <span class=\"comment\">// [3,7,12]</span></span><br></pre></td></tr></table></figure></li>\n<li><strong>Array.of</strong><br>　　上文说道当我们只向 <code>Array</code> 构造函数传递一个数值时，不会创建包含单一元素的数组，而会创建包含N个元素的空数组。而 <code>Array.of</code> 就是解决这一问题的，向 <code>Array.of</code> 传递一个数值时将会创建出包含单一元素的数组。除此之外与构造函数无任何不同。<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = <span class=\"built_in\">Array</span>.of(<span class=\"number\">1</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);  <span class=\"comment\">// [1]</span></span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<h3 id=\"数组实例的属性\"><a href=\"#数组实例的属性\" class=\"headerlink\" title=\"数组实例的属性\"></a>数组实例的属性</h3><p>　　数组实例只有一个 <code>length</code> 属性，表示数组中元素的个数。</p>\n<h3 id=\"插入-删除类方法\"><a href=\"#插入-删除类方法\" class=\"headerlink\" title=\"插入/删除类方法\"></a>插入/删除类方法</h3><p>　　数组实例中的插入/删除类方法将会改变原数组。</p>\n<p><strong>Array.prototype.push(element1, …, elementN)</strong> <em>向数组末尾添加一个或者多个元素，返回数组新的长度</em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"keyword\">const</span> arr2 = [<span class=\"number\">7</span>,<span class=\"number\">8</span>,<span class=\"number\">9</span>];</span><br><span class=\"line\"><span class=\"keyword\">const</span> len = arr.push(<span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, arr2);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(len);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// [ 1, 2, 3, 4, 5, 6, [ 7, 8, 9 ] ]</span></span><br><span class=\"line\"><span class=\"comment\">// 7</span></span><br></pre></td></tr></table></figure>\n<p>从上面我们可以看到，<code>arr2</code> 是作为一个整体被添加到 <code>arr</code> 的末尾，有时候我们希望 <code>arr2</code> 合并到 <code>arr</code> 中，那么如何使用 <code>push</code> 方法实现数组的合并呢？答案是使用函数原型上的 <code>apply</code> 方法。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"keyword\">const</span> arr2 = [<span class=\"number\">7</span>,<span class=\"number\">8</span>,<span class=\"number\">9</span>];</span><br><span class=\"line\">arr.push.apply(arr,arr2);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// [ 1, 2, 3, 7, 8, 9 ]</span></span><br></pre></td></tr></table></figure>\n<p><code>apply</code> 法将 <code>arr2</code> 中的每一个元素作为参数参数传递给 <code>push</code> 方法，相当于 <code>arr.push(4,5,6)</code>, 关于 <code>apply</code> 的更多解释请参考 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/apply\">Function.prototype.apply()</a></p>\n<p>但是上面的实现是有缺陷的，它不能同时传入单个值的参数和数组参数，因为 <code>apply</code> 方法只接收一个数组参数，解决这一问题的方式是使用扩展运算符。ECMAScript6 定义了由三个点(…)组成的扩展运算符，它将数组转为用逗号分隔的参数序列。我们可以也使用它来实现数组的合并</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"keyword\">const</span> arr2 = [<span class=\"number\">7</span>,<span class=\"number\">8</span>,<span class=\"number\">9</span>];</span><br><span class=\"line\">arr.push(<span class=\"number\">4</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>, ...arr2);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// [1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br></pre></td></tr></table></figure>\n<p>这样就简单多了。</p>\n<p><strong>Array.prototype.pop()</strong> <em>删除数组的最后一个元素，返回该元素的值，当数组为空时返回undefined</em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"string\">'a'</span>,<span class=\"string\">'b'</span>]</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr.pop());  <span class=\"comment\">// b</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr.pop());  <span class=\"comment\">// a</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr.pop());  <span class=\"comment\">// undefined</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Array.prototype.unshift(element1, …, elementN)</strong> <em>向数组开头添加一个或者多个元素，返回数组新的长度</em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"keyword\">const</span> arr2 = [<span class=\"number\">7</span>,<span class=\"number\">8</span>,<span class=\"number\">9</span>];</span><br><span class=\"line\"><span class=\"keyword\">const</span> len = arr.unshift(<span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, arr2);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(len);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// [ 4, 5, 6, [ 7, 8, 9 ], 1, 2, 3 ]</span></span><br><span class=\"line\"><span class=\"comment\">// 7</span></span><br></pre></td></tr></table></figure>\n<p>传入多个参数时，插入数组中的顺序与作为参数时的顺序是一致的，同样你也可以使用上文提到的方法将一个数组合并到另一个数组的开头，这里就不再举例子了。</p>\n<p><strong>Array.prototype.shift()</strong> <em>删除数组的第一个元素，返回该元素的值，当数组为空时返回undefined</em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"string\">'a'</span>,<span class=\"string\">'b'</span>]</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr.shift());  <span class=\"comment\">// b</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr.shift());  <span class=\"comment\">// a</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr.shift());  <span class=\"comment\">// undefined</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Array.prototype.reverse()</strong> <em>反序数组中的元素的位置，返回反序后的数组</em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>]</span><br><span class=\"line\">arr.reverse()</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);  <span class=\"comment\">// [ 3, 2, 1 ]</span></span><br></pre></td></tr></table></figure>\n<p>配合 <code>apply</code> 或者 <code>call</code>, 该方法还可用于对类数组的反序，例如函数的 <code>arguments</code> 对象。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">Array</span>.prototype.reverse.call(<span class=\"built_in\">arguments</span>);</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"built_in\">arguments</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">test(<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// [Arguments] &#123; '0': 3, '1': 2, '2': 1 &#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Array.prototype.splice(start[, deleteCount[, item1[, item2[, …]]]])</strong> <em>删除/替换/增加元素，以数组的形式返回被删除的内容，若没有元素被删除则返回空数组</em></p>\n<p>　　该函数兼具删除、替换、增加三种功能，参数 <code>start</code>​ 指定修改的开始位置（从0计数）。如果超出了数组的长度，则从数组末尾开始添加内容；如果是负值，则表示从数组末位开始的第几位（从-1计数）；如果负数的绝对值大于数组的长度，则表示开始位置为第0位。<br>　　参数 <code>deleteCount</code> 表示要移除的数组元素的个数。如果 <code>deleteCount</code> 大于 <code>start</code> 之后元素的总数，则从 <code>start</code> 后面的元素都将被删除（含第 start 位）。如果 deleteCount 是 0 或者负数，则不移除元素。<br>　　<code>deleteCount</code> 之后的参数为将要被添加进数组的元素。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 只添加元素</span></span><br><span class=\"line\">arr.splice(<span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>)</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);  <span class=\"comment\">// [ 1, 4, 5, 6, 2, 3 ]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 删除元素并添加元素，相当于替换</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> result = arr.splice(<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">7</span>, <span class=\"number\">8</span>, <span class=\"number\">9</span>)</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);  <span class=\"comment\">// [ 1, 7, 8, 9, 6, 2, 3 ]</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(result); <span class=\"comment\">// [ 4, 5 ]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 只删除元素</span></span><br><span class=\"line\">arr.splice(<span class=\"number\">1</span>, <span class=\"number\">4</span>)</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);  <span class=\"comment\">// [ 1, 2, 3 ]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 从倒数第二个位置删除元素，并添加新元素</span></span><br><span class=\"line\">arr.splice(<span class=\"number\">-2</span>, <span class=\"number\">1</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>)</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);  <span class=\"comment\">// [ 1, 4, 5, 6, 3 ]</span></span><br></pre></td></tr></table></figure>\n\n\n<p><strong>Array.prototype.fill(value[, start[, end]])</strong> <em>使用一个固定值填充数组，返回修改后的数组</em> <strong>ES6新增</strong></p>\n<p>　　参数 <code>value</code> 表示用来填充数组元素的值，<code>start</code> （可选） 表示起始索引，默认值为0, <code>end</code> （可选） 表示终止索引，默认值为数组长度。start,end 为一个左闭右开的区间。当 <code>start</code> 或 <code>end</code> 为负数时，则表示从数组末位开始的第几位（从-1计数）。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">arr.fill(<span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);  <span class=\"comment\">// [ 1, 2, 0, 0, 5 ]</span></span><br><span class=\"line\"></span><br><span class=\"line\">arr.fill(<span class=\"number\">0</span>, <span class=\"number\">-4</span>, <span class=\"number\">-3</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);  <span class=\"comment\">// [ 1, 0, 0, 0, 5 ]</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Array.prototype.copyWithin(target[, start[, end]])</strong> <em>复制数组的一部分到同一数组中的另一个位置，不会改变原数组的长度，返回改变后的数组</em></p>\n<p>　　参数 <code>target</code> 表示复制的目标位置，如果是负数，将从末尾开始计算，如果其值超过数组的长度，将不会发生拷贝。<code>start</code> （可选） 表示被复制元素的起始位置， 默认值为0，如果是负数，<code>start</code> 将从末尾开始计算。<code>end</code> （可选） 表示被复制元素的结束位置，如果是负数，<code>end</code> 将从末尾开始计算。start,end 为一个左闭右开区间。若区间内的元素被复制到目标位置后超过数组的长度，则超过的部分将被舍弃。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.log([<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>].copyWithin(<span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>));</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log([<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>].copyWithin(<span class=\"number\">3</span>, <span class=\"number\">1</span>, <span class=\"number\">4</span>)); </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// [ 3, 4, 3, 4, 5 ]</span></span><br><span class=\"line\"><span class=\"comment\">// [ 1, 2, 3, 2, 3 ]</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Array.prototype.sort([compareFunction])</strong> <em>对数组内的元素进行排序</em></p>\n<p>　　参数 <code>compareFunction</code> 是用来指定按某种顺序进行排列的函数，它接收两个用于比较的元素，返回比较结果。假设 a 和 b 是两个将要被比较的元素：如果 compareFunction(a, b) 小于 0 ，那么 a 会被排列到 b 之前；如果 compareFunction(a, b) 等于 0，a 和 b 的相对位置不变；如果 compareFunction(a, b) 大于 0 ， b 会被排列到 a 之前。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">compare</span>(<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (a &lt; b ) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (a &gt; b ) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"number\">25</span>, <span class=\"number\">15</span>, <span class=\"number\">5</span>, <span class=\"number\">11</span>, <span class=\"number\">8</span>]</span><br><span class=\"line\">arr.sort(compare)</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);  <span class=\"comment\">// [ 5, 8, 11, 15, 25 ]</span></span><br></pre></td></tr></table></figure>\n<p>或者更加简单的写法:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"number\">25</span>, <span class=\"number\">15</span>, <span class=\"number\">5</span>, <span class=\"number\">11</span>, <span class=\"number\">8</span>]</span><br><span class=\"line\">arr.sort(<span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a == b ? <span class=\"number\">0</span> : ( a &gt; b ? <span class=\"number\">1</span> : <span class=\"number\">-1</span>));</span><br><span class=\"line\"><span class=\"comment\">// 当简单的比较数字时也可以写为: arr.sort((a, b) =&gt; a - b);</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);  <span class=\"comment\">// [ 5, 8, 11, 15, 25 ]</span></span><br></pre></td></tr></table></figure>\n<p>按对象的某个值进行排序:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">'john'</span>, <span class=\"attr\">value</span>: <span class=\"number\">20</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">'tom'</span>,  <span class=\"attr\">value</span>: <span class=\"number\">14</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">'may'</span>,  <span class=\"attr\">value</span>: <span class=\"number\">25</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">'abby'</span>, <span class=\"attr\">value</span>: <span class=\"number\">12</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">'amy'</span>,  <span class=\"attr\">value</span>: <span class=\"number\">16</span> &#125;,</span><br><span class=\"line\">]</span><br><span class=\"line\">arr.sort(<span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a.value == b.value ? <span class=\"number\">0</span> : ( a.value &gt; b.value ? <span class=\"number\">1</span> : <span class=\"number\">-1</span>));</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">[</span></span><br><span class=\"line\"><span class=\"comment\">  &#123; name: 'abby', value: 12 &#125;,</span></span><br><span class=\"line\"><span class=\"comment\">  &#123; name: 'tom',  value: 14 &#125;,</span></span><br><span class=\"line\"><span class=\"comment\">  &#123; name: 'amy',  value: 16 &#125;,</span></span><br><span class=\"line\"><span class=\"comment\">  &#123; name: 'john', value: 20 &#125;,</span></span><br><span class=\"line\"><span class=\"comment\">  &#123; name: 'may',  value: 25 &#125;</span></span><br><span class=\"line\"><span class=\"comment\">]</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n<p>当我们没有提供 <code>compareFunction</code> 参数时，<code>sort</code> 方法会将数组内的元素转换为字符串按<strong>字典序</strong>进行比较。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"number\">25</span>, <span class=\"number\">15</span>, <span class=\"number\">5</span>, <span class=\"number\">11</span>, <span class=\"number\">8</span>]</span><br><span class=\"line\"><span class=\"comment\">// arr 转化为字符串 ['25', '15', '5', '11', '8']</span></span><br><span class=\"line\">arr.sort();</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);  <span class=\"comment\">// [ 11, 15, 25, 5, 8 ]</span></span><br></pre></td></tr></table></figure>\n\n<p>　　以上就是数组中的插入/删除类方法，接下来将介绍数组中的访问方法，请点击 <a href=\"http://127.0.0.1:4000/archives/14/\">链接</a> 继续阅读。</p>\n","site":{"data":{}},"excerpt":"<p>　　数组是 JavaScript 中最为常用的数据类型之一，一个数组中可以存储多个相同类型或不同类型的元素，元素的类型可以是基本类型也可以是数组类型，本文就JS数组的属性与方法做一个简单的介绍，争取用丰富的例子让读者明晰数组中常用函数的用法，同时尝试实现一些数组的方法。</p>","more":"<h3 id=\"数组的构造\"><a href=\"#数组的构造\" class=\"headerlink\" title=\"数组的构造\"></a>数组的构造</h3><ul>\n<li><strong>直接构造</strong><br>　　最常用也最明显的方式就是直接写一个用中括号括起来的数组，如 <code>const arr = [1,2,3];</code></li>\n<li><strong>构造函数</strong><br>　　使用 <code>Array</code> 构造函数构造一个数组，函数原型为 <code>new Array(element0, element1[, ...[, elementN]])</code>，如 <code>const arr = new Array(1,2,3);</code> <strong>需要注意的是，当只向函数传递一个数值参数时，并不会构造出一个只包含一个元素的数组，该参数将作为数组的长度构造出一个含有N个空元素的数组</strong>，如 <code>const arr = new Array(5)</code> 则 arr 的值为 <code>[ &lt;5 empty items&gt; ]</code></li>\n<li><strong>Array.from</strong><br>　　<code>Array.from</code> 方法用于从一个类数组对象或者可迭代对象生成数组，函数原型为 <code>Array.from(arrayLike[, mapFn[, thisArg]]);</code> 函数生成的数组将是一个全新的数组，改变该数组不会影响原来的数组，例如 <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>]; </span><br><span class=\"line\"><span class=\"keyword\">const</span> arrCopy1 = arr;</span><br><span class=\"line\"><span class=\"keyword\">const</span> arrCopy2 = <span class=\"built_in\">Array</span>.from(arr);</span><br><span class=\"line\">arrCopy1[<span class=\"number\">0</span>] = <span class=\"number\">8</span>;</span><br><span class=\"line\">arrCopy2[<span class=\"number\">1</span>] = <span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr)  <span class=\"comment\">// [8,2,3]</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arrCopy1)  <span class=\"comment\">// [8,2,3]</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arrCopy2)  <span class=\"comment\">// [1,10,3]</span></span><br></pre></td></tr></table></figure>\n　　从类数组生成，那么什么是类数组呢？按照MDN的解释，类数组是具有length属性和索引元素的对象，因为是类数组，所以它不具备一般意义上的数组所拥有的方法，如 <code>const arrLike = {&#39;0&#39;:&#39;a&#39;, &#39;1&#39;:&#39;b&#39;, &#39;2&#39;:&#39;c&#39;, length:3};</code> arrlike 具有 length 属性且其元素是可被索引的。<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arrLike = &#123;<span class=\"string\">'0'</span>:<span class=\"string\">'a'</span>, <span class=\"string\">'1'</span>:<span class=\"string\">'b'</span>, <span class=\"string\">'2'</span>:<span class=\"string\">'c'</span>, <span class=\"attr\">length</span>:<span class=\"number\">3</span>&#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> arrCopy = <span class=\"built_in\">Array</span>.from(arrLike);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arrCopy)  <span class=\"comment\">// ['a','b','c']</span></span><br></pre></td></tr></table></figure>\n　　<code>Array.from</code> 默认从索引0开始查找元素，且生成的数组长度与类数组的 <code>length</code> 属性值一致，当找不到该索引时会将该索引对应的值设置为 <code>undefined</code>.<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arrLike = &#123;<span class=\"string\">'1'</span>:<span class=\"string\">'a'</span>, <span class=\"string\">'2'</span>:<span class=\"string\">'b'</span>, <span class=\"string\">'3'</span>:<span class=\"string\">'c'</span>, <span class=\"attr\">length</span>:<span class=\"number\">3</span>&#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> arrCopy = <span class=\"built_in\">Array</span>.from(arrLike);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arrCopy)  <span class=\"comment\">// [ undefined, 'a', 'b' ]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 从0开始查找，找不到设置为 undefined, 继续查找，找到索引为1和索引为2的元素，</span></span><br><span class=\"line\"><span class=\"comment\">// 因为length属性的值为3, 则停止查找</span></span><br></pre></td></tr></table></figure>\n　　函数的 <code>arguments</code> 对象是一种常见的类数组，我们可以使用 <code>Array.from</code> 函数将其转换为数组。<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"built_in\">arguments</span>);</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"built_in\">Array</span>.from(<span class=\"built_in\">arguments</span>));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">test(<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// [Arguments] &#123; '0': 1, '1': 2, '2': 3 &#125;</span></span><br><span class=\"line\"><span class=\"comment\">// [ 1, 2, 3 ]</span></span><br></pre></td></tr></table></figure>\n　　那么什么又是可迭代对象呢？<strong>可迭代对象内部通常都有一个迭代器，可以通过对迭代器的调用顺序的访问对象内的每一个元素</strong>。数组属于可迭代对象，ES6中的 <code>Set</code> 和 <code>Map</code> 也属于可迭代对象，关于可迭代对象的更多内容请参考网友写的一片文章<a href=\"https://segmentfault.com/a/1190000016824284\">【ES6】迭代器与可迭代对象</a><br>例如，ES6中的<a href=\"http://es6.ruanyifeng.com/#docs/generator\">生成器函数</a>返回一个可迭代对象，我们可以将该可迭代对象转换为数组<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>* <span class=\"title\">test</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"number\">1</span> + <span class=\"number\">2</span>;</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"number\">3</span> + <span class=\"number\">4</span>;</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"number\">5</span> + <span class=\"number\">7</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> gen = test();</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(gen)  <span class=\"comment\">// Object [Generator] &#123;&#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Array</span>.from(gen)) <span class=\"comment\">// [3,7,12]</span></span><br></pre></td></tr></table></figure></li>\n<li><strong>Array.of</strong><br>　　上文说道当我们只向 <code>Array</code> 构造函数传递一个数值时，不会创建包含单一元素的数组，而会创建包含N个元素的空数组。而 <code>Array.of</code> 就是解决这一问题的，向 <code>Array.of</code> 传递一个数值时将会创建出包含单一元素的数组。除此之外与构造函数无任何不同。<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = <span class=\"built_in\">Array</span>.of(<span class=\"number\">1</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);  <span class=\"comment\">// [1]</span></span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<h3 id=\"数组实例的属性\"><a href=\"#数组实例的属性\" class=\"headerlink\" title=\"数组实例的属性\"></a>数组实例的属性</h3><p>　　数组实例只有一个 <code>length</code> 属性，表示数组中元素的个数。</p>\n<h3 id=\"插入-删除类方法\"><a href=\"#插入-删除类方法\" class=\"headerlink\" title=\"插入/删除类方法\"></a>插入/删除类方法</h3><p>　　数组实例中的插入/删除类方法将会改变原数组。</p>\n<p><strong>Array.prototype.push(element1, …, elementN)</strong> <em>向数组末尾添加一个或者多个元素，返回数组新的长度</em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"keyword\">const</span> arr2 = [<span class=\"number\">7</span>,<span class=\"number\">8</span>,<span class=\"number\">9</span>];</span><br><span class=\"line\"><span class=\"keyword\">const</span> len = arr.push(<span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, arr2);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(len);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// [ 1, 2, 3, 4, 5, 6, [ 7, 8, 9 ] ]</span></span><br><span class=\"line\"><span class=\"comment\">// 7</span></span><br></pre></td></tr></table></figure>\n<p>从上面我们可以看到，<code>arr2</code> 是作为一个整体被添加到 <code>arr</code> 的末尾，有时候我们希望 <code>arr2</code> 合并到 <code>arr</code> 中，那么如何使用 <code>push</code> 方法实现数组的合并呢？答案是使用函数原型上的 <code>apply</code> 方法。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"keyword\">const</span> arr2 = [<span class=\"number\">7</span>,<span class=\"number\">8</span>,<span class=\"number\">9</span>];</span><br><span class=\"line\">arr.push.apply(arr,arr2);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// [ 1, 2, 3, 7, 8, 9 ]</span></span><br></pre></td></tr></table></figure>\n<p><code>apply</code> 法将 <code>arr2</code> 中的每一个元素作为参数参数传递给 <code>push</code> 方法，相当于 <code>arr.push(4,5,6)</code>, 关于 <code>apply</code> 的更多解释请参考 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/apply\">Function.prototype.apply()</a></p>\n<p>但是上面的实现是有缺陷的，它不能同时传入单个值的参数和数组参数，因为 <code>apply</code> 方法只接收一个数组参数，解决这一问题的方式是使用扩展运算符。ECMAScript6 定义了由三个点(…)组成的扩展运算符，它将数组转为用逗号分隔的参数序列。我们可以也使用它来实现数组的合并</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"keyword\">const</span> arr2 = [<span class=\"number\">7</span>,<span class=\"number\">8</span>,<span class=\"number\">9</span>];</span><br><span class=\"line\">arr.push(<span class=\"number\">4</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>, ...arr2);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// [1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br></pre></td></tr></table></figure>\n<p>这样就简单多了。</p>\n<p><strong>Array.prototype.pop()</strong> <em>删除数组的最后一个元素，返回该元素的值，当数组为空时返回undefined</em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"string\">'a'</span>,<span class=\"string\">'b'</span>]</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr.pop());  <span class=\"comment\">// b</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr.pop());  <span class=\"comment\">// a</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr.pop());  <span class=\"comment\">// undefined</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Array.prototype.unshift(element1, …, elementN)</strong> <em>向数组开头添加一个或者多个元素，返回数组新的长度</em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>];</span><br><span class=\"line\"><span class=\"keyword\">const</span> arr2 = [<span class=\"number\">7</span>,<span class=\"number\">8</span>,<span class=\"number\">9</span>];</span><br><span class=\"line\"><span class=\"keyword\">const</span> len = arr.unshift(<span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, arr2);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(len);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// [ 4, 5, 6, [ 7, 8, 9 ], 1, 2, 3 ]</span></span><br><span class=\"line\"><span class=\"comment\">// 7</span></span><br></pre></td></tr></table></figure>\n<p>传入多个参数时，插入数组中的顺序与作为参数时的顺序是一致的，同样你也可以使用上文提到的方法将一个数组合并到另一个数组的开头，这里就不再举例子了。</p>\n<p><strong>Array.prototype.shift()</strong> <em>删除数组的第一个元素，返回该元素的值，当数组为空时返回undefined</em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"string\">'a'</span>,<span class=\"string\">'b'</span>]</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr.shift());  <span class=\"comment\">// b</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr.shift());  <span class=\"comment\">// a</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr.shift());  <span class=\"comment\">// undefined</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Array.prototype.reverse()</strong> <em>反序数组中的元素的位置，返回反序后的数组</em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>]</span><br><span class=\"line\">arr.reverse()</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);  <span class=\"comment\">// [ 3, 2, 1 ]</span></span><br></pre></td></tr></table></figure>\n<p>配合 <code>apply</code> 或者 <code>call</code>, 该方法还可用于对类数组的反序，例如函数的 <code>arguments</code> 对象。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">Array</span>.prototype.reverse.call(<span class=\"built_in\">arguments</span>);</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"built_in\">arguments</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">test(<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// [Arguments] &#123; '0': 3, '1': 2, '2': 1 &#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Array.prototype.splice(start[, deleteCount[, item1[, item2[, …]]]])</strong> <em>删除/替换/增加元素，以数组的形式返回被删除的内容，若没有元素被删除则返回空数组</em></p>\n<p>　　该函数兼具删除、替换、增加三种功能，参数 <code>start</code>​ 指定修改的开始位置（从0计数）。如果超出了数组的长度，则从数组末尾开始添加内容；如果是负值，则表示从数组末位开始的第几位（从-1计数）；如果负数的绝对值大于数组的长度，则表示开始位置为第0位。<br>　　参数 <code>deleteCount</code> 表示要移除的数组元素的个数。如果 <code>deleteCount</code> 大于 <code>start</code> 之后元素的总数，则从 <code>start</code> 后面的元素都将被删除（含第 start 位）。如果 deleteCount 是 0 或者负数，则不移除元素。<br>　　<code>deleteCount</code> 之后的参数为将要被添加进数组的元素。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 只添加元素</span></span><br><span class=\"line\">arr.splice(<span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>)</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);  <span class=\"comment\">// [ 1, 4, 5, 6, 2, 3 ]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 删除元素并添加元素，相当于替换</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> result = arr.splice(<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">7</span>, <span class=\"number\">8</span>, <span class=\"number\">9</span>)</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);  <span class=\"comment\">// [ 1, 7, 8, 9, 6, 2, 3 ]</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(result); <span class=\"comment\">// [ 4, 5 ]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 只删除元素</span></span><br><span class=\"line\">arr.splice(<span class=\"number\">1</span>, <span class=\"number\">4</span>)</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);  <span class=\"comment\">// [ 1, 2, 3 ]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 从倒数第二个位置删除元素，并添加新元素</span></span><br><span class=\"line\">arr.splice(<span class=\"number\">-2</span>, <span class=\"number\">1</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>)</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);  <span class=\"comment\">// [ 1, 4, 5, 6, 3 ]</span></span><br></pre></td></tr></table></figure>\n\n\n<p><strong>Array.prototype.fill(value[, start[, end]])</strong> <em>使用一个固定值填充数组，返回修改后的数组</em> <strong>ES6新增</strong></p>\n<p>　　参数 <code>value</code> 表示用来填充数组元素的值，<code>start</code> （可选） 表示起始索引，默认值为0, <code>end</code> （可选） 表示终止索引，默认值为数组长度。start,end 为一个左闭右开的区间。当 <code>start</code> 或 <code>end</code> 为负数时，则表示从数组末位开始的第几位（从-1计数）。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">arr.fill(<span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);  <span class=\"comment\">// [ 1, 2, 0, 0, 5 ]</span></span><br><span class=\"line\"></span><br><span class=\"line\">arr.fill(<span class=\"number\">0</span>, <span class=\"number\">-4</span>, <span class=\"number\">-3</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);  <span class=\"comment\">// [ 1, 0, 0, 0, 5 ]</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Array.prototype.copyWithin(target[, start[, end]])</strong> <em>复制数组的一部分到同一数组中的另一个位置，不会改变原数组的长度，返回改变后的数组</em></p>\n<p>　　参数 <code>target</code> 表示复制的目标位置，如果是负数，将从末尾开始计算，如果其值超过数组的长度，将不会发生拷贝。<code>start</code> （可选） 表示被复制元素的起始位置， 默认值为0，如果是负数，<code>start</code> 将从末尾开始计算。<code>end</code> （可选） 表示被复制元素的结束位置，如果是负数，<code>end</code> 将从末尾开始计算。start,end 为一个左闭右开区间。若区间内的元素被复制到目标位置后超过数组的长度，则超过的部分将被舍弃。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.log([<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>].copyWithin(<span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>));</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log([<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>].copyWithin(<span class=\"number\">3</span>, <span class=\"number\">1</span>, <span class=\"number\">4</span>)); </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// [ 3, 4, 3, 4, 5 ]</span></span><br><span class=\"line\"><span class=\"comment\">// [ 1, 2, 3, 2, 3 ]</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Array.prototype.sort([compareFunction])</strong> <em>对数组内的元素进行排序</em></p>\n<p>　　参数 <code>compareFunction</code> 是用来指定按某种顺序进行排列的函数，它接收两个用于比较的元素，返回比较结果。假设 a 和 b 是两个将要被比较的元素：如果 compareFunction(a, b) 小于 0 ，那么 a 会被排列到 b 之前；如果 compareFunction(a, b) 等于 0，a 和 b 的相对位置不变；如果 compareFunction(a, b) 大于 0 ， b 会被排列到 a 之前。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">compare</span>(<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (a &lt; b ) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (a &gt; b ) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"number\">25</span>, <span class=\"number\">15</span>, <span class=\"number\">5</span>, <span class=\"number\">11</span>, <span class=\"number\">8</span>]</span><br><span class=\"line\">arr.sort(compare)</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);  <span class=\"comment\">// [ 5, 8, 11, 15, 25 ]</span></span><br></pre></td></tr></table></figure>\n<p>或者更加简单的写法:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"number\">25</span>, <span class=\"number\">15</span>, <span class=\"number\">5</span>, <span class=\"number\">11</span>, <span class=\"number\">8</span>]</span><br><span class=\"line\">arr.sort(<span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a == b ? <span class=\"number\">0</span> : ( a &gt; b ? <span class=\"number\">1</span> : <span class=\"number\">-1</span>));</span><br><span class=\"line\"><span class=\"comment\">// 当简单的比较数字时也可以写为: arr.sort((a, b) =&gt; a - b);</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);  <span class=\"comment\">// [ 5, 8, 11, 15, 25 ]</span></span><br></pre></td></tr></table></figure>\n<p>按对象的某个值进行排序:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">'john'</span>, <span class=\"attr\">value</span>: <span class=\"number\">20</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">'tom'</span>,  <span class=\"attr\">value</span>: <span class=\"number\">14</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">'may'</span>,  <span class=\"attr\">value</span>: <span class=\"number\">25</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">'abby'</span>, <span class=\"attr\">value</span>: <span class=\"number\">12</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">'amy'</span>,  <span class=\"attr\">value</span>: <span class=\"number\">16</span> &#125;,</span><br><span class=\"line\">]</span><br><span class=\"line\">arr.sort(<span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a.value == b.value ? <span class=\"number\">0</span> : ( a.value &gt; b.value ? <span class=\"number\">1</span> : <span class=\"number\">-1</span>));</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">[</span></span><br><span class=\"line\"><span class=\"comment\">  &#123; name: 'abby', value: 12 &#125;,</span></span><br><span class=\"line\"><span class=\"comment\">  &#123; name: 'tom',  value: 14 &#125;,</span></span><br><span class=\"line\"><span class=\"comment\">  &#123; name: 'amy',  value: 16 &#125;,</span></span><br><span class=\"line\"><span class=\"comment\">  &#123; name: 'john', value: 20 &#125;,</span></span><br><span class=\"line\"><span class=\"comment\">  &#123; name: 'may',  value: 25 &#125;</span></span><br><span class=\"line\"><span class=\"comment\">]</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n<p>当我们没有提供 <code>compareFunction</code> 参数时，<code>sort</code> 方法会将数组内的元素转换为字符串按<strong>字典序</strong>进行比较。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"number\">25</span>, <span class=\"number\">15</span>, <span class=\"number\">5</span>, <span class=\"number\">11</span>, <span class=\"number\">8</span>]</span><br><span class=\"line\"><span class=\"comment\">// arr 转化为字符串 ['25', '15', '5', '11', '8']</span></span><br><span class=\"line\">arr.sort();</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr);  <span class=\"comment\">// [ 11, 15, 25, 5, 8 ]</span></span><br></pre></td></tr></table></figure>\n\n<p>　　以上就是数组中的插入/删除类方法，接下来将介绍数组中的访问方法，请点击 <a href=\"http://127.0.0.1:4000/archives/14/\">链接</a> 继续阅读。</p>"},{"title":"bdtrans-一个命令行下的翻译工具","reward":true,"date":"2019-12-09T14:55:45.000Z","toc":true,"_content":"\n　　现如今，机器翻译技术已经越来越成熟了，尽管从整体来看机器翻译的结果还不是特别如意，但是也足以应付一般的翻译需求了。近几年机器翻译平台层出不穷，国外比较出名的翻译平台有Google翻译、必应翻译等，国内比较出名的也有百度翻译、有道翻译等。\n\n　　中国的百度公司在人工智能层面做的还算是蛮不错的（虽然它的搜索一直以来为人所诟病），笔者经常在Linux下做一些工作，当有翻译需求时不得不打开浏览器，进入百度翻译官网去翻译一些句子，这样显然是有些麻烦，我想如果百度翻译肯提供一个API的话就好了，这样我就能做一个在终端下调用API的小工具。\n<!-- More -->\n　　笔者尝试登录百度翻译的开发者平台，发现百度翻译果然提供了API，于是笔者便用Python脚本语言写了一个命令行下的调用百度翻译工具，将其命名为 **bdtrans**\n\n　　虽然笔者是在Linux下写的这个工具，但是其它平台也是支持的（前提是你的计算机上安装了一个python3的解释器），它所依赖的第三方包只有setuptools与prompt_toolkit.\n\n　　你可以将其当作一个pyhton包，在自己的脚本文件中导入并使用它，或者在python解释器中使用它，也可以将其完全当作一个命令行下的小工具，甚至启动交互式的翻译环境交互式翻译句子，它也支持从文件中读取翻译内容，并将翻译结果存储进文件中去，下面笔者简要介绍一下工具的使用。\n\n### 安装\n\n你可以使用Python包管理工具来安装它： **`pip install bdtrans`**\n\n你也可以下载源码包，解压后运行安装文件： **`python setup.py insatll`**\n\nGithub开源地址：[https://github.com/zsimline/bdtrans](https://github.com/zsimline/bdtrans)\n\n### 使用方式\n\n>　　首先，你应该去百度翻译的[官网](http://api.fanyi.baidu.com/)上注册一个账户，并按照官网上的指导并申请一个百度翻译API的AppID与秘钥。\n>　　当你首次尝试导入bdtrans包，或者在命令行工具下使用它时，它将会指引你输AppID、秘钥、默认的翻译规则等信息，并在输入完成后在你的用户目录下生成一个名为.bdtrans的配置文件，之后你就可以直接使用它而无需再次输入AppID等相关信息了。\n>　　需要注意的是，百度翻译限制调用API的频率为1s/次，所以请不要在1s内调用多次API\n\n\n### 模块函数\n\n**trans(words, source_lang=None, target_lang=None, reverse=False)**\n\n作用：翻译用户给定的句子，输出翻译结果\n\n|参数|含义|\n|:----|:----|\n|words|你想要翻译的句子|\n|source_lang|源语言代码（非必须）|\n|target_lang|目标语言代码（非必须）|\n|reverse|是否反转源语言与目标语言|\n\n```python\n>>> import bdtrans\n>>> bdtrans.trans('Hello, boy!','en','zh')\n>>> 你好，男孩！\n```\n\n\n**io_trans(input_file, output_file=None, quiet=False)**\n\n作用：从文件中读取翻译内容，如果指定了输出文件，翻译结果将被存储到输出文件中\n\n|参数|含义|\n|:----|:----|\n|input_file|输入的文件名|\n|output_file|输出的文件名|\n|quiet|是否关闭控制台输出|\n\n\n **set_lang(source_lang, target_lang)**\n\n作用：设置源语言代码与目标语言代码\n\n|参数|含义|\n|:----|:----|\n|source_lang|源语言代码|\n|target_lang|目标语言代码|\n\n\n **save(file_name)**\n\n作用：保存翻译结果到文件中\n\n|参数|含义|\n|:----|:----|\n|file_name|保存的文件名|\n\n\n**reverse_lang()**\n\n作用：反转源语言与目标语言\n\n\n**list_langs()**\n\n作用：打印目前支持的语言列表\n\n\n**display_rules**\n\n作用：显示当前的语言翻译规则\n\n\n**change_appid()**\n\n作用：按照向导改变配置文件中的AppID\n\n\n**change_lang()**\n\n作用：按照向导改变配置文件中的默认翻译规则\n\n\n**initialize_app()**\n\n作用：按照向导初始化APP\n\n\n### 命令行工具\n\n>可以直接在命令行下使用它，最重要的是你可以使用 \"bdtrans -S\" 进入交互式的翻译环境。\n\n**bdtrans [选项] 待翻译文本**\n\n#### 选项\n\n|选项|含义|\n|:----|:----|\n|-h, --help|显示帮助消息|\n|-v, --version|显示程序版本|\n|-l, --list|打印语言列表|\n|-S, --shell|启动交互式翻译环境|\n|-s code, --source code|指定源语言|\n|-t code, --target code|指定目标语言|\n|-i filename, --input filename|指定输入文件|\n|-o filename, --output filename|指定输出文件|\n|--init|按照向导初始化APP|\n|--changeinfo|改变配置文件中的AppID|\n|--changelang|改变配置文件中的翻译规则|\n\n#### 交互环境下的选项\n|选项|含义|\n|:----|:----|\n|/reve|反转源语言与目标语言|\n|/rule|显示当前的翻译规则|\n|/list|打印支持的语言列表|\n|/help|显示帮助信息|\n|/quit|退出交互环境|\n|/save filename|保存翻译结果|\n|/setlang source_lang target_lang|设置源语言与目标语言|\n```shell\nuser@host:$ bdtrans 德玛西亚万岁\nuser@host:$ Long live Demasia\nuser@host:$ bdtrans -t ara 德玛西亚万岁\nuser@host:$ فيفا دي مارسيا\nuser@host:$ bdtrans -s zh 德玛西亚万岁\nuser@host:$ 不可以只指定源语言！\n```\n\n>在交互环境下可以使用 =code 来临时的指定目标语言，此时源语言将自动的被指定为auto, 例如 \" =zh hello world \"\n```python\n>=th 你在地球嗑瓜子\nคุณใช้เมล็ดแตงโมบนโลก\n>=jp 我在月球吃西瓜\n月でスイカを食べます\n```\n\n\n### 支持的语言列表\n\n|语言代码|语言|\n|:----|:----|\n|zh|中文|\n|en|英语|\n|yue|粤语|\n|wyw|文言文|\n|jp|日语|\n|kor|韩语|\n|fra|法语|\n|spa|西班牙语|\n|th|泰语|\n|ara|阿拉伯语|\n|ru|俄语|\n|pt|葡萄牙语|\n|de|德语|\n|it|意大利语|\n|el|希腊语|\n|nl|荷兰语|\n|pl|波兰语|\n|bul|保加利亚语|\n|est|爱沙尼亚语|\n|dan|丹麦语|\n|fin|芬兰语|\n|cs|捷克语|\n|rom|罗马尼亚语|\n|slo|斯洛文尼亚语|\n|swe|瑞典语|\n|hu|匈牙利语|\n|cht|繁体中文|\n|vie|越南语|\n|auto|自动检测|\n","source":"_posts/bdtrans-一个命令行下的翻译工具.md","raw":"---\ntitle: bdtrans-一个命令行下的翻译工具\nreward: true\ndate: 2019-12-09 22:55:45\ntags: 工具使用\npermalink: 5\ncategories: 工具使用\ntoc: true\n---\n\n　　现如今，机器翻译技术已经越来越成熟了，尽管从整体来看机器翻译的结果还不是特别如意，但是也足以应付一般的翻译需求了。近几年机器翻译平台层出不穷，国外比较出名的翻译平台有Google翻译、必应翻译等，国内比较出名的也有百度翻译、有道翻译等。\n\n　　中国的百度公司在人工智能层面做的还算是蛮不错的（虽然它的搜索一直以来为人所诟病），笔者经常在Linux下做一些工作，当有翻译需求时不得不打开浏览器，进入百度翻译官网去翻译一些句子，这样显然是有些麻烦，我想如果百度翻译肯提供一个API的话就好了，这样我就能做一个在终端下调用API的小工具。\n<!-- More -->\n　　笔者尝试登录百度翻译的开发者平台，发现百度翻译果然提供了API，于是笔者便用Python脚本语言写了一个命令行下的调用百度翻译工具，将其命名为 **bdtrans**\n\n　　虽然笔者是在Linux下写的这个工具，但是其它平台也是支持的（前提是你的计算机上安装了一个python3的解释器），它所依赖的第三方包只有setuptools与prompt_toolkit.\n\n　　你可以将其当作一个pyhton包，在自己的脚本文件中导入并使用它，或者在python解释器中使用它，也可以将其完全当作一个命令行下的小工具，甚至启动交互式的翻译环境交互式翻译句子，它也支持从文件中读取翻译内容，并将翻译结果存储进文件中去，下面笔者简要介绍一下工具的使用。\n\n### 安装\n\n你可以使用Python包管理工具来安装它： **`pip install bdtrans`**\n\n你也可以下载源码包，解压后运行安装文件： **`python setup.py insatll`**\n\nGithub开源地址：[https://github.com/zsimline/bdtrans](https://github.com/zsimline/bdtrans)\n\n### 使用方式\n\n>　　首先，你应该去百度翻译的[官网](http://api.fanyi.baidu.com/)上注册一个账户，并按照官网上的指导并申请一个百度翻译API的AppID与秘钥。\n>　　当你首次尝试导入bdtrans包，或者在命令行工具下使用它时，它将会指引你输AppID、秘钥、默认的翻译规则等信息，并在输入完成后在你的用户目录下生成一个名为.bdtrans的配置文件，之后你就可以直接使用它而无需再次输入AppID等相关信息了。\n>　　需要注意的是，百度翻译限制调用API的频率为1s/次，所以请不要在1s内调用多次API\n\n\n### 模块函数\n\n**trans(words, source_lang=None, target_lang=None, reverse=False)**\n\n作用：翻译用户给定的句子，输出翻译结果\n\n|参数|含义|\n|:----|:----|\n|words|你想要翻译的句子|\n|source_lang|源语言代码（非必须）|\n|target_lang|目标语言代码（非必须）|\n|reverse|是否反转源语言与目标语言|\n\n```python\n>>> import bdtrans\n>>> bdtrans.trans('Hello, boy!','en','zh')\n>>> 你好，男孩！\n```\n\n\n**io_trans(input_file, output_file=None, quiet=False)**\n\n作用：从文件中读取翻译内容，如果指定了输出文件，翻译结果将被存储到输出文件中\n\n|参数|含义|\n|:----|:----|\n|input_file|输入的文件名|\n|output_file|输出的文件名|\n|quiet|是否关闭控制台输出|\n\n\n **set_lang(source_lang, target_lang)**\n\n作用：设置源语言代码与目标语言代码\n\n|参数|含义|\n|:----|:----|\n|source_lang|源语言代码|\n|target_lang|目标语言代码|\n\n\n **save(file_name)**\n\n作用：保存翻译结果到文件中\n\n|参数|含义|\n|:----|:----|\n|file_name|保存的文件名|\n\n\n**reverse_lang()**\n\n作用：反转源语言与目标语言\n\n\n**list_langs()**\n\n作用：打印目前支持的语言列表\n\n\n**display_rules**\n\n作用：显示当前的语言翻译规则\n\n\n**change_appid()**\n\n作用：按照向导改变配置文件中的AppID\n\n\n**change_lang()**\n\n作用：按照向导改变配置文件中的默认翻译规则\n\n\n**initialize_app()**\n\n作用：按照向导初始化APP\n\n\n### 命令行工具\n\n>可以直接在命令行下使用它，最重要的是你可以使用 \"bdtrans -S\" 进入交互式的翻译环境。\n\n**bdtrans [选项] 待翻译文本**\n\n#### 选项\n\n|选项|含义|\n|:----|:----|\n|-h, --help|显示帮助消息|\n|-v, --version|显示程序版本|\n|-l, --list|打印语言列表|\n|-S, --shell|启动交互式翻译环境|\n|-s code, --source code|指定源语言|\n|-t code, --target code|指定目标语言|\n|-i filename, --input filename|指定输入文件|\n|-o filename, --output filename|指定输出文件|\n|--init|按照向导初始化APP|\n|--changeinfo|改变配置文件中的AppID|\n|--changelang|改变配置文件中的翻译规则|\n\n#### 交互环境下的选项\n|选项|含义|\n|:----|:----|\n|/reve|反转源语言与目标语言|\n|/rule|显示当前的翻译规则|\n|/list|打印支持的语言列表|\n|/help|显示帮助信息|\n|/quit|退出交互环境|\n|/save filename|保存翻译结果|\n|/setlang source_lang target_lang|设置源语言与目标语言|\n```shell\nuser@host:$ bdtrans 德玛西亚万岁\nuser@host:$ Long live Demasia\nuser@host:$ bdtrans -t ara 德玛西亚万岁\nuser@host:$ فيفا دي مارسيا\nuser@host:$ bdtrans -s zh 德玛西亚万岁\nuser@host:$ 不可以只指定源语言！\n```\n\n>在交互环境下可以使用 =code 来临时的指定目标语言，此时源语言将自动的被指定为auto, 例如 \" =zh hello world \"\n```python\n>=th 你在地球嗑瓜子\nคุณใช้เมล็ดแตงโมบนโลก\n>=jp 我在月球吃西瓜\n月でスイカを食べます\n```\n\n\n### 支持的语言列表\n\n|语言代码|语言|\n|:----|:----|\n|zh|中文|\n|en|英语|\n|yue|粤语|\n|wyw|文言文|\n|jp|日语|\n|kor|韩语|\n|fra|法语|\n|spa|西班牙语|\n|th|泰语|\n|ara|阿拉伯语|\n|ru|俄语|\n|pt|葡萄牙语|\n|de|德语|\n|it|意大利语|\n|el|希腊语|\n|nl|荷兰语|\n|pl|波兰语|\n|bul|保加利亚语|\n|est|爱沙尼亚语|\n|dan|丹麦语|\n|fin|芬兰语|\n|cs|捷克语|\n|rom|罗马尼亚语|\n|slo|斯洛文尼亚语|\n|swe|瑞典语|\n|hu|匈牙利语|\n|cht|繁体中文|\n|vie|越南语|\n|auto|自动检测|\n","slug":"5","published":1,"updated":"2020-01-07T07:48:42.753Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck541mor70006ecfw4nmwhwmq","content":"<p>　　现如今，机器翻译技术已经越来越成熟了，尽管从整体来看机器翻译的结果还不是特别如意，但是也足以应付一般的翻译需求了。近几年机器翻译平台层出不穷，国外比较出名的翻译平台有Google翻译、必应翻译等，国内比较出名的也有百度翻译、有道翻译等。</p>\n<p>　　中国的百度公司在人工智能层面做的还算是蛮不错的（虽然它的搜索一直以来为人所诟病），笔者经常在Linux下做一些工作，当有翻译需求时不得不打开浏览器，进入百度翻译官网去翻译一些句子，这样显然是有些麻烦，我想如果百度翻译肯提供一个API的话就好了，这样我就能做一个在终端下调用API的小工具。</p>\n<a id=\"more\"></a>\n<p>　　笔者尝试登录百度翻译的开发者平台，发现百度翻译果然提供了API，于是笔者便用Python脚本语言写了一个命令行下的调用百度翻译工具，将其命名为 <strong>bdtrans</strong></p>\n<p>　　虽然笔者是在Linux下写的这个工具，但是其它平台也是支持的（前提是你的计算机上安装了一个python3的解释器），它所依赖的第三方包只有setuptools与prompt_toolkit.</p>\n<p>　　你可以将其当作一个pyhton包，在自己的脚本文件中导入并使用它，或者在python解释器中使用它，也可以将其完全当作一个命令行下的小工具，甚至启动交互式的翻译环境交互式翻译句子，它也支持从文件中读取翻译内容，并将翻译结果存储进文件中去，下面笔者简要介绍一下工具的使用。</p>\n<h3 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h3><p>你可以使用Python包管理工具来安装它： <strong><code>pip install bdtrans</code></strong></p>\n<p>你也可以下载源码包，解压后运行安装文件： <strong><code>python setup.py insatll</code></strong></p>\n<p>Github开源地址：<a href=\"https://github.com/zsimline/bdtrans\">https://github.com/zsimline/bdtrans</a></p>\n<h3 id=\"使用方式\"><a href=\"#使用方式\" class=\"headerlink\" title=\"使用方式\"></a>使用方式</h3><blockquote>\n<p>　　首先，你应该去百度翻译的<a href=\"http://api.fanyi.baidu.com/\">官网</a>上注册一个账户，并按照官网上的指导并申请一个百度翻译API的AppID与秘钥。<br>　　当你首次尝试导入bdtrans包，或者在命令行工具下使用它时，它将会指引你输AppID、秘钥、默认的翻译规则等信息，并在输入完成后在你的用户目录下生成一个名为.bdtrans的配置文件，之后你就可以直接使用它而无需再次输入AppID等相关信息了。<br>　　需要注意的是，百度翻译限制调用API的频率为1s/次，所以请不要在1s内调用多次API</p>\n</blockquote>\n<h3 id=\"模块函数\"><a href=\"#模块函数\" class=\"headerlink\" title=\"模块函数\"></a>模块函数</h3><p><strong>trans(words, source_lang=None, target_lang=None, reverse=False)</strong></p>\n<p>作用：翻译用户给定的句子，输出翻译结果</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"left\">含义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">words</td>\n<td align=\"left\">你想要翻译的句子</td>\n</tr>\n<tr>\n<td align=\"left\">source_lang</td>\n<td align=\"left\">源语言代码（非必须）</td>\n</tr>\n<tr>\n<td align=\"left\">target_lang</td>\n<td align=\"left\">目标语言代码（非必须）</td>\n</tr>\n<tr>\n<td align=\"left\">reverse</td>\n<td align=\"left\">是否反转源语言与目标语言</td>\n</tr>\n</tbody></table>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span><span class=\"keyword\">import</span> bdtrans</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>bdtrans.trans(<span class=\"string\">'Hello, boy!'</span>,<span class=\"string\">'en'</span>,<span class=\"string\">'zh'</span>)</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>你好，男孩！</span><br></pre></td></tr></table></figure>\n\n\n<p><strong>io_trans(input_file, output_file=None, quiet=False)</strong></p>\n<p>作用：从文件中读取翻译内容，如果指定了输出文件，翻译结果将被存储到输出文件中</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"left\">含义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">input_file</td>\n<td align=\"left\">输入的文件名</td>\n</tr>\n<tr>\n<td align=\"left\">output_file</td>\n<td align=\"left\">输出的文件名</td>\n</tr>\n<tr>\n<td align=\"left\">quiet</td>\n<td align=\"left\">是否关闭控制台输出</td>\n</tr>\n</tbody></table>\n<p> <strong>set_lang(source_lang, target_lang)</strong></p>\n<p>作用：设置源语言代码与目标语言代码</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"left\">含义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">source_lang</td>\n<td align=\"left\">源语言代码</td>\n</tr>\n<tr>\n<td align=\"left\">target_lang</td>\n<td align=\"left\">目标语言代码</td>\n</tr>\n</tbody></table>\n<p> <strong>save(file_name)</strong></p>\n<p>作用：保存翻译结果到文件中</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"left\">含义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">file_name</td>\n<td align=\"left\">保存的文件名</td>\n</tr>\n</tbody></table>\n<p><strong>reverse_lang()</strong></p>\n<p>作用：反转源语言与目标语言</p>\n<p><strong>list_langs()</strong></p>\n<p>作用：打印目前支持的语言列表</p>\n<p><strong>display_rules</strong></p>\n<p>作用：显示当前的语言翻译规则</p>\n<p><strong>change_appid()</strong></p>\n<p>作用：按照向导改变配置文件中的AppID</p>\n<p><strong>change_lang()</strong></p>\n<p>作用：按照向导改变配置文件中的默认翻译规则</p>\n<p><strong>initialize_app()</strong></p>\n<p>作用：按照向导初始化APP</p>\n<h3 id=\"命令行工具\"><a href=\"#命令行工具\" class=\"headerlink\" title=\"命令行工具\"></a>命令行工具</h3><blockquote>\n<p>可以直接在命令行下使用它，最重要的是你可以使用 “bdtrans -S” 进入交互式的翻译环境。</p>\n</blockquote>\n<p><strong>bdtrans [选项] 待翻译文本</strong></p>\n<h4 id=\"选项\"><a href=\"#选项\" class=\"headerlink\" title=\"选项\"></a>选项</h4><table>\n<thead>\n<tr>\n<th align=\"left\">选项</th>\n<th align=\"left\">含义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">-h, –help</td>\n<td align=\"left\">显示帮助消息</td>\n</tr>\n<tr>\n<td align=\"left\">-v, –version</td>\n<td align=\"left\">显示程序版本</td>\n</tr>\n<tr>\n<td align=\"left\">-l, –list</td>\n<td align=\"left\">打印语言列表</td>\n</tr>\n<tr>\n<td align=\"left\">-S, –shell</td>\n<td align=\"left\">启动交互式翻译环境</td>\n</tr>\n<tr>\n<td align=\"left\">-s code, –source code</td>\n<td align=\"left\">指定源语言</td>\n</tr>\n<tr>\n<td align=\"left\">-t code, –target code</td>\n<td align=\"left\">指定目标语言</td>\n</tr>\n<tr>\n<td align=\"left\">-i filename, –input filename</td>\n<td align=\"left\">指定输入文件</td>\n</tr>\n<tr>\n<td align=\"left\">-o filename, –output filename</td>\n<td align=\"left\">指定输出文件</td>\n</tr>\n<tr>\n<td align=\"left\">–init</td>\n<td align=\"left\">按照向导初始化APP</td>\n</tr>\n<tr>\n<td align=\"left\">–changeinfo</td>\n<td align=\"left\">改变配置文件中的AppID</td>\n</tr>\n<tr>\n<td align=\"left\">–changelang</td>\n<td align=\"left\">改变配置文件中的翻译规则</td>\n</tr>\n</tbody></table>\n<h4 id=\"交互环境下的选项\"><a href=\"#交互环境下的选项\" class=\"headerlink\" title=\"交互环境下的选项\"></a>交互环境下的选项</h4><table>\n<thead>\n<tr>\n<th align=\"left\">选项</th>\n<th align=\"left\">含义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">/reve</td>\n<td align=\"left\">反转源语言与目标语言</td>\n</tr>\n<tr>\n<td align=\"left\">/rule</td>\n<td align=\"left\">显示当前的翻译规则</td>\n</tr>\n<tr>\n<td align=\"left\">/list</td>\n<td align=\"left\">打印支持的语言列表</td>\n</tr>\n<tr>\n<td align=\"left\">/help</td>\n<td align=\"left\">显示帮助信息</td>\n</tr>\n<tr>\n<td align=\"left\">/quit</td>\n<td align=\"left\">退出交互环境</td>\n</tr>\n<tr>\n<td align=\"left\">/save filename</td>\n<td align=\"left\">保存翻译结果</td>\n</tr>\n<tr>\n<td align=\"left\">/setlang source_lang target_lang</td>\n<td align=\"left\">设置源语言与目标语言</td>\n</tr>\n<tr>\n<td align=\"left\"><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">user@host:$ bdtrans 德玛西亚万岁</span><br><span class=\"line\">user@host:$ Long live Demasia</span><br><span class=\"line\">user@host:$ bdtrans -t ara 德玛西亚万岁</span><br><span class=\"line\">user@host:$ فيفا دي مارسيا</span><br><span class=\"line\">user@host:$ bdtrans -s zh 德玛西亚万岁</span><br><span class=\"line\">user@host:$ 不可以只指定源语言！</span><br></pre></td></tr></table></figure></td>\n<td align=\"left\"></td>\n</tr>\n</tbody></table>\n<blockquote>\n<p>在交互环境下可以使用 =code 来临时的指定目标语言，此时源语言将自动的被指定为auto, 例如 “ =zh hello world “</p>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;=th 你在地球嗑瓜子</span><br><span class=\"line\">คุณใช้เมล็ดแตงโมบนโลก</span><br><span class=\"line\">&gt;=jp 我在月球吃西瓜</span><br><span class=\"line\">月でスイカを食べます</span><br></pre></td></tr></table></figure>\n\n\n<h3 id=\"支持的语言列表\"><a href=\"#支持的语言列表\" class=\"headerlink\" title=\"支持的语言列表\"></a>支持的语言列表</h3><table>\n<thead>\n<tr>\n<th align=\"left\">语言代码</th>\n<th align=\"left\">语言</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">zh</td>\n<td align=\"left\">中文</td>\n</tr>\n<tr>\n<td align=\"left\">en</td>\n<td align=\"left\">英语</td>\n</tr>\n<tr>\n<td align=\"left\">yue</td>\n<td align=\"left\">粤语</td>\n</tr>\n<tr>\n<td align=\"left\">wyw</td>\n<td align=\"left\">文言文</td>\n</tr>\n<tr>\n<td align=\"left\">jp</td>\n<td align=\"left\">日语</td>\n</tr>\n<tr>\n<td align=\"left\">kor</td>\n<td align=\"left\">韩语</td>\n</tr>\n<tr>\n<td align=\"left\">fra</td>\n<td align=\"left\">法语</td>\n</tr>\n<tr>\n<td align=\"left\">spa</td>\n<td align=\"left\">西班牙语</td>\n</tr>\n<tr>\n<td align=\"left\">th</td>\n<td align=\"left\">泰语</td>\n</tr>\n<tr>\n<td align=\"left\">ara</td>\n<td align=\"left\">阿拉伯语</td>\n</tr>\n<tr>\n<td align=\"left\">ru</td>\n<td align=\"left\">俄语</td>\n</tr>\n<tr>\n<td align=\"left\">pt</td>\n<td align=\"left\">葡萄牙语</td>\n</tr>\n<tr>\n<td align=\"left\">de</td>\n<td align=\"left\">德语</td>\n</tr>\n<tr>\n<td align=\"left\">it</td>\n<td align=\"left\">意大利语</td>\n</tr>\n<tr>\n<td align=\"left\">el</td>\n<td align=\"left\">希腊语</td>\n</tr>\n<tr>\n<td align=\"left\">nl</td>\n<td align=\"left\">荷兰语</td>\n</tr>\n<tr>\n<td align=\"left\">pl</td>\n<td align=\"left\">波兰语</td>\n</tr>\n<tr>\n<td align=\"left\">bul</td>\n<td align=\"left\">保加利亚语</td>\n</tr>\n<tr>\n<td align=\"left\">est</td>\n<td align=\"left\">爱沙尼亚语</td>\n</tr>\n<tr>\n<td align=\"left\">dan</td>\n<td align=\"left\">丹麦语</td>\n</tr>\n<tr>\n<td align=\"left\">fin</td>\n<td align=\"left\">芬兰语</td>\n</tr>\n<tr>\n<td align=\"left\">cs</td>\n<td align=\"left\">捷克语</td>\n</tr>\n<tr>\n<td align=\"left\">rom</td>\n<td align=\"left\">罗马尼亚语</td>\n</tr>\n<tr>\n<td align=\"left\">slo</td>\n<td align=\"left\">斯洛文尼亚语</td>\n</tr>\n<tr>\n<td align=\"left\">swe</td>\n<td align=\"left\">瑞典语</td>\n</tr>\n<tr>\n<td align=\"left\">hu</td>\n<td align=\"left\">匈牙利语</td>\n</tr>\n<tr>\n<td align=\"left\">cht</td>\n<td align=\"left\">繁体中文</td>\n</tr>\n<tr>\n<td align=\"left\">vie</td>\n<td align=\"left\">越南语</td>\n</tr>\n<tr>\n<td align=\"left\">auto</td>\n<td align=\"left\">自动检测</td>\n</tr>\n</tbody></table>\n","site":{"data":{}},"excerpt":"<p>　　现如今，机器翻译技术已经越来越成熟了，尽管从整体来看机器翻译的结果还不是特别如意，但是也足以应付一般的翻译需求了。近几年机器翻译平台层出不穷，国外比较出名的翻译平台有Google翻译、必应翻译等，国内比较出名的也有百度翻译、有道翻译等。</p>\n<p>　　中国的百度公司在人工智能层面做的还算是蛮不错的（虽然它的搜索一直以来为人所诟病），笔者经常在Linux下做一些工作，当有翻译需求时不得不打开浏览器，进入百度翻译官网去翻译一些句子，这样显然是有些麻烦，我想如果百度翻译肯提供一个API的话就好了，这样我就能做一个在终端下调用API的小工具。</p>","more":"<p>　　笔者尝试登录百度翻译的开发者平台，发现百度翻译果然提供了API，于是笔者便用Python脚本语言写了一个命令行下的调用百度翻译工具，将其命名为 <strong>bdtrans</strong></p>\n<p>　　虽然笔者是在Linux下写的这个工具，但是其它平台也是支持的（前提是你的计算机上安装了一个python3的解释器），它所依赖的第三方包只有setuptools与prompt_toolkit.</p>\n<p>　　你可以将其当作一个pyhton包，在自己的脚本文件中导入并使用它，或者在python解释器中使用它，也可以将其完全当作一个命令行下的小工具，甚至启动交互式的翻译环境交互式翻译句子，它也支持从文件中读取翻译内容，并将翻译结果存储进文件中去，下面笔者简要介绍一下工具的使用。</p>\n<h3 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h3><p>你可以使用Python包管理工具来安装它： <strong><code>pip install bdtrans</code></strong></p>\n<p>你也可以下载源码包，解压后运行安装文件： <strong><code>python setup.py insatll</code></strong></p>\n<p>Github开源地址：<a href=\"https://github.com/zsimline/bdtrans\">https://github.com/zsimline/bdtrans</a></p>\n<h3 id=\"使用方式\"><a href=\"#使用方式\" class=\"headerlink\" title=\"使用方式\"></a>使用方式</h3><blockquote>\n<p>　　首先，你应该去百度翻译的<a href=\"http://api.fanyi.baidu.com/\">官网</a>上注册一个账户，并按照官网上的指导并申请一个百度翻译API的AppID与秘钥。<br>　　当你首次尝试导入bdtrans包，或者在命令行工具下使用它时，它将会指引你输AppID、秘钥、默认的翻译规则等信息，并在输入完成后在你的用户目录下生成一个名为.bdtrans的配置文件，之后你就可以直接使用它而无需再次输入AppID等相关信息了。<br>　　需要注意的是，百度翻译限制调用API的频率为1s/次，所以请不要在1s内调用多次API</p>\n</blockquote>\n<h3 id=\"模块函数\"><a href=\"#模块函数\" class=\"headerlink\" title=\"模块函数\"></a>模块函数</h3><p><strong>trans(words, source_lang=None, target_lang=None, reverse=False)</strong></p>\n<p>作用：翻译用户给定的句子，输出翻译结果</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"left\">含义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">words</td>\n<td align=\"left\">你想要翻译的句子</td>\n</tr>\n<tr>\n<td align=\"left\">source_lang</td>\n<td align=\"left\">源语言代码（非必须）</td>\n</tr>\n<tr>\n<td align=\"left\">target_lang</td>\n<td align=\"left\">目标语言代码（非必须）</td>\n</tr>\n<tr>\n<td align=\"left\">reverse</td>\n<td align=\"left\">是否反转源语言与目标语言</td>\n</tr>\n</tbody></table>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span><span class=\"keyword\">import</span> bdtrans</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>bdtrans.trans(<span class=\"string\">'Hello, boy!'</span>,<span class=\"string\">'en'</span>,<span class=\"string\">'zh'</span>)</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>你好，男孩！</span><br></pre></td></tr></table></figure>\n\n\n<p><strong>io_trans(input_file, output_file=None, quiet=False)</strong></p>\n<p>作用：从文件中读取翻译内容，如果指定了输出文件，翻译结果将被存储到输出文件中</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"left\">含义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">input_file</td>\n<td align=\"left\">输入的文件名</td>\n</tr>\n<tr>\n<td align=\"left\">output_file</td>\n<td align=\"left\">输出的文件名</td>\n</tr>\n<tr>\n<td align=\"left\">quiet</td>\n<td align=\"left\">是否关闭控制台输出</td>\n</tr>\n</tbody></table>\n<p> <strong>set_lang(source_lang, target_lang)</strong></p>\n<p>作用：设置源语言代码与目标语言代码</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"left\">含义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">source_lang</td>\n<td align=\"left\">源语言代码</td>\n</tr>\n<tr>\n<td align=\"left\">target_lang</td>\n<td align=\"left\">目标语言代码</td>\n</tr>\n</tbody></table>\n<p> <strong>save(file_name)</strong></p>\n<p>作用：保存翻译结果到文件中</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"left\">含义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">file_name</td>\n<td align=\"left\">保存的文件名</td>\n</tr>\n</tbody></table>\n<p><strong>reverse_lang()</strong></p>\n<p>作用：反转源语言与目标语言</p>\n<p><strong>list_langs()</strong></p>\n<p>作用：打印目前支持的语言列表</p>\n<p><strong>display_rules</strong></p>\n<p>作用：显示当前的语言翻译规则</p>\n<p><strong>change_appid()</strong></p>\n<p>作用：按照向导改变配置文件中的AppID</p>\n<p><strong>change_lang()</strong></p>\n<p>作用：按照向导改变配置文件中的默认翻译规则</p>\n<p><strong>initialize_app()</strong></p>\n<p>作用：按照向导初始化APP</p>\n<h3 id=\"命令行工具\"><a href=\"#命令行工具\" class=\"headerlink\" title=\"命令行工具\"></a>命令行工具</h3><blockquote>\n<p>可以直接在命令行下使用它，最重要的是你可以使用 “bdtrans -S” 进入交互式的翻译环境。</p>\n</blockquote>\n<p><strong>bdtrans [选项] 待翻译文本</strong></p>\n<h4 id=\"选项\"><a href=\"#选项\" class=\"headerlink\" title=\"选项\"></a>选项</h4><table>\n<thead>\n<tr>\n<th align=\"left\">选项</th>\n<th align=\"left\">含义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">-h, –help</td>\n<td align=\"left\">显示帮助消息</td>\n</tr>\n<tr>\n<td align=\"left\">-v, –version</td>\n<td align=\"left\">显示程序版本</td>\n</tr>\n<tr>\n<td align=\"left\">-l, –list</td>\n<td align=\"left\">打印语言列表</td>\n</tr>\n<tr>\n<td align=\"left\">-S, –shell</td>\n<td align=\"left\">启动交互式翻译环境</td>\n</tr>\n<tr>\n<td align=\"left\">-s code, –source code</td>\n<td align=\"left\">指定源语言</td>\n</tr>\n<tr>\n<td align=\"left\">-t code, –target code</td>\n<td align=\"left\">指定目标语言</td>\n</tr>\n<tr>\n<td align=\"left\">-i filename, –input filename</td>\n<td align=\"left\">指定输入文件</td>\n</tr>\n<tr>\n<td align=\"left\">-o filename, –output filename</td>\n<td align=\"left\">指定输出文件</td>\n</tr>\n<tr>\n<td align=\"left\">–init</td>\n<td align=\"left\">按照向导初始化APP</td>\n</tr>\n<tr>\n<td align=\"left\">–changeinfo</td>\n<td align=\"left\">改变配置文件中的AppID</td>\n</tr>\n<tr>\n<td align=\"left\">–changelang</td>\n<td align=\"left\">改变配置文件中的翻译规则</td>\n</tr>\n</tbody></table>\n<h4 id=\"交互环境下的选项\"><a href=\"#交互环境下的选项\" class=\"headerlink\" title=\"交互环境下的选项\"></a>交互环境下的选项</h4><table>\n<thead>\n<tr>\n<th align=\"left\">选项</th>\n<th align=\"left\">含义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">/reve</td>\n<td align=\"left\">反转源语言与目标语言</td>\n</tr>\n<tr>\n<td align=\"left\">/rule</td>\n<td align=\"left\">显示当前的翻译规则</td>\n</tr>\n<tr>\n<td align=\"left\">/list</td>\n<td align=\"left\">打印支持的语言列表</td>\n</tr>\n<tr>\n<td align=\"left\">/help</td>\n<td align=\"left\">显示帮助信息</td>\n</tr>\n<tr>\n<td align=\"left\">/quit</td>\n<td align=\"left\">退出交互环境</td>\n</tr>\n<tr>\n<td align=\"left\">/save filename</td>\n<td align=\"left\">保存翻译结果</td>\n</tr>\n<tr>\n<td align=\"left\">/setlang source_lang target_lang</td>\n<td align=\"left\">设置源语言与目标语言</td>\n</tr>\n<tr>\n<td align=\"left\"><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">user@host:$ bdtrans 德玛西亚万岁</span><br><span class=\"line\">user@host:$ Long live Demasia</span><br><span class=\"line\">user@host:$ bdtrans -t ara 德玛西亚万岁</span><br><span class=\"line\">user@host:$ فيفا دي مارسيا</span><br><span class=\"line\">user@host:$ bdtrans -s zh 德玛西亚万岁</span><br><span class=\"line\">user@host:$ 不可以只指定源语言！</span><br></pre></td></tr></table></figure></td>\n<td align=\"left\"></td>\n</tr>\n</tbody></table>\n<blockquote>\n<p>在交互环境下可以使用 =code 来临时的指定目标语言，此时源语言将自动的被指定为auto, 例如 “ =zh hello world “</p>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;=th 你在地球嗑瓜子</span><br><span class=\"line\">คุณใช้เมล็ดแตงโมบนโลก</span><br><span class=\"line\">&gt;=jp 我在月球吃西瓜</span><br><span class=\"line\">月でスイカを食べます</span><br></pre></td></tr></table></figure>\n\n\n<h3 id=\"支持的语言列表\"><a href=\"#支持的语言列表\" class=\"headerlink\" title=\"支持的语言列表\"></a>支持的语言列表</h3><table>\n<thead>\n<tr>\n<th align=\"left\">语言代码</th>\n<th align=\"left\">语言</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">zh</td>\n<td align=\"left\">中文</td>\n</tr>\n<tr>\n<td align=\"left\">en</td>\n<td align=\"left\">英语</td>\n</tr>\n<tr>\n<td align=\"left\">yue</td>\n<td align=\"left\">粤语</td>\n</tr>\n<tr>\n<td align=\"left\">wyw</td>\n<td align=\"left\">文言文</td>\n</tr>\n<tr>\n<td align=\"left\">jp</td>\n<td align=\"left\">日语</td>\n</tr>\n<tr>\n<td align=\"left\">kor</td>\n<td align=\"left\">韩语</td>\n</tr>\n<tr>\n<td align=\"left\">fra</td>\n<td align=\"left\">法语</td>\n</tr>\n<tr>\n<td align=\"left\">spa</td>\n<td align=\"left\">西班牙语</td>\n</tr>\n<tr>\n<td align=\"left\">th</td>\n<td align=\"left\">泰语</td>\n</tr>\n<tr>\n<td align=\"left\">ara</td>\n<td align=\"left\">阿拉伯语</td>\n</tr>\n<tr>\n<td align=\"left\">ru</td>\n<td align=\"left\">俄语</td>\n</tr>\n<tr>\n<td align=\"left\">pt</td>\n<td align=\"left\">葡萄牙语</td>\n</tr>\n<tr>\n<td align=\"left\">de</td>\n<td align=\"left\">德语</td>\n</tr>\n<tr>\n<td align=\"left\">it</td>\n<td align=\"left\">意大利语</td>\n</tr>\n<tr>\n<td align=\"left\">el</td>\n<td align=\"left\">希腊语</td>\n</tr>\n<tr>\n<td align=\"left\">nl</td>\n<td align=\"left\">荷兰语</td>\n</tr>\n<tr>\n<td align=\"left\">pl</td>\n<td align=\"left\">波兰语</td>\n</tr>\n<tr>\n<td align=\"left\">bul</td>\n<td align=\"left\">保加利亚语</td>\n</tr>\n<tr>\n<td align=\"left\">est</td>\n<td align=\"left\">爱沙尼亚语</td>\n</tr>\n<tr>\n<td align=\"left\">dan</td>\n<td align=\"left\">丹麦语</td>\n</tr>\n<tr>\n<td align=\"left\">fin</td>\n<td align=\"left\">芬兰语</td>\n</tr>\n<tr>\n<td align=\"left\">cs</td>\n<td align=\"left\">捷克语</td>\n</tr>\n<tr>\n<td align=\"left\">rom</td>\n<td align=\"left\">罗马尼亚语</td>\n</tr>\n<tr>\n<td align=\"left\">slo</td>\n<td align=\"left\">斯洛文尼亚语</td>\n</tr>\n<tr>\n<td align=\"left\">swe</td>\n<td align=\"left\">瑞典语</td>\n</tr>\n<tr>\n<td align=\"left\">hu</td>\n<td align=\"left\">匈牙利语</td>\n</tr>\n<tr>\n<td align=\"left\">cht</td>\n<td align=\"left\">繁体中文</td>\n</tr>\n<tr>\n<td align=\"left\">vie</td>\n<td align=\"left\">越南语</td>\n</tr>\n<tr>\n<td align=\"left\">auto</td>\n<td align=\"left\">自动检测</td>\n</tr>\n</tbody></table>"},{"title":"flex布局中flex-grow与flex-shrink的计算方式","date":"2019-12-08T13:57:10.000Z","reward":true,"toc":true,"_content":"\n　　CSS 中的 `Flex(弹性布局)` 可以很灵活的控制网页的布局，其中决定 `Flex` 布局内项目宽度/高度的是三个属性：\n`flex-basis`, `flex-grow`, `flex-shrink`. \n\n<!-- More -->\n### flex-basis\n\n　　flex-basis 决定了项目占据主轴的空间，除非使用 `box-sizing` 进行设置，否则它将设置内容框的大小，因此当你指定一个flex项的大小时需要额外小心，因为它很肯能包含内边距与边框。\n\n　　你可以为其指定一个具体的CSS尺寸值，也可以指定其占据父元素的百分比，它的默认值为 `auto`(根据内容自动调整大小)\n\n```html\n  <!-- demo-1 -->\n\n  <div class=\"parent\">\n    <div class=\"child1\">100px</div>\n    <div class=\"child2\">200px</div>\n  </div>\n  <div class=\"parent\">\n    <div class=\"child1\">10%</div>\n    <div class=\"child2\">20%</div>\n  </div>\n  <div class=\"parent\">\n    <div class=\"child1\">30%</div>\n    <div class=\"child2\">auto</div>\n  </div>\n\n  <style>\n    .parent {\n      width: 500px;\n      display: flex;\n      margin-bottom: 15px;\n      text-align: center;\n      background-color: #eeeeee;\n    }\n\n    /** 像素值*/\n    .parent:nth-child(1) .child1 {\n      flex-basis: 100px;\n      background-color: #356969\n    }\n    .parent:nth-child(1) .child2 {\n      flex-basis: 200px;\n      background-color: #369925;\n    }\n\n    /** 百分比 */\n    .parent:nth-child(2) .child1 {\n      flex-basis: 10%;\n      background-color: #356969\n    }\n    .parent:nth-child(2) .child2 {\n      flex-basis: 20%;\n      background-color: #369925;\n    }\n\n    /** 自动 */\n    .parent:nth-child(3) .child1 {\n      flex-basis: 30%;\n      background-color: #356969\n    }\n    .parent:nth-child(3) .child2 {\n      flex-basis: auto;\n      background-color: #369925;\n    }\n  </style>\n```\n\n![flex-basis](/assets/images/map/4/ar4-1.png)\n\n### flex-grow\n\n　　flex-grow 设置当 flex 容器存在剩余空间(flex容器的大小减去所有flex项的大小之和)时项目的放大比例，它的默认值为 0 (即使存在剩余空间也不放大)。如果所有项目的 flex-grow 属性值都是相同的，则它们将等分剩余空间，否则，将根据不同的属性值所定义的比率进行分配。\n\n　　例如，主轴长度为600px, 项目1占据50px, 项目2占据100px, 项目3占据150px, 则剩余空间为：600px - (50px + 100px + 150px) = 300px\n\n　　假如每个项目的 `flex-grow` 属性值都相同(例如都为1)，则所有项目分配到相同的剩余空间：\n　　- 项目1: 300px * (1 / (1 + 1 + 1)) = 100px;\n　　- 项目2: 300px * (1 / (1 + 1 + 1)) = 100px;\n　　- 项目3: 300px * (1 / (1 + 1 + 1)) = 100px;\n\n```html\n  <!-- demo-2 -->\n\n  <div class=\"parent\">\n    <div class=\"child1\">50px + 100px</div>\n    <div class=\"child2\">100px + 100px</div>\n    <div class=\"child3\">150px + 100px</div>\n  </div>\n\n  <style>\n    .parent {\n      width: 600px;\n      display: flex;\n      text-align: center;\n      color: #eee;\n    }\n\n    .child1 {\n      flex-basis: 50px;\n      flex-grow: 1;\n      background-color: #0066CC;\n    } \n\n    .child2 {\n      flex-basis: 100px;\n      flex-grow: 1;\n      background-color: #009900;\n    }\n\n    .child3 {\n      flex-basis: 150px;\n      flex-grow: 1;\n      background-color: #CC3300;\n    }\n  </style>\n```\n\n![flex-grow](/assets/images/map/4/ar4-2.png)\n\n　　假设每个项目的 flex-grow 属性的值并不都是相同的，例如项目1为 1, 项目2为 2, 项目3为 3, 则它们分配到的剩余空间分别为：\n　　- 项目1: 300px * (1 / (1 + 2 + 3)) = 50px; \n　　- 项目2: 300px * (2 / (1 + 2 + 3)) = 100px; \n　　- 项目3: 300px * (3 / (1 + 2 + 3)) = 150px; \n\n```html\n  <!-- demo-3 -->\n\n  <div class=\"parent\">\n    <div class=\"child1\">50px + 50px</div>\n    <div class=\"child2\">100px + 100px</div>\n    <div class=\"child3\">150px + 150px</div>\n  </div>\n\n  <style>\n    .parent {\n      width: 600px;\n      display: flex;\n      text-align: center;\n      color: #eee;\n    }\n\n    .child1 {\n      flex-basis: 50px;\n      flex-grow: 1;\n      background-color: #0066CC;\n    } \n\n    .child2 {\n      flex-basis: 100px;\n      flex-grow: 2;\n      background-color: #009900;\n    }\n\n    .child3 {\n      flex-basis: 150px;\n      flex-grow: 3;\n      background-color: #CC3300;\n    }\n  </style>\n```\n\n![flex-grow](/assets/images/map/4/ar4-3.png)\n\n　　要是属性值为小数怎么办呢？这里分两种情况：\n　　1. 所有flex项的 flex-gorw 属性值之和大于1，仍然按照上述方式进行计算；\n　　2. 所有flex项的 flex-gorw 属性值之和小于1，**基值按照1来进行计算**，例如项目1为 0.2, 项目2为 0.3, 项目3为 0.4, 则它们分配到的剩余空间分别为：\n　　- 项目1: 300px * (0.2 / 1) = 60px;\n　　- 项目2: 300px * (0.3 / 1) = 90px; \n　　- 项目3: 300px * (0.4 / 1) = 120px; \n\n```html\n  <!-- demo-4 -->\n\n  <div class=\"parent\">\n    <div class=\"child1\">50px + 60px</div>\n    <div class=\"child2\">100px + 90px</div>\n    <div class=\"child3\">150px + 120px</div>\n  </div>\n\n  <style>\n    .parent {\n      width: 600px;\n      display: flex;\n      text-align: center;\n      color: #eee;\n    }\n\n    .child1 {\n      flex-basis: 50px;\n      flex-grow: 0.2;\n      background-color: #0066CC;\n    } \n\n    .child2 {\n      flex-basis: 100px;\n      flex-grow: 0.3;\n      background-color: #009900;\n    }\n\n    .child3 {\n      flex-basis: 150px;\n      flex-grow: 0.4;\n      background-color: #CC3300;\n    }\n```\n![flex-grow](/assets/images/map/4/ar4-4.png)\n\n\n### flex-shrink\n\n　　flex-shrink 设置当 flex 容器空间不足时项目的放大比例，它的默认值为 1 (空间不足时该项目将缩小)。\n\n　　flex-shrink 的计算方式与 flex-grow 略有不同，有两个因素影响 flex 项该缩小多少，一个是 flex-shrink 的属性值，另一个是 flex 项本身的大小，它们按各自的权重进行缩小，举例来说：\n\n　　主轴长度为600px, 项目1占据100px, 项目2占据300px, 项目3占据500px, 每个项目的 `flex-shrink` 属性值分别为1,3,2, 则总权重为 100px * 1 + 300px * 3 + 500px *2 = 2000px, 每个项目的权重分别为为：\n　　- 项目1: (100px * 1) / 2000px = 0.05;\n　　- 项目2: (300px * 3) / 2000px = 0.45;\n　　- 项目3: (500px * 2) / 2000px = 0.50;\n　　溢出的空间长度为：100px + 300px + 500px - 600px = 300px;\n　　那么每个项目分别缩小：\n　　- 项目1: 300px * 0.05 = 15px;\n　　- 项目2: 300px * 0.45 = 135px;\n　　- 项目3: 300px * 0.50 = 150px;\n\n```html\n  <!-- demo-5 -->\n\n  <div class=\"parent\">\n    <div class=\"child1\">100px - 15px</div>\n    <div class=\"child2\">300px - 135px</div>\n    <div class=\"child3\">500px - 150px</div>\n  </div>\n  <style>\n    .parent {\n      width: 600px;\n      display: flex;\n      text-align: center;\n      color: #eee;\n    }\n\n    .child1 {\n      flex-basis: 100px;\n      flex-shrink: 1;\n      background-color: #0066CC;\n    } \n\n    .child2 {\n      flex-basis: 300px;\n      flex-shrink: 3;\n      background-color: #009900;\n    }\n\n    .child3 {\n      flex-basis: 500px;\n      flex-shrink: 2;\n      background-color: #CC3300;\n    }\n  </style>\n```\n\n![flex-grow](/assets/images/map/4/ar4-5.png)\n\n　　同样的，当 flex-shrink 的值为小数时，也分两种情况：\n　　1. 所有flex项的 flex-shrink 属性值之和大于1，仍然按照上述方式进行计算；\n　　2. 所有flex项的 flex-shrink 属性值之和小于1，**只收缩溢出空间的一部分**，例如项目1为 0.1, 项目2为 0.3, 项目3为 0.2, 则总的收缩空间为：\n　　300px * (0.1 + 0.3 + 0.2) = 180px　　\n　　每个项的权重计算方式是不变的，每个项目分别缩小：\n　　- 项目1: 180px * 0.05 = 9px;\n　　- 项目2: 180px * 0.45 = 81px;\n　　- 项目3: 180px * 0.50 = 90px;\n\n```html\n  <!-- demo-6 -->\n\n  <div class=\"parent\">\n    <div class=\"child1\">100px - 9px</div>\n    <div class=\"child2\">300px - 135px</div>\n    <div class=\"child3\">500px - 90px</div>\n  </div>\n\n    <style>\n    .parent {\n      width: 600px;\n      display: flex;\n      text-align: center;\n      color: #eee;\n    }\n\n    .child1 {\n      flex-basis: 100px;\n      flex-shrink: 0.1;\n      background-color: #0066CC;\n    } \n\n    .child2 {\n      flex-basis: 300px;\n      flex-shrink: 0.3;\n      background-color: #009900;\n    }\n\n    .child3 {\n      flex-basis: 500px;\n      flex-shrink: 0.2;\n      background-color: #CC3300;\n    }\n  </style>\n```\n\n![flex-grow](/assets/images/map/4/ar4-6.png)\n\n　　由于只收缩了溢出空间的一部分，div 内的元素总宽度实际上是超出 div 的宽度的。\n\n　　以上就是关于使用flex布局中 flex-grow 与 flex-shrink 计算方式的简单介绍。\n\n*该篇博客内的代码已同步到[Github](https://github.com/zsimline/mxsyx-public/tree/master/code/archive-4)*\n\n参考资料：\n  [1]. MDN文档 https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-basis\n  [2]. MDN文档 https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-grow\n  [3]. MDN文档 https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-shrink\n","source":"_posts/flex布局中flex-grow与flex-shrink的计算方式.md","raw":"---\ntitle: flex布局中flex-grow与flex-shrink的计算方式\ndate: 2019-12-08 21:57:10\npermalink: 4\ntags: CSS\ncategories: [前端, CSS]\nreward: true\ntoc: true\n---\n\n　　CSS 中的 `Flex(弹性布局)` 可以很灵活的控制网页的布局，其中决定 `Flex` 布局内项目宽度/高度的是三个属性：\n`flex-basis`, `flex-grow`, `flex-shrink`. \n\n<!-- More -->\n### flex-basis\n\n　　flex-basis 决定了项目占据主轴的空间，除非使用 `box-sizing` 进行设置，否则它将设置内容框的大小，因此当你指定一个flex项的大小时需要额外小心，因为它很肯能包含内边距与边框。\n\n　　你可以为其指定一个具体的CSS尺寸值，也可以指定其占据父元素的百分比，它的默认值为 `auto`(根据内容自动调整大小)\n\n```html\n  <!-- demo-1 -->\n\n  <div class=\"parent\">\n    <div class=\"child1\">100px</div>\n    <div class=\"child2\">200px</div>\n  </div>\n  <div class=\"parent\">\n    <div class=\"child1\">10%</div>\n    <div class=\"child2\">20%</div>\n  </div>\n  <div class=\"parent\">\n    <div class=\"child1\">30%</div>\n    <div class=\"child2\">auto</div>\n  </div>\n\n  <style>\n    .parent {\n      width: 500px;\n      display: flex;\n      margin-bottom: 15px;\n      text-align: center;\n      background-color: #eeeeee;\n    }\n\n    /** 像素值*/\n    .parent:nth-child(1) .child1 {\n      flex-basis: 100px;\n      background-color: #356969\n    }\n    .parent:nth-child(1) .child2 {\n      flex-basis: 200px;\n      background-color: #369925;\n    }\n\n    /** 百分比 */\n    .parent:nth-child(2) .child1 {\n      flex-basis: 10%;\n      background-color: #356969\n    }\n    .parent:nth-child(2) .child2 {\n      flex-basis: 20%;\n      background-color: #369925;\n    }\n\n    /** 自动 */\n    .parent:nth-child(3) .child1 {\n      flex-basis: 30%;\n      background-color: #356969\n    }\n    .parent:nth-child(3) .child2 {\n      flex-basis: auto;\n      background-color: #369925;\n    }\n  </style>\n```\n\n![flex-basis](/assets/images/map/4/ar4-1.png)\n\n### flex-grow\n\n　　flex-grow 设置当 flex 容器存在剩余空间(flex容器的大小减去所有flex项的大小之和)时项目的放大比例，它的默认值为 0 (即使存在剩余空间也不放大)。如果所有项目的 flex-grow 属性值都是相同的，则它们将等分剩余空间，否则，将根据不同的属性值所定义的比率进行分配。\n\n　　例如，主轴长度为600px, 项目1占据50px, 项目2占据100px, 项目3占据150px, 则剩余空间为：600px - (50px + 100px + 150px) = 300px\n\n　　假如每个项目的 `flex-grow` 属性值都相同(例如都为1)，则所有项目分配到相同的剩余空间：\n　　- 项目1: 300px * (1 / (1 + 1 + 1)) = 100px;\n　　- 项目2: 300px * (1 / (1 + 1 + 1)) = 100px;\n　　- 项目3: 300px * (1 / (1 + 1 + 1)) = 100px;\n\n```html\n  <!-- demo-2 -->\n\n  <div class=\"parent\">\n    <div class=\"child1\">50px + 100px</div>\n    <div class=\"child2\">100px + 100px</div>\n    <div class=\"child3\">150px + 100px</div>\n  </div>\n\n  <style>\n    .parent {\n      width: 600px;\n      display: flex;\n      text-align: center;\n      color: #eee;\n    }\n\n    .child1 {\n      flex-basis: 50px;\n      flex-grow: 1;\n      background-color: #0066CC;\n    } \n\n    .child2 {\n      flex-basis: 100px;\n      flex-grow: 1;\n      background-color: #009900;\n    }\n\n    .child3 {\n      flex-basis: 150px;\n      flex-grow: 1;\n      background-color: #CC3300;\n    }\n  </style>\n```\n\n![flex-grow](/assets/images/map/4/ar4-2.png)\n\n　　假设每个项目的 flex-grow 属性的值并不都是相同的，例如项目1为 1, 项目2为 2, 项目3为 3, 则它们分配到的剩余空间分别为：\n　　- 项目1: 300px * (1 / (1 + 2 + 3)) = 50px; \n　　- 项目2: 300px * (2 / (1 + 2 + 3)) = 100px; \n　　- 项目3: 300px * (3 / (1 + 2 + 3)) = 150px; \n\n```html\n  <!-- demo-3 -->\n\n  <div class=\"parent\">\n    <div class=\"child1\">50px + 50px</div>\n    <div class=\"child2\">100px + 100px</div>\n    <div class=\"child3\">150px + 150px</div>\n  </div>\n\n  <style>\n    .parent {\n      width: 600px;\n      display: flex;\n      text-align: center;\n      color: #eee;\n    }\n\n    .child1 {\n      flex-basis: 50px;\n      flex-grow: 1;\n      background-color: #0066CC;\n    } \n\n    .child2 {\n      flex-basis: 100px;\n      flex-grow: 2;\n      background-color: #009900;\n    }\n\n    .child3 {\n      flex-basis: 150px;\n      flex-grow: 3;\n      background-color: #CC3300;\n    }\n  </style>\n```\n\n![flex-grow](/assets/images/map/4/ar4-3.png)\n\n　　要是属性值为小数怎么办呢？这里分两种情况：\n　　1. 所有flex项的 flex-gorw 属性值之和大于1，仍然按照上述方式进行计算；\n　　2. 所有flex项的 flex-gorw 属性值之和小于1，**基值按照1来进行计算**，例如项目1为 0.2, 项目2为 0.3, 项目3为 0.4, 则它们分配到的剩余空间分别为：\n　　- 项目1: 300px * (0.2 / 1) = 60px;\n　　- 项目2: 300px * (0.3 / 1) = 90px; \n　　- 项目3: 300px * (0.4 / 1) = 120px; \n\n```html\n  <!-- demo-4 -->\n\n  <div class=\"parent\">\n    <div class=\"child1\">50px + 60px</div>\n    <div class=\"child2\">100px + 90px</div>\n    <div class=\"child3\">150px + 120px</div>\n  </div>\n\n  <style>\n    .parent {\n      width: 600px;\n      display: flex;\n      text-align: center;\n      color: #eee;\n    }\n\n    .child1 {\n      flex-basis: 50px;\n      flex-grow: 0.2;\n      background-color: #0066CC;\n    } \n\n    .child2 {\n      flex-basis: 100px;\n      flex-grow: 0.3;\n      background-color: #009900;\n    }\n\n    .child3 {\n      flex-basis: 150px;\n      flex-grow: 0.4;\n      background-color: #CC3300;\n    }\n```\n![flex-grow](/assets/images/map/4/ar4-4.png)\n\n\n### flex-shrink\n\n　　flex-shrink 设置当 flex 容器空间不足时项目的放大比例，它的默认值为 1 (空间不足时该项目将缩小)。\n\n　　flex-shrink 的计算方式与 flex-grow 略有不同，有两个因素影响 flex 项该缩小多少，一个是 flex-shrink 的属性值，另一个是 flex 项本身的大小，它们按各自的权重进行缩小，举例来说：\n\n　　主轴长度为600px, 项目1占据100px, 项目2占据300px, 项目3占据500px, 每个项目的 `flex-shrink` 属性值分别为1,3,2, 则总权重为 100px * 1 + 300px * 3 + 500px *2 = 2000px, 每个项目的权重分别为为：\n　　- 项目1: (100px * 1) / 2000px = 0.05;\n　　- 项目2: (300px * 3) / 2000px = 0.45;\n　　- 项目3: (500px * 2) / 2000px = 0.50;\n　　溢出的空间长度为：100px + 300px + 500px - 600px = 300px;\n　　那么每个项目分别缩小：\n　　- 项目1: 300px * 0.05 = 15px;\n　　- 项目2: 300px * 0.45 = 135px;\n　　- 项目3: 300px * 0.50 = 150px;\n\n```html\n  <!-- demo-5 -->\n\n  <div class=\"parent\">\n    <div class=\"child1\">100px - 15px</div>\n    <div class=\"child2\">300px - 135px</div>\n    <div class=\"child3\">500px - 150px</div>\n  </div>\n  <style>\n    .parent {\n      width: 600px;\n      display: flex;\n      text-align: center;\n      color: #eee;\n    }\n\n    .child1 {\n      flex-basis: 100px;\n      flex-shrink: 1;\n      background-color: #0066CC;\n    } \n\n    .child2 {\n      flex-basis: 300px;\n      flex-shrink: 3;\n      background-color: #009900;\n    }\n\n    .child3 {\n      flex-basis: 500px;\n      flex-shrink: 2;\n      background-color: #CC3300;\n    }\n  </style>\n```\n\n![flex-grow](/assets/images/map/4/ar4-5.png)\n\n　　同样的，当 flex-shrink 的值为小数时，也分两种情况：\n　　1. 所有flex项的 flex-shrink 属性值之和大于1，仍然按照上述方式进行计算；\n　　2. 所有flex项的 flex-shrink 属性值之和小于1，**只收缩溢出空间的一部分**，例如项目1为 0.1, 项目2为 0.3, 项目3为 0.2, 则总的收缩空间为：\n　　300px * (0.1 + 0.3 + 0.2) = 180px　　\n　　每个项的权重计算方式是不变的，每个项目分别缩小：\n　　- 项目1: 180px * 0.05 = 9px;\n　　- 项目2: 180px * 0.45 = 81px;\n　　- 项目3: 180px * 0.50 = 90px;\n\n```html\n  <!-- demo-6 -->\n\n  <div class=\"parent\">\n    <div class=\"child1\">100px - 9px</div>\n    <div class=\"child2\">300px - 135px</div>\n    <div class=\"child3\">500px - 90px</div>\n  </div>\n\n    <style>\n    .parent {\n      width: 600px;\n      display: flex;\n      text-align: center;\n      color: #eee;\n    }\n\n    .child1 {\n      flex-basis: 100px;\n      flex-shrink: 0.1;\n      background-color: #0066CC;\n    } \n\n    .child2 {\n      flex-basis: 300px;\n      flex-shrink: 0.3;\n      background-color: #009900;\n    }\n\n    .child3 {\n      flex-basis: 500px;\n      flex-shrink: 0.2;\n      background-color: #CC3300;\n    }\n  </style>\n```\n\n![flex-grow](/assets/images/map/4/ar4-6.png)\n\n　　由于只收缩了溢出空间的一部分，div 内的元素总宽度实际上是超出 div 的宽度的。\n\n　　以上就是关于使用flex布局中 flex-grow 与 flex-shrink 计算方式的简单介绍。\n\n*该篇博客内的代码已同步到[Github](https://github.com/zsimline/mxsyx-public/tree/master/code/archive-4)*\n\n参考资料：\n  [1]. MDN文档 https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-basis\n  [2]. MDN文档 https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-grow\n  [3]. MDN文档 https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-shrink\n","slug":"4","published":1,"updated":"2020-01-07T07:49:09.409Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck541mor90008ecfw9lz4am63","content":"<p>　　CSS 中的 <code>Flex(弹性布局)</code> 可以很灵活的控制网页的布局，其中决定 <code>Flex</code> 布局内项目宽度/高度的是三个属性：<br><code>flex-basis</code>, <code>flex-grow</code>, <code>flex-shrink</code>. </p>\n<a id=\"more\"></a>\n<h3 id=\"flex-basis\"><a href=\"#flex-basis\" class=\"headerlink\" title=\"flex-basis\"></a>flex-basis</h3><p>　　flex-basis 决定了项目占据主轴的空间，除非使用 <code>box-sizing</code> 进行设置，否则它将设置内容框的大小，因此当你指定一个flex项的大小时需要额外小心，因为它很肯能包含内边距与边框。</p>\n<p>　　你可以为其指定一个具体的CSS尺寸值，也可以指定其占据父元素的百分比，它的默认值为 <code>auto</code>(根据内容自动调整大小)</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- demo-1 --&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"parent\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child1\"</span>&gt;</span>100px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child2\"</span>&gt;</span>200px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"parent\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child1\"</span>&gt;</span>10%<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child2\"</span>&gt;</span>20%<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"parent\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child1\"</span>&gt;</span>30%<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child2\"</span>&gt;</span>auto<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.parent</span> &#123;</span></span><br><span class=\"line\">    width: 500px;</span><br><span class=\"line\">    display: flex;</span><br><span class=\"line\">    margin-bottom: 15px;</span><br><span class=\"line\">    text-align: center;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#eeeeee</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"comment\">/** 像素值*/</span></span></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.parent</span><span class=\"selector-pseudo\">:nth-child(1)</span> <span class=\"selector-class\">.child1</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 100px;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#356969</span></span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.parent</span><span class=\"selector-pseudo\">:nth-child(1)</span> <span class=\"selector-class\">.child2</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 200px;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#369925</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"comment\">/** 百分比 */</span></span></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.parent</span><span class=\"selector-pseudo\">:nth-child(2)</span> <span class=\"selector-class\">.child1</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 10%;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#356969</span></span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.parent</span><span class=\"selector-pseudo\">:nth-child(2)</span> <span class=\"selector-class\">.child2</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 20%;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#369925</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"comment\">/** 自动 */</span></span></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.parent</span><span class=\"selector-pseudo\">:nth-child(3)</span> <span class=\"selector-class\">.child1</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 30%;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#356969</span></span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.parent</span><span class=\"selector-pseudo\">:nth-child(3)</span> <span class=\"selector-class\">.child2</span> &#123;</span></span><br><span class=\"line\">    flex-basis: auto;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#369925</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/assets/images/map/4/ar4-1.png\" alt=\"flex-basis\"></p>\n<h3 id=\"flex-grow\"><a href=\"#flex-grow\" class=\"headerlink\" title=\"flex-grow\"></a>flex-grow</h3><p>　　flex-grow 设置当 flex 容器存在剩余空间(flex容器的大小减去所有flex项的大小之和)时项目的放大比例，它的默认值为 0 (即使存在剩余空间也不放大)。如果所有项目的 flex-grow 属性值都是相同的，则它们将等分剩余空间，否则，将根据不同的属性值所定义的比率进行分配。</p>\n<p>　　例如，主轴长度为600px, 项目1占据50px, 项目2占据100px, 项目3占据150px, 则剩余空间为：600px - (50px + 100px + 150px) = 300px</p>\n<p>　　假如每个项目的 <code>flex-grow</code> 属性值都相同(例如都为1)，则所有项目分配到相同的剩余空间：<br>　　- 项目1: 300px * (1 / (1 + 1 + 1)) = 100px;<br>　　- 项目2: 300px * (1 / (1 + 1 + 1)) = 100px;<br>　　- 项目3: 300px * (1 / (1 + 1 + 1)) = 100px;</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- demo-2 --&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"parent\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child1\"</span>&gt;</span>50px + 100px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child2\"</span>&gt;</span>100px + 100px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child3\"</span>&gt;</span>150px + 100px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.parent</span> &#123;</span></span><br><span class=\"line\">    width: 600px;</span><br><span class=\"line\">    display: flex;</span><br><span class=\"line\">    text-align: center;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">color</span>: <span class=\"selector-id\">#eee</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child1</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 50px;</span><br><span class=\"line\">    flex-grow: 1;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#0066CC</span>;</span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child2</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 100px;</span><br><span class=\"line\">    flex-grow: 1;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#009900</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child3</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 150px;</span><br><span class=\"line\">    flex-grow: 1;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#CC3300</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/assets/images/map/4/ar4-2.png\" alt=\"flex-grow\"></p>\n<p>　　假设每个项目的 flex-grow 属性的值并不都是相同的，例如项目1为 1, 项目2为 2, 项目3为 3, 则它们分配到的剩余空间分别为：<br>　　- 项目1: 300px * (1 / (1 + 2 + 3)) = 50px;<br>　　- 项目2: 300px * (2 / (1 + 2 + 3)) = 100px;<br>　　- 项目3: 300px * (3 / (1 + 2 + 3)) = 150px; </p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- demo-3 --&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"parent\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child1\"</span>&gt;</span>50px + 50px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child2\"</span>&gt;</span>100px + 100px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child3\"</span>&gt;</span>150px + 150px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.parent</span> &#123;</span></span><br><span class=\"line\">    width: 600px;</span><br><span class=\"line\">    display: flex;</span><br><span class=\"line\">    text-align: center;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">color</span>: <span class=\"selector-id\">#eee</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child1</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 50px;</span><br><span class=\"line\">    flex-grow: 1;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#0066CC</span>;</span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child2</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 100px;</span><br><span class=\"line\">    flex-grow: 2;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#009900</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child3</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 150px;</span><br><span class=\"line\">    flex-grow: 3;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#CC3300</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/assets/images/map/4/ar4-3.png\" alt=\"flex-grow\"></p>\n<p>　　要是属性值为小数怎么办呢？这里分两种情况：<br>　　1. 所有flex项的 flex-gorw 属性值之和大于1，仍然按照上述方式进行计算；<br>　　2. 所有flex项的 flex-gorw 属性值之和小于1，<strong>基值按照1来进行计算</strong>，例如项目1为 0.2, 项目2为 0.3, 项目3为 0.4, 则它们分配到的剩余空间分别为：<br>　　- 项目1: 300px * (0.2 / 1) = 60px;<br>　　- 项目2: 300px * (0.3 / 1) = 90px;<br>　　- 项目3: 300px * (0.4 / 1) = 120px; </p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- demo-4 --&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"parent\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child1\"</span>&gt;</span>50px + 60px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child2\"</span>&gt;</span>100px + 90px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child3\"</span>&gt;</span>150px + 120px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.parent</span> &#123;</span></span><br><span class=\"line\">    width: 600px;</span><br><span class=\"line\">    display: flex;</span><br><span class=\"line\">    text-align: center;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">color</span>: <span class=\"selector-id\">#eee</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child1</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 50px;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">flex-grow</span>: 0<span class=\"selector-class\">.2</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#0066CC</span>;</span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child2</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 100px;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">flex-grow</span>: 0<span class=\"selector-class\">.3</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#009900</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child3</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 150px;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">flex-grow</span>: 0<span class=\"selector-class\">.4</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#CC3300</span>;</span></span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n<p><img src=\"/assets/images/map/4/ar4-4.png\" alt=\"flex-grow\"></p>\n<h3 id=\"flex-shrink\"><a href=\"#flex-shrink\" class=\"headerlink\" title=\"flex-shrink\"></a>flex-shrink</h3><p>　　flex-shrink 设置当 flex 容器空间不足时项目的放大比例，它的默认值为 1 (空间不足时该项目将缩小)。</p>\n<p>　　flex-shrink 的计算方式与 flex-grow 略有不同，有两个因素影响 flex 项该缩小多少，一个是 flex-shrink 的属性值，另一个是 flex 项本身的大小，它们按各自的权重进行缩小，举例来说：</p>\n<p>　　主轴长度为600px, 项目1占据100px, 项目2占据300px, 项目3占据500px, 每个项目的 <code>flex-shrink</code> 属性值分别为1,3,2, 则总权重为 100px * 1 + 300px * 3 + 500px *2 = 2000px, 每个项目的权重分别为为：<br>　　- 项目1: (100px * 1) / 2000px = 0.05;<br>　　- 项目2: (300px * 3) / 2000px = 0.45;<br>　　- 项目3: (500px * 2) / 2000px = 0.50;<br>　　溢出的空间长度为：100px + 300px + 500px - 600px = 300px;<br>　　那么每个项目分别缩小：<br>　　- 项目1: 300px * 0.05 = 15px;<br>　　- 项目2: 300px * 0.45 = 135px;<br>　　- 项目3: 300px * 0.50 = 150px;</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- demo-5 --&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"parent\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child1\"</span>&gt;</span>100px - 15px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child2\"</span>&gt;</span>300px - 135px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child3\"</span>&gt;</span>500px - 150px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.parent</span> &#123;</span></span><br><span class=\"line\">    width: 600px;</span><br><span class=\"line\">    display: flex;</span><br><span class=\"line\">    text-align: center;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">color</span>: <span class=\"selector-id\">#eee</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child1</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 100px;</span><br><span class=\"line\">    flex-shrink: 1;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#0066CC</span>;</span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child2</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 300px;</span><br><span class=\"line\">    flex-shrink: 3;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#009900</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child3</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 500px;</span><br><span class=\"line\">    flex-shrink: 2;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#CC3300</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/assets/images/map/4/ar4-5.png\" alt=\"flex-grow\"></p>\n<p>　　同样的，当 flex-shrink 的值为小数时，也分两种情况：<br>　　1. 所有flex项的 flex-shrink 属性值之和大于1，仍然按照上述方式进行计算；<br>　　2. 所有flex项的 flex-shrink 属性值之和小于1，<strong>只收缩溢出空间的一部分</strong>，例如项目1为 0.1, 项目2为 0.3, 项目3为 0.2, 则总的收缩空间为：<br>　　300px * (0.1 + 0.3 + 0.2) = 180px　　<br>　　每个项的权重计算方式是不变的，每个项目分别缩小：<br>　　- 项目1: 180px * 0.05 = 9px;<br>　　- 项目2: 180px * 0.45 = 81px;<br>　　- 项目3: 180px * 0.50 = 90px;</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- demo-6 --&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"parent\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child1\"</span>&gt;</span>100px - 9px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child2\"</span>&gt;</span>300px - 135px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child3\"</span>&gt;</span>500px - 90px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.parent</span> &#123;</span></span><br><span class=\"line\">    width: 600px;</span><br><span class=\"line\">    display: flex;</span><br><span class=\"line\">    text-align: center;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">color</span>: <span class=\"selector-id\">#eee</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child1</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 100px;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">flex-shrink</span>: 0<span class=\"selector-class\">.1</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#0066CC</span>;</span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child2</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 300px;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">flex-shrink</span>: 0<span class=\"selector-class\">.3</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#009900</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child3</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 500px;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">flex-shrink</span>: 0<span class=\"selector-class\">.2</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#CC3300</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/assets/images/map/4/ar4-6.png\" alt=\"flex-grow\"></p>\n<p>　　由于只收缩了溢出空间的一部分，div 内的元素总宽度实际上是超出 div 的宽度的。</p>\n<p>　　以上就是关于使用flex布局中 flex-grow 与 flex-shrink 计算方式的简单介绍。</p>\n<p><em>该篇博客内的代码已同步到<a href=\"https://github.com/zsimline/mxsyx-public/tree/master/code/archive-4\">Github</a></em></p>\n<p>参考资料：<br>  [1]. MDN文档 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-basis\">https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-basis</a><br>  [2]. MDN文档 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-grow\">https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-grow</a><br>  [3]. MDN文档 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-shrink\">https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-shrink</a></p>\n","site":{"data":{}},"excerpt":"<p>　　CSS 中的 <code>Flex(弹性布局)</code> 可以很灵活的控制网页的布局，其中决定 <code>Flex</code> 布局内项目宽度/高度的是三个属性：<br><code>flex-basis</code>, <code>flex-grow</code>, <code>flex-shrink</code>. </p>","more":"<h3 id=\"flex-basis\"><a href=\"#flex-basis\" class=\"headerlink\" title=\"flex-basis\"></a>flex-basis</h3><p>　　flex-basis 决定了项目占据主轴的空间，除非使用 <code>box-sizing</code> 进行设置，否则它将设置内容框的大小，因此当你指定一个flex项的大小时需要额外小心，因为它很肯能包含内边距与边框。</p>\n<p>　　你可以为其指定一个具体的CSS尺寸值，也可以指定其占据父元素的百分比，它的默认值为 <code>auto</code>(根据内容自动调整大小)</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- demo-1 --&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"parent\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child1\"</span>&gt;</span>100px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child2\"</span>&gt;</span>200px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"parent\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child1\"</span>&gt;</span>10%<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child2\"</span>&gt;</span>20%<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"parent\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child1\"</span>&gt;</span>30%<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child2\"</span>&gt;</span>auto<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.parent</span> &#123;</span></span><br><span class=\"line\">    width: 500px;</span><br><span class=\"line\">    display: flex;</span><br><span class=\"line\">    margin-bottom: 15px;</span><br><span class=\"line\">    text-align: center;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#eeeeee</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"comment\">/** 像素值*/</span></span></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.parent</span><span class=\"selector-pseudo\">:nth-child(1)</span> <span class=\"selector-class\">.child1</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 100px;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#356969</span></span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.parent</span><span class=\"selector-pseudo\">:nth-child(1)</span> <span class=\"selector-class\">.child2</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 200px;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#369925</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"comment\">/** 百分比 */</span></span></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.parent</span><span class=\"selector-pseudo\">:nth-child(2)</span> <span class=\"selector-class\">.child1</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 10%;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#356969</span></span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.parent</span><span class=\"selector-pseudo\">:nth-child(2)</span> <span class=\"selector-class\">.child2</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 20%;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#369925</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"comment\">/** 自动 */</span></span></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.parent</span><span class=\"selector-pseudo\">:nth-child(3)</span> <span class=\"selector-class\">.child1</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 30%;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#356969</span></span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.parent</span><span class=\"selector-pseudo\">:nth-child(3)</span> <span class=\"selector-class\">.child2</span> &#123;</span></span><br><span class=\"line\">    flex-basis: auto;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#369925</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/assets/images/map/4/ar4-1.png\" alt=\"flex-basis\"></p>\n<h3 id=\"flex-grow\"><a href=\"#flex-grow\" class=\"headerlink\" title=\"flex-grow\"></a>flex-grow</h3><p>　　flex-grow 设置当 flex 容器存在剩余空间(flex容器的大小减去所有flex项的大小之和)时项目的放大比例，它的默认值为 0 (即使存在剩余空间也不放大)。如果所有项目的 flex-grow 属性值都是相同的，则它们将等分剩余空间，否则，将根据不同的属性值所定义的比率进行分配。</p>\n<p>　　例如，主轴长度为600px, 项目1占据50px, 项目2占据100px, 项目3占据150px, 则剩余空间为：600px - (50px + 100px + 150px) = 300px</p>\n<p>　　假如每个项目的 <code>flex-grow</code> 属性值都相同(例如都为1)，则所有项目分配到相同的剩余空间：<br>　　- 项目1: 300px * (1 / (1 + 1 + 1)) = 100px;<br>　　- 项目2: 300px * (1 / (1 + 1 + 1)) = 100px;<br>　　- 项目3: 300px * (1 / (1 + 1 + 1)) = 100px;</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- demo-2 --&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"parent\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child1\"</span>&gt;</span>50px + 100px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child2\"</span>&gt;</span>100px + 100px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child3\"</span>&gt;</span>150px + 100px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.parent</span> &#123;</span></span><br><span class=\"line\">    width: 600px;</span><br><span class=\"line\">    display: flex;</span><br><span class=\"line\">    text-align: center;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">color</span>: <span class=\"selector-id\">#eee</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child1</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 50px;</span><br><span class=\"line\">    flex-grow: 1;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#0066CC</span>;</span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child2</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 100px;</span><br><span class=\"line\">    flex-grow: 1;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#009900</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child3</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 150px;</span><br><span class=\"line\">    flex-grow: 1;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#CC3300</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/assets/images/map/4/ar4-2.png\" alt=\"flex-grow\"></p>\n<p>　　假设每个项目的 flex-grow 属性的值并不都是相同的，例如项目1为 1, 项目2为 2, 项目3为 3, 则它们分配到的剩余空间分别为：<br>　　- 项目1: 300px * (1 / (1 + 2 + 3)) = 50px;<br>　　- 项目2: 300px * (2 / (1 + 2 + 3)) = 100px;<br>　　- 项目3: 300px * (3 / (1 + 2 + 3)) = 150px; </p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- demo-3 --&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"parent\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child1\"</span>&gt;</span>50px + 50px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child2\"</span>&gt;</span>100px + 100px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child3\"</span>&gt;</span>150px + 150px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.parent</span> &#123;</span></span><br><span class=\"line\">    width: 600px;</span><br><span class=\"line\">    display: flex;</span><br><span class=\"line\">    text-align: center;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">color</span>: <span class=\"selector-id\">#eee</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child1</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 50px;</span><br><span class=\"line\">    flex-grow: 1;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#0066CC</span>;</span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child2</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 100px;</span><br><span class=\"line\">    flex-grow: 2;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#009900</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child3</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 150px;</span><br><span class=\"line\">    flex-grow: 3;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#CC3300</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/assets/images/map/4/ar4-3.png\" alt=\"flex-grow\"></p>\n<p>　　要是属性值为小数怎么办呢？这里分两种情况：<br>　　1. 所有flex项的 flex-gorw 属性值之和大于1，仍然按照上述方式进行计算；<br>　　2. 所有flex项的 flex-gorw 属性值之和小于1，<strong>基值按照1来进行计算</strong>，例如项目1为 0.2, 项目2为 0.3, 项目3为 0.4, 则它们分配到的剩余空间分别为：<br>　　- 项目1: 300px * (0.2 / 1) = 60px;<br>　　- 项目2: 300px * (0.3 / 1) = 90px;<br>　　- 项目3: 300px * (0.4 / 1) = 120px; </p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- demo-4 --&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"parent\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child1\"</span>&gt;</span>50px + 60px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child2\"</span>&gt;</span>100px + 90px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child3\"</span>&gt;</span>150px + 120px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.parent</span> &#123;</span></span><br><span class=\"line\">    width: 600px;</span><br><span class=\"line\">    display: flex;</span><br><span class=\"line\">    text-align: center;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">color</span>: <span class=\"selector-id\">#eee</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child1</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 50px;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">flex-grow</span>: 0<span class=\"selector-class\">.2</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#0066CC</span>;</span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child2</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 100px;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">flex-grow</span>: 0<span class=\"selector-class\">.3</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#009900</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child3</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 150px;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">flex-grow</span>: 0<span class=\"selector-class\">.4</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#CC3300</span>;</span></span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n<p><img src=\"/assets/images/map/4/ar4-4.png\" alt=\"flex-grow\"></p>\n<h3 id=\"flex-shrink\"><a href=\"#flex-shrink\" class=\"headerlink\" title=\"flex-shrink\"></a>flex-shrink</h3><p>　　flex-shrink 设置当 flex 容器空间不足时项目的放大比例，它的默认值为 1 (空间不足时该项目将缩小)。</p>\n<p>　　flex-shrink 的计算方式与 flex-grow 略有不同，有两个因素影响 flex 项该缩小多少，一个是 flex-shrink 的属性值，另一个是 flex 项本身的大小，它们按各自的权重进行缩小，举例来说：</p>\n<p>　　主轴长度为600px, 项目1占据100px, 项目2占据300px, 项目3占据500px, 每个项目的 <code>flex-shrink</code> 属性值分别为1,3,2, 则总权重为 100px * 1 + 300px * 3 + 500px *2 = 2000px, 每个项目的权重分别为为：<br>　　- 项目1: (100px * 1) / 2000px = 0.05;<br>　　- 项目2: (300px * 3) / 2000px = 0.45;<br>　　- 项目3: (500px * 2) / 2000px = 0.50;<br>　　溢出的空间长度为：100px + 300px + 500px - 600px = 300px;<br>　　那么每个项目分别缩小：<br>　　- 项目1: 300px * 0.05 = 15px;<br>　　- 项目2: 300px * 0.45 = 135px;<br>　　- 项目3: 300px * 0.50 = 150px;</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- demo-5 --&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"parent\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child1\"</span>&gt;</span>100px - 15px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child2\"</span>&gt;</span>300px - 135px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child3\"</span>&gt;</span>500px - 150px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.parent</span> &#123;</span></span><br><span class=\"line\">    width: 600px;</span><br><span class=\"line\">    display: flex;</span><br><span class=\"line\">    text-align: center;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">color</span>: <span class=\"selector-id\">#eee</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child1</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 100px;</span><br><span class=\"line\">    flex-shrink: 1;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#0066CC</span>;</span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child2</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 300px;</span><br><span class=\"line\">    flex-shrink: 3;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#009900</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child3</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 500px;</span><br><span class=\"line\">    flex-shrink: 2;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#CC3300</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/assets/images/map/4/ar4-5.png\" alt=\"flex-grow\"></p>\n<p>　　同样的，当 flex-shrink 的值为小数时，也分两种情况：<br>　　1. 所有flex项的 flex-shrink 属性值之和大于1，仍然按照上述方式进行计算；<br>　　2. 所有flex项的 flex-shrink 属性值之和小于1，<strong>只收缩溢出空间的一部分</strong>，例如项目1为 0.1, 项目2为 0.3, 项目3为 0.2, 则总的收缩空间为：<br>　　300px * (0.1 + 0.3 + 0.2) = 180px　　<br>　　每个项的权重计算方式是不变的，每个项目分别缩小：<br>　　- 项目1: 180px * 0.05 = 9px;<br>　　- 项目2: 180px * 0.45 = 81px;<br>　　- 项目3: 180px * 0.50 = 90px;</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- demo-6 --&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"parent\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child1\"</span>&gt;</span>100px - 9px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child2\"</span>&gt;</span>300px - 135px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child3\"</span>&gt;</span>500px - 90px<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.parent</span> &#123;</span></span><br><span class=\"line\">    width: 600px;</span><br><span class=\"line\">    display: flex;</span><br><span class=\"line\">    text-align: center;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">color</span>: <span class=\"selector-id\">#eee</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child1</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 100px;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">flex-shrink</span>: 0<span class=\"selector-class\">.1</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#0066CC</span>;</span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child2</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 300px;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">flex-shrink</span>: 0<span class=\"selector-class\">.3</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#009900</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.child3</span> &#123;</span></span><br><span class=\"line\">    flex-basis: 500px;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">flex-shrink</span>: 0<span class=\"selector-class\">.2</span>;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#CC3300</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/assets/images/map/4/ar4-6.png\" alt=\"flex-grow\"></p>\n<p>　　由于只收缩了溢出空间的一部分，div 内的元素总宽度实际上是超出 div 的宽度的。</p>\n<p>　　以上就是关于使用flex布局中 flex-grow 与 flex-shrink 计算方式的简单介绍。</p>\n<p><em>该篇博客内的代码已同步到<a href=\"https://github.com/zsimline/mxsyx-public/tree/master/code/archive-4\">Github</a></em></p>\n<p>参考资料：<br>  [1]. MDN文档 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-basis\">https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-basis</a><br>  [2]. MDN文档 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-grow\">https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-grow</a><br>  [3]. MDN文档 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-shrink\">https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-shrink</a></p>"},{"title":"一个毕业生眼中的大学","reward":true,"date":"2019-12-26T14:15:39.000Z","toc":true,"_content":"\n　　严格意义上讲，我不能算是一个毕业生，因为距离我真正拿到毕业证还有半年的时间，当然最主要的原因是我感觉自己好像从来没有上过大学，就像某些段子里讲的那样我可能上了一个假的大学。\n\n　　三年前，我来到了目前就读的大学，虽然这是一所普通到不能再普通的大学，但是不知为何我并没有因此感到一丝沮丧。周围的人，特别是我的父母都说我上了一所野鸡大学，我不想反驳，因为的确没有反驳的理由。家里的人通常会说你上的大学“不好”，人家的孩子上的大学是“好大学“，但是你若问他们”好的大学“与”不好的大学“之间的区别在哪里，他们却又答不上来，毕竟对你指指点点的那帮人从来也没上过大学。\n\n　　我花了两天时间将这几年大学生活的感悟写了出来，算是一篇**长篇日记**，同时分享给感兴趣的的人。此文较长，一万字左右，阅读需要花费半个小时。\n<!-- More -->\n\n### 学习将使你成为异类\n\n　　大学里有很多奇怪的现象，当然这些奇怪的现象不是每个大学都有，但是某些现象却是一些大学的通病。大学这二字中有个学字，也就注定了学生来到大学背负的使命是什么。很不幸的是，你不能表现出很爱学习的样子， 那样你会显得 **“格格不入”** 。当你在某个晚上读书的时候，有些人就会拍拍你的肩膀对你说“嘿，哥们，又在学习”。我举个与之类似的例子，假如有一天你对艺术创作产生了兴趣，你励志将来要成为一名设计师，于是你发奋图强，开始读很多关于艺术创作的书籍，而生活中总会有那么一群人，他们会对你说“大设计师呀，给我留一张名片吧，将来发达了可忘了小弟我啊”。这群人是在有心嘲讽他吗？不是的，他们本没有坏心眼，也许只是一个玩笑，但就是这样的一个玩笑可能会变为“无心的嘲讽”。有些人在上完课后，出于考研、考公务员之类的目的，会背起书包找一个安静的地方读读书，当别人问起他要去做什么的时候，他便会说“我要去学习”，当然说这句话本没有什么问题，关键在于说话的语气，他会故意将“学习”两个字加重音，甚至拉长声，好像他要去做一件特别了不起的事情，但这难道不是一个学生应该做的事情吗？我虽然没有在其他学校生活过，但我有理由相信这种现象不只出现在我的学校。\n\n### 大学中的组织\n\n　　大学中有各种各样的学生组织，这里主要聊一聊学生会的事，大学一年级时，周围的很多人竞相加入学生会，我想他们都源自一个在进入大学之前就达成的共识：学生会将会使你得到历练。从客观角度来讲，学生会的干事、干部们在处理诸多事务的过程中的确会得到历练。不过作为一个旁观者我发现学生会里隐藏着一些阴暗面，最令人担忧的是学生会里竟然出现了”官僚主义“，一个小干事在面对部长级别的学生时显得毕恭毕敬，出现了官大一级压死人的现象，一般部长是不干活的，卖苦力的自然是下面刚加入的那群人。这么小的年纪就搞一些政府特色，走出校园后又会怎样呢？在职位的升迁方面，也存在着暗箱操作，甚至在某些学校的学生会竟然发起了红头文件，令人称奇。在经济方面，学生会也会垄断一些资源，主要是针对新生的用品。有官的地方就会有贪污，学生会也不例外，当然这种小规模的贪目前看来也无伤大雅，但将来走上社会是否会变成大贪呢？\n\n　　大学生是整个社会群体中最激进的一群人，可以想想五四运动，以及中共不愿意提起的六四运动，所以对于大学生思想的控制是必要的，政党将触角伸向了大学，也带来了”官僚权威主义“，整天开不完的会，学习不完的新思想，这种效率低下且并无实际意义的行为对大学教育而言恐怕不是件好事。\n\n　　除了在学生会能得到历练外，有些会来事的人会得到另一个实质性的好处，就是与老师接触的机会多，混个脸熟，以后自然好办事，比如贫困金、奖学金的名额，入党名额，可能这也算是一种回报吧。\n\n\n### 寒门弟子的宿命\n\n　　我是一个出身寒门的小伙儿，出身寒门的弟子与城市里的孩子天生会有一些差距，他们的见世面不够广，不会穿衣打扮，更不擅长交际逢迎，当然这不是绝对的，会有例外，但例外总是少数人。几年前，一位银行职员在天涯社区上发表了一片名为《寒门再难出贵子》的文章，瞬间引起了极大的关注，事后我也读了那篇文章。那位作者通过对现实中来自不同地区的实习生的观察，将一个个鲜活的事例摆在人们面前。有些人孩子来自干部家庭，有礼貌，会说话，有眼力劲儿；有些孩子来自经商家庭，脑子活，会交流；还有些孩子来自农村，不会交流，不会拉关系，但是勤快。我记得其中有个女孩子的母亲是某局的一位处级干部，通过关系请到了银行行长吃饭，最终银行对这个女孩子给予了特殊的照顾。令我印象最深的是一个来自农村的孩子，他为了能让没有抽过好烟的父亲抽一抽好烟，将接待用的中华烟往口袋里塞了两盒，结果被风控老总看到了并否定了他。我清楚的记得当初读到这个农村孩子的故事的时候，我的眼睛里是饱含泪水的，因为我觉得自己好像他。\n\n　　来到大学，没有了校服的束缚，不管男孩子还是女孩子都开始打扮起来，买漂亮的衣服，买化妆品，特别是有些女孩子喜欢在微信朋友圈里晒自拍照，虽然都是极度美颜过的，但确实蛮好看的。所有我们也会经常发出感叹，那谁谁谁和高中相比差距太大了，感觉就像变了一个人似的。而有些人的变化就小很多，他们往往穿的很朴素，跟不上这个时代所谓的“潮流”。在谈恋爱方面，寒门弟子表现的也不是很出色，他们往往会考虑到经济因素，和自己的男朋友或女朋友出个吃个饭会考虑这家店是不是很贵，游玩时会考虑找一个便宜的景点或者是不是可以到以后工作挣钱了再去玩。他们在面对自己喜欢的男孩子/女孩子时往往不会说一些很讨人喜欢的话，说的最多话的莫过于“多喝热水”，但有一点，我坚信他们对自己恋爱对象的心是真的，没有利益因素，显得那么纯洁。\n\n　　出身寒门的弟子，普遍有一种自卑的心理，在见过更大一点的世界后，这种自卑的心理表现的更加强烈。所以寒门弟子往往表现的很勤奋，他们唯一能做的事情就是凭借自己的勤奋多读书，多学习知识，靠知识来武装自己，靠知识来减少与他人的差距。他们不想去争多大的名利，只求不被社会抛弃，不被他人看不起。作为寒门弟子中的一员，笔者在这四年中一致奉行的是这种理念，我极少玩电子游戏，而现在流行的像什么英雄联盟、王者荣耀、荒野求生之类的网游我更是从来也没有玩过，我只想省出这部分时间来多读一会书。我想这些游戏一定很好玩吧，不然也不会那么老少皆宜。可这样勤奋一定是对的吗？\n\n　　一个偶然的机会我在网上看到了央视著名主持人白岩松的一场演讲，他讲到这个世界上有四等人，他们可以用“聪明”、“愚蠢”、“勤奋”、“懒惰” 这四个词的组合来概括。第一等人，聪明且勤奋，第二等人，聪明但懒惰，第三等人，愚蠢且懒惰，第四类人，愚蠢但勤奋，也许有人会有疑问，为什么“愚蠢且懒惰”的人能排到第三，而“愚蠢但勤奋”的人反而排到最后了呢？这不符合我们的直觉。其实答案很简单，当你愚蠢且懒惰的时候，你只会待在原点，不会进步，自然也不会倒退，而一旦你变勤奋了，不就相当于在原点往反方向走吗？你的战略是错误的，你做的决定是错误的，你所做的是无意义的。我们常说的“帮倒忙”就是形容愚蠢但勤奋的人。寒门弟子普遍是勤奋的，但勤奋能换来实质的汇报吗？不一定。一时间，我陷入了无尽的迷茫，一个精心做的大蛋糕可能根本吃不得。于是我静下心来，仔细思考着接下来该怎么办。幸运的是，我很快从迷茫中走了出来。\n\n![图片加载成功](/assets/images/map/12/ar12-2.jpg)\n\n　　聪明的人不会一直聪明，愚蠢的人不会一直愚蠢。当我们发现自己是第四等人的时候，不妨停下来将自己变为第三等人，在停下来的这段时间中认真的思考，判断未来的方向。用不了多久，我们将会变聪明起来，走了那么多的弯路，才知道将来不能再走弯路了。\n\n### 家庭这所大学\n\n　　家庭不是大学，却比大学对我们的影响更加深远。\n\n　　家庭对一个孩子的影响不单单停留在经济层面，而且经济层面的影响也不是最大的，重要的父母思维方式的影响。我在这里讲一个很多寒门弟子都遇到过的事情，在经济条件一般的家庭，父母往往会在茶余饭后抱怨、念叨物价之贵，他们会很频繁的告诉子女“这年头挣个钱太不容易了，你看看受这么大的苦，受这么大的累，还是挣不多少钱，咱家的经济条件一般，你可要好好读书，将来挣大钱”。相信很多寒门弟子都或多或少的听带过类似的话。在父母看来这样的教导是正确的，这会激发孩子的上进心。但是一个孩子听惯了这样的话之后怎能没有压力，内心怎能是阳光的呢？所以更普遍的现象是寒门弟子出于“孝心”很节俭，肯不得向父母要钱，也并没有表现出同龄人该有的阳光来。在大学这个与社会比较接近的环境下我们在处理人际关系，处理男女朋友关系，又或者想要去外面的世界开阔下眼界，想要去做点什么了不起的事情时会用到不少钱，在家庭的压力下寒门弟子的施展空间将会被压缩的很小。\n\n　　另一个因素是家庭对于我们的约束。我们通常会受到来自家庭的各种约束，父母会管着我们做什么，上学时管着你考研究生，管着你搞对象，临近毕业会管着你找工作，我无法去下一个结论这种管是否有其实质性的正面价值，但我想讲一个我小时候的故事。小学三年级的时候，我们村子的学校被改造成了灯泡厂，无奈只能去邻村的小学上三年级。那时刚九岁，与我一起的还有一个从小玩到大的玩伴，刚开始我的母亲和那位玩伴的爷爷骑着自行车接送我们上下学，没多久觉得这样下去不是办法，我们两人便开始学骑自行车。我的母亲告诉我骑车子之前要先“溜腿”，通俗点说就是先给自行车一个加速度，差不多了就跨上去骑，母亲一边扶着车子，我一便便试着她传授给我的方法，也许我真的是一个特别笨的人吧，不管怎样的练习就是学不会。突然有一天早上，那位玩伴学会了，他骑的非常不错，所以之后他的爷爷便不再带着他去上学了，变成了他自己骑车，我的母亲带着我。那天，到学校大门的时候，我向母亲说就送到这吧，令我意想不到的是母亲骂了我，我早已不记得骂的内容是什么了，但大体意思就是人家孩子都学会了，你怎么这么笨。我是一个性格腼腆的人，加上当时只有九岁，可想而知当时我的内心是什么滋味了，当然现在脸皮厚了好几尺，别人怎么骂都无所谓。我当时想着也许我让母亲丢人了吧，毕竟自己的孩子“不如”他人家的孩子。在那之后，我便下定决心要在最短的时间内学会骑车子。一天中午，我的爷爷带着我去村子后的土路上学骑车，有意思的是我的爷爷从来也不会骑自行车，他的任务就是看着我别磕着碰着，剩下的就让我自己摸索。我逐渐放弃了母亲教给我的方法，开始按照自己喜欢的方式练习着，练着练着，我竟然学会了，我还记得那一次骑出去那么远。后来我就终于可以和玩伴一起结伴上学了。\n\n　　正是爷爷的“不管”使我真正能按照自己的方式去练习，最终也有了一个好的结果。不幸的是，几年后，在我上初一的时候，爷爷因为高血压发作永远的离开了我。那个下午回到家看着紧闭双眼的爷爷，我哭的那么伤心，也悔恨自己没能看上爷爷最后一眼。\n\n　　我的初中在哪读是被父母决定的，我的高中在哪读又是被父母决定的。十分幸运的是，我的高中门前有一家书店，每次开学，我都会在里面买一本书，学校中午会安排午休的时间，但我不是个喜欢睡午觉的人，所以当舍友都在睡觉时我在“偷偷的”读这些课外书。当然只能是偷偷的读，因为学校里总有些上了岁数的白痴认为这属于“违禁品”。正是这些书启迪了我，它们给了我新的思想，我开始学会独立的思考一些问题。其中有一本书的名字叫《硅谷之火》，是我的同桌送给我的，当然我在之前送给过他一本路遥的《平凡的世界》，是我爸珍藏了好久的，想想我确实是个败家子，不过这次败家败的很值，因为这本《硅谷之火》的确对我产生了很大的影响。当初还在武汉大学就读的小米科技董事长雷军先生也读过这本书，他说他读了这本书之后便梦想着建立一家世界一流的科技公司，后来它的确做到了。有意思的是我也走进了计算机这个行业，不过我对自己成为大老板不抱太大希望。说多了，回到正题。高中毕业后，我义正言辞的拒绝了父母让我复读一年的要求，因为当时的我已经成为了一个“思想独立的人”，我拒绝了父母的管束。我知道自己喜欢什么，要去做什么，我不需要别人给我出那些极不明智主意。\n\n　　进入大学之后，我遇到了一位老先生，我是通过他写的一本书认识他的。这位老先生距今已有两千多年了，姓李名耳，字聃，人们尊称他为“老子”，他写的那本书就是我们所熟知的《道德经》。老子有一个特别著名的主张叫**“无为而治”**，无为而治不是什么都不做，而是不过多的干预，不妄自作为，遵照事物发展的客观规律，则万事万物皆会有一个好的结果。\n\n　　再讲一个发生在我身上的故事。一九年春节过后，我打算趁着寒假出去玩一玩，作为一个年轻的小伙，总想做些有挑战性的事，所以我打算去爬山，我的目标锁定在西岳华山，因为它很险峻。我在班级群里询问有没有人同去，当然我没有抱太大希望，因为我本就没打算找人一起去，只是处于好奇问了问，不出所料，没有人搭理我。我的姐姐原本是支持我趁着年轻多出去走走的，但是当问我有没有伙伴的时候，我十分实在的说了句没有，然后她就不给我经费了，因为怕我出事。而我的母亲更是阻止了我，说一个人太危险，又浪费钱。不过这次没能难倒我，上学期在学校找了份兼职，手里还存了点钱，虽然没多少，但足够完成旅行了。按照既定日期，我来到陕西省华阴市，趁着夜色，冒着寒风，一步步爬向山巅。期间的路程是艰辛的，山里的路很险，有的道路的倾斜角甚至超过七十度，因为刚刚开春，山里很冷，台阶上覆盖着积雪，有些台阶还结上了厚厚的冰层，所以我的手一直死死抓着两旁的铁索。那一路上的经历很丰富，既挑战了很多险峻的道路，又见到了很多有名的景点，如金庸题的那座刻着“华山论剑”的石碑。离山顶还有四分之一路程的时候，我的体力就已经不支了，周围的人也都不行了。在山腰一个比较宽敞的地方，周围的人几乎同时停了下来，坐在地上，几乎都是二十来岁的小伙，我们便开始聊起天来。在聊天的过程中，我得知有的人来自广西，有的人来自东北，甚至还有来自新疆的。一个哥们递给我一支烟，因为天气过于寒冷，我便接过了那只烟抽了起来，也不管什么“游客须知”了，很难想象在地上满是积雪的山上能着起火来。一对情侣从我们面前经过，男的很高，女的长得矮了点。有意思的是，这俩人竟然是在一边唱着歌一边向上走，看起来丝毫不累，一哥们便调侃道“这是爱情的力量吗”，周围的人都哄堂大笑起来。从前一天晚上十点钟，到第二天凌晨五点钟，历时七个小时，我登上了华山的东峰。东峰不是华山的最高峰，确是最佳的观看日出的地点，很多人在这停了下来，准备看日出，我也停了下来。东峰上有一个LED显示器会显示日出时间以及当前温度，日出的时间是早上七点，令人绝望的是当前温度是零下十度，这就意味着要在零下十度的低温下等待两个小时才能看到日出。虽然当时我穿了两件棉袄，两条保暖裤，两双袜子，但是我还是被严寒击败了，早上六点，我终于无法忍受严寒离开了东峰转向南峰。从东峰到南峰这段路程大概需要一个小时，中间没有路灯，我只能开着早就准备好的头灯前进。从山底向东峰挺近的时候，周围还有差不多二十多个人，现在就剩我自己了，夜很黑，寒风刺骨，还时不时有些该死的鸟发出令人毛骨悚然的叫声，周围是那么的空旷，要说一点都不害怕那是不可能。向天边望去的时候，天边已经略微泛红，黎明即将到来，太阳即将升起。我终于赶在太阳升起之前登上了华山最高峰-南峰。日出是美丽的，天边尽皆被染成了红色，一个金黄色的庞然大物从地平线下升起，我此时正在海拔两千一百多米的高处注视着这一切。放眼望去，积雪覆盖着华山山脉，呈现出棕白相间的颜色，远处就是稀薄的云彩，无尽的辽阔，无尽的视野，更有无尽的感慨。\n\n![图片加载成功](/assets/images/map/12/ar12-1.png)\n\n　　我在山顶驻留了半个小时，便离开了。为了节省点钱，我没有坐索道下山，而是选择原路返回，徒步下山。下山的过程中遇到了不小的阻力，早上会有大批人上山，而我是唯数不多的此时下山的人，道路狭窄，自然不好通过。在下山的途中我终于明白了“上山容易下山难”这个道理，我也弄明白了为什么有些人会选择倒着走下山（真他娘的省劲呀）。回学校的旅程并基本是顺利的，来的时候坐高铁来的，回去的时候没钱再坐高铁了，只能辗转去西安坐普快，车厢里人巨多，我买到的位置不靠近桌子，只能坐着睡觉，一天一夜没合眼了，早就困的不行了。刚睡着没多久，一个还在怀中小孩子哭了，嗓门贼大，他的母亲哄了半天才把他哄睡着了，虽然我也很累，但是我丝毫没有责怪她们母子俩的意思，那位母亲真的很不容易。蜗牛般的火车行驶了十四个小时，终于到达了目的地。\n\n　　挣脱父母的约束，你将拥有美妙的经历，看到不一样的风景。如果当初我接受了母亲的管束，就不会有这次美妙的旅行，不会经历这些事情，更见不到高处的风景。我从没有想过，更是拒绝当一个好好学生，因为好好学生意味着你是羊群中最靓的崽儿，但羊终归是羊，随时都可能被吃掉。你可以想象这样一个场景，有一天，你成为一个白发老人，子孙满堂，面对自己的孩子们时，你可以自豪的告诉他们爷爷我年轻的时候曾孤身一人在寒夜中挑战险峻的山峰，你不会愿意告诉他们爷爷年轻的时候老实听话，别人说什么就做什么，甚至一度成为了羊群中最靓的崽儿。\n\n　　谈到家庭对孩子的约束这个话题时，我用了很多的言语，因为这件事对我影响太大了。我十分希望我们的父母能“无为而治”，我们这一代人将来也会有孩子，我们万不能像老一辈管我们那样再去管我们的孩子。告诉孩子不要杀人放火，不偷不抢，不要做违背良心的事情，就足够了，剩下的就顺其自然，孩子喜欢什么就去干什么吧。不过分的干预，孩子总有一个自我激励，自我成长的过程，最终都将会有一个好的结果。相反，过分的干预，无异于泯灭孩子天性，只会适得其反。我想对那些正在被管的孩子说“一定要反抗，否则将来你只能成为你父母那样的人，甚至连你的父母都不如”\n\n　　**生命诚可贵，爱情价更高。若为自由故，二者皆可抛。**  *--《自由与爱情》裴多菲（匈牙利） / 殷夫（译）*\n\n### 大学教育的目标与优先级\n\n　　一个国家办大学的目的是什么？要培养学生哪方面的素质呢？同样是在白岩松的那场演讲中，我找到了答案，中国大学的目标是要培养 **未来的中国人** 。大学，镇国利器也，大学教育的目标绝不只是让学生有知识有文化有能力，更应胸怀天下，忧国忧民。不应培养一群精致的利己主义者，也不是培养一群像上一代那样的人。\n\n　　我们的中学教育总是在教导学生要努力学习，考上好大学，但读大学是为了什么，那群人从来不告诉你。高考过后报志愿时，有多少人不知道自己喜欢什么，不知道兴趣在哪，又有多少人的志愿是瞎填的呢？到了大学又后悔当初应该选个别的专业。\n\n　　曾任清华大学副校长施一公先生曾讲到研究型大学从不应该以就业为导向，就业只是一个出口，大学办好了自然会就业，如果反复强调就业，就会造成学生往挣钱多的领域去钻，比如金融领域。长此下去，一个国家是要出问题的，因为我们没能培养出真正的国之栋梁。幸运的是，我的学校从来没有强调过就业，不幸的是，它会反复强调考试，教师往往会在一门课程的开始强调学期节结束后要考试，会挂科。所以我一度认为的学校是以考试为导向的大学。\n\n　　下面借知乎上某位答主的话谈一谈大学教育的优先级。大学教育要将目标分为三个层次：有道、有才、有用。\n　　**有道**，是说要让学生掌握各种各样的「道」，包括价值观，包括目标驱动，包括自驱力，包括探索和找到内在规律的能力。在各个领域取得成绩的人，往往是自驱型的，这也是学生应该拥有的「道」。特别是对于中国学生，在高考冲刺完之前，往往会被告知「上了大学你们就可以尽情玩了」。其实，大学只是换了赛道，换了项目，同时没有那么多监督，更需要能够自我驱动。\n　　**有才**，是说要具备让自己成为人才的能力。例如具备学习的能力，特别是自学的能力。知识太多了，按部就班学不了太多有用的东西，大量知识来源于主动学习。而且不止是书本，有太多渠道可以学习。掌握这种学习能力，保持学习习惯，都是增加才华的必要条件。\n　　**有用**，是说掌握一些在未来实际可以落地的能力，无论是选择学术道路，还是毕业后工作，都有对应的一些有用的知识和技能。\n　　参见 [大学教育的目标优先级是什么？ - 马力的回答 - 知乎](https://www.zhihu.com/question/318302818/answer/639222073)\n\n　　也就是说，大学教育要努力使学生**有道**，继而有才、有用。上面的层次做好了，即使下面的层次做的不好，也是可以弥补回来的，需要的只是时间。我十分赞同知乎上这位答主的观点，这不就是韩愈在《师说》中写的那样“古之学者必有师。师者，所以传道受业解惑也”。\n\n![图片加载成功](/assets/images/map/12/ar12-4.jpg)\n\n　　我会将大学中的教育工作者分为三类人：教师、老师、导师。最差的是教师，他们持有从业资格证，与律师、司机、厨师一样只是个职业，为了完成任务，他们会备课、会开会，上课时将课本中的东西原封不动的复读给底下的学生，完成了文字转语音这一基本功能。较好的是老师，他们会将课本中的知识提炼出来形成自己的语言，一般是通俗易懂的，努力使学生学会这些知识。最好的是导师（请不要将其与硕士导师或博士导师联系起来），他们不会教给学生任何知识，但他们会告诉学生如何做人，如何养成学习的能力，在学生最迷茫的时候为其指明一条道路，让学生少走弯路。\n\n　　我从没有遇到过可以称之为导师的人，而我也只遇到过一位可以称之为老师的人，那就是我的初中历史老师，是他让我对历史产生了浓厚兴趣，遇到的教师倒是数不胜数。\n\n　　我们的教育对学生的束缚是极大的，中学会束缚住学生的身体与思想，大学没有对学生身体的束缚了，而思想束缚仍然存在。每天，我们都会按照约定，相会在某个地点，一段时间后，又会去下一个约定好的地点，像极了走过场。你也不能不去，因为这是“规定”，这是“从来如此”，制度不管你到底感不感兴趣，你必须遵守。\n\n　　记得大一入学后，我给自己定了一个原则，大学四年，一节课也不要听，无论什么知识，自己去探索，纵使会走无数的弯路。今天看来，我的确是这么做的，一节课我都没听过，当然时不时的还要坐在约定好的地方，人家是要查人数的。具体逃了多少节课，我也记不清了，反正很多。我从没有怀疑过自己的做法，更不会为此而羞愧，因为现在看来这真是极明智的一个决定。\n\n![图片加载成功](/assets/images/map/12/ar12-3.jpeg)\n\n　　如果我们的大学能引领学生自己去探索，去创造，让学生明白自己的兴趣在哪，而不是用那么多的时间把书本上的知识灌输给学生，将更多的时间交给学生，那学生一定获得比现在更好的成长。\n\n　　没有导师的帮助，自己摸索着石头过河，走过了无数的弯路，浪费了不少的时间，等踏上正确的道路后，大学结束了，正所谓”尚未佩妥剑，转眼便江湖“。\n\n　　在这个话题的最后，谈一谈比较敏感的事情。校园绝非一片净土，校园里的腐败问题同样不少。我讨厌贪官，但是贪污在中国历朝历代都有，这不可能且永远不可能解决，亚当斯密在他的名著《国富论》中讲到“人天生，并且永远，是自私的动物”，只要人是自私的，贪污就会一直存在，打倒一个又会上来另一个。所以讨厌归讨厌，谈不上恨。我真正憎恨的是校园里的贪污行为，为什么？那帮家伙在收受贿赂、克扣教育经费后还会道貌岸然的去教育学生，让学生遵纪守法，还有比这更扯淡的事情吗？贪官虽贪，可他不会搞教育，而你以一副师者的姿态在讲台上讲话，背后却干着偷鸡摸狗的事情，典型的双重标准。别的钱可以贪，但是用来教育的钱不能贪。\n\n### 我的就业观\n\n　　中考之前，我参加了隔壁县高中的自主招生，并被录取了，由于当时我们县的高中声誉不好，母亲就让我去隔壁县读书，我便答应了母亲。相信很多的高中都会将班级分为“实验班”与“普通班”两类，学校通常会将最优秀的教师派往实验班，普通班的教师就相对差一些，我的高中也是这样做的，学校分出四个实验班来，其余的都是普通班。令我尴尬的是，我是第五个班级的第一名，按照卡分数线的原则，我应该不仅仅是第五个班级的第一名，而是普通班全体学生的第一名。可是后来，我发现实验班的一小部分人学习成绩也不是很好呀，有同学告诉我他们中有些是教师的子女，或者和教师家有亲缘关系，光我知道的就有三位。我好像明白了点什么。\n\n　　之后我们班主任结婚生子，我们换了好几个班主任，任课教师也一直在变，班级情况很不稳定，每次月考的成绩总排倒数第一，班级里也吵的不行。\n\n　　高三那年的某个晚上，我突然想起了初中教导主任在开毕业生大会上的讲话，我与那位教导主任是认识的，他反复在讲话中提到我们要“宁做鸡头不做凤尾”，当时我不以为意，这句话是什么意思呢？但那个晚上我真正想清楚了，而且我一度认为那句话就是教导主任说给我听的。如果当初我选择在自己的县城读书，便是“鸡头”，但我却选择了去做“凤尾”。看到一只鸡，你不可能不注意它的头，看到凤凰，你难道会去注意它的尾巴吗？做一只鸡头会有成就感，它会正向激励你的进步，做凤尾呢？每天都有无数的聪明人在你面前晃来晃去，不自卑是不可能的，没有失落感是不可能的。 \n\n　　要说我的就业观是什么，就是这八个字“宁做鸡头不做凤尾”。\n\n### 我的理想\n\n>　　那一天我二十一岁，在我一生的黄金时代。我有好多奢望。我想爱，想吃，还想在一瞬间变成天上半明半暗的云。后来我才知道，生活就是个缓慢受锤的过程，人一天天老下去，奢望也一天天消失，最后变得像挨了锤的牛一样。可是我过二十一岁生日时，没有预见到这一点。我觉得自己会永远生猛下去，什么也锤不了我。  --- 王小波《黄金时代》\n\n　　一个人在年轻的时候通常会树立远大的理想，随着时间的推移，理想越来越小，残酷的社会让我们认清理想与现实的差距。曾经我是一个坚定的理想主义者，誓言要最做出伟大的事情来，幸运的是，现在的我仍然是一个理想主义者，可我不能保证几年后还是不是。也许我们终归会变成自己最讨厌的那类人。\n\n![图片加载成功](/assets/images/map/12/ar12-5.jpg)\n\n　　我梦想着在大学能找到志同道合的人，我们将会有共同的兴趣，共同的爱好，为了做成一件事可以废寝忘食，可以来一次说走就走的旅行，遗憾的是没有找到。大学二年级，十一过后，我参加的科技类社团纳新，为了拉到几个新人，我便与同学去体育馆一侧的场地上”叫卖“。一个刚入学的小伙子给我留下了深刻的印象，他走到我面前，问我：”学长，咱们这个社团有机器人吗？“。我瞬间就明白了他在想什么，在此之前他一定从电视或网络看到了大学社团的样子，大学里会有科技社，一群人会在一起组装机器人，玩各种航空模型。当时我回了他一句：”我们这里没有机器人，这所大学不是你所想象的那个样子“，现在想想这句话也是蛮心酸的。\n\n　　文中最开头提到了”好的大学“与”不好的大学“有什么区别，在我看开，大学无好坏之分，关键在于你是否能遇到一个人生导师，找到一群志同道合的人。有这两样，大学生活足以。\n\n　　人总是要不断成长的，大一时我梦想着遇到一群有着相同兴趣的人，之后便不再有这种念头了。后开我又悟出了一个道理，人是有影响力的，即使再渺小的人也能影响周围的人。每个人都有属于自己的故事，今天我讲出几个自己的故事，也许就会与你的故事发生共鸣，没准哪一天我们就会为了做成某件事聚在一起了呢。\n\n### 写在最后\n\n　　如果你读到这了，我真的要感谢你，同时佩服你，因为现在的人们热衷于看几十秒的短视频，喜欢靠短期刺激麻醉自己，这种很长的文章是没有任何吸引力的。这篇文章写的很拙劣，欢迎你提出不同的意见。\n\n　　写作这件事真的挺难的，尤其对于一个理科生来讲，而我的文笔恐怕还停留在中学阶段，但我还是坚持下来了。我的专业是理科中的计算机，但计算机只能说是我的一个兴趣，并非最爱，相反我最喜欢的倒是文科中的历史、社会科学等学科，通过这些学科可以去研究人性，人性是复杂的，也是我特别喜欢去探究的。没准哪天不做计算机方面的工作了，也可以靠写写东西谋生，这谁说的准呢。\n\n　　本来想把这篇文章发表到网络自媒体平台上的，无奈文章包含涉及政治的敏感词汇，投了多家都被拒了，而我又不愿意删除这些词，干脆就不发了，永远的存放在自己的博客中吧，想想这个政党将言论自由控制到这种地步，也是一种悲哀。\n\n　　今年的春节来的比较早，舍友都回家了，宿舍仅剩我一人。我有几本书的陪伴，音响里放着几首美妙的钢琴曲，倒也不显得孤单。二零二零年，会好起来吗...\n\n\n　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　2020年1月3日\n　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　于 河北省邢台市邢台学院\n　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　作者：梦醒时夜续 　　　　　　　　　　　　　\n","source":"_posts/一个毕业生眼中的大学.md","raw":"---\ntitle: 一个毕业生眼中的大学\nreward: true\ndate: 2019-12-26 22:15:39\npermalink: 12\ncategories:\ntags:\ntoc: true\n---\n\n　　严格意义上讲，我不能算是一个毕业生，因为距离我真正拿到毕业证还有半年的时间，当然最主要的原因是我感觉自己好像从来没有上过大学，就像某些段子里讲的那样我可能上了一个假的大学。\n\n　　三年前，我来到了目前就读的大学，虽然这是一所普通到不能再普通的大学，但是不知为何我并没有因此感到一丝沮丧。周围的人，特别是我的父母都说我上了一所野鸡大学，我不想反驳，因为的确没有反驳的理由。家里的人通常会说你上的大学“不好”，人家的孩子上的大学是“好大学“，但是你若问他们”好的大学“与”不好的大学“之间的区别在哪里，他们却又答不上来，毕竟对你指指点点的那帮人从来也没上过大学。\n\n　　我花了两天时间将这几年大学生活的感悟写了出来，算是一篇**长篇日记**，同时分享给感兴趣的的人。此文较长，一万字左右，阅读需要花费半个小时。\n<!-- More -->\n\n### 学习将使你成为异类\n\n　　大学里有很多奇怪的现象，当然这些奇怪的现象不是每个大学都有，但是某些现象却是一些大学的通病。大学这二字中有个学字，也就注定了学生来到大学背负的使命是什么。很不幸的是，你不能表现出很爱学习的样子， 那样你会显得 **“格格不入”** 。当你在某个晚上读书的时候，有些人就会拍拍你的肩膀对你说“嘿，哥们，又在学习”。我举个与之类似的例子，假如有一天你对艺术创作产生了兴趣，你励志将来要成为一名设计师，于是你发奋图强，开始读很多关于艺术创作的书籍，而生活中总会有那么一群人，他们会对你说“大设计师呀，给我留一张名片吧，将来发达了可忘了小弟我啊”。这群人是在有心嘲讽他吗？不是的，他们本没有坏心眼，也许只是一个玩笑，但就是这样的一个玩笑可能会变为“无心的嘲讽”。有些人在上完课后，出于考研、考公务员之类的目的，会背起书包找一个安静的地方读读书，当别人问起他要去做什么的时候，他便会说“我要去学习”，当然说这句话本没有什么问题，关键在于说话的语气，他会故意将“学习”两个字加重音，甚至拉长声，好像他要去做一件特别了不起的事情，但这难道不是一个学生应该做的事情吗？我虽然没有在其他学校生活过，但我有理由相信这种现象不只出现在我的学校。\n\n### 大学中的组织\n\n　　大学中有各种各样的学生组织，这里主要聊一聊学生会的事，大学一年级时，周围的很多人竞相加入学生会，我想他们都源自一个在进入大学之前就达成的共识：学生会将会使你得到历练。从客观角度来讲，学生会的干事、干部们在处理诸多事务的过程中的确会得到历练。不过作为一个旁观者我发现学生会里隐藏着一些阴暗面，最令人担忧的是学生会里竟然出现了”官僚主义“，一个小干事在面对部长级别的学生时显得毕恭毕敬，出现了官大一级压死人的现象，一般部长是不干活的，卖苦力的自然是下面刚加入的那群人。这么小的年纪就搞一些政府特色，走出校园后又会怎样呢？在职位的升迁方面，也存在着暗箱操作，甚至在某些学校的学生会竟然发起了红头文件，令人称奇。在经济方面，学生会也会垄断一些资源，主要是针对新生的用品。有官的地方就会有贪污，学生会也不例外，当然这种小规模的贪目前看来也无伤大雅，但将来走上社会是否会变成大贪呢？\n\n　　大学生是整个社会群体中最激进的一群人，可以想想五四运动，以及中共不愿意提起的六四运动，所以对于大学生思想的控制是必要的，政党将触角伸向了大学，也带来了”官僚权威主义“，整天开不完的会，学习不完的新思想，这种效率低下且并无实际意义的行为对大学教育而言恐怕不是件好事。\n\n　　除了在学生会能得到历练外，有些会来事的人会得到另一个实质性的好处，就是与老师接触的机会多，混个脸熟，以后自然好办事，比如贫困金、奖学金的名额，入党名额，可能这也算是一种回报吧。\n\n\n### 寒门弟子的宿命\n\n　　我是一个出身寒门的小伙儿，出身寒门的弟子与城市里的孩子天生会有一些差距，他们的见世面不够广，不会穿衣打扮，更不擅长交际逢迎，当然这不是绝对的，会有例外，但例外总是少数人。几年前，一位银行职员在天涯社区上发表了一片名为《寒门再难出贵子》的文章，瞬间引起了极大的关注，事后我也读了那篇文章。那位作者通过对现实中来自不同地区的实习生的观察，将一个个鲜活的事例摆在人们面前。有些人孩子来自干部家庭，有礼貌，会说话，有眼力劲儿；有些孩子来自经商家庭，脑子活，会交流；还有些孩子来自农村，不会交流，不会拉关系，但是勤快。我记得其中有个女孩子的母亲是某局的一位处级干部，通过关系请到了银行行长吃饭，最终银行对这个女孩子给予了特殊的照顾。令我印象最深的是一个来自农村的孩子，他为了能让没有抽过好烟的父亲抽一抽好烟，将接待用的中华烟往口袋里塞了两盒，结果被风控老总看到了并否定了他。我清楚的记得当初读到这个农村孩子的故事的时候，我的眼睛里是饱含泪水的，因为我觉得自己好像他。\n\n　　来到大学，没有了校服的束缚，不管男孩子还是女孩子都开始打扮起来，买漂亮的衣服，买化妆品，特别是有些女孩子喜欢在微信朋友圈里晒自拍照，虽然都是极度美颜过的，但确实蛮好看的。所有我们也会经常发出感叹，那谁谁谁和高中相比差距太大了，感觉就像变了一个人似的。而有些人的变化就小很多，他们往往穿的很朴素，跟不上这个时代所谓的“潮流”。在谈恋爱方面，寒门弟子表现的也不是很出色，他们往往会考虑到经济因素，和自己的男朋友或女朋友出个吃个饭会考虑这家店是不是很贵，游玩时会考虑找一个便宜的景点或者是不是可以到以后工作挣钱了再去玩。他们在面对自己喜欢的男孩子/女孩子时往往不会说一些很讨人喜欢的话，说的最多话的莫过于“多喝热水”，但有一点，我坚信他们对自己恋爱对象的心是真的，没有利益因素，显得那么纯洁。\n\n　　出身寒门的弟子，普遍有一种自卑的心理，在见过更大一点的世界后，这种自卑的心理表现的更加强烈。所以寒门弟子往往表现的很勤奋，他们唯一能做的事情就是凭借自己的勤奋多读书，多学习知识，靠知识来武装自己，靠知识来减少与他人的差距。他们不想去争多大的名利，只求不被社会抛弃，不被他人看不起。作为寒门弟子中的一员，笔者在这四年中一致奉行的是这种理念，我极少玩电子游戏，而现在流行的像什么英雄联盟、王者荣耀、荒野求生之类的网游我更是从来也没有玩过，我只想省出这部分时间来多读一会书。我想这些游戏一定很好玩吧，不然也不会那么老少皆宜。可这样勤奋一定是对的吗？\n\n　　一个偶然的机会我在网上看到了央视著名主持人白岩松的一场演讲，他讲到这个世界上有四等人，他们可以用“聪明”、“愚蠢”、“勤奋”、“懒惰” 这四个词的组合来概括。第一等人，聪明且勤奋，第二等人，聪明但懒惰，第三等人，愚蠢且懒惰，第四类人，愚蠢但勤奋，也许有人会有疑问，为什么“愚蠢且懒惰”的人能排到第三，而“愚蠢但勤奋”的人反而排到最后了呢？这不符合我们的直觉。其实答案很简单，当你愚蠢且懒惰的时候，你只会待在原点，不会进步，自然也不会倒退，而一旦你变勤奋了，不就相当于在原点往反方向走吗？你的战略是错误的，你做的决定是错误的，你所做的是无意义的。我们常说的“帮倒忙”就是形容愚蠢但勤奋的人。寒门弟子普遍是勤奋的，但勤奋能换来实质的汇报吗？不一定。一时间，我陷入了无尽的迷茫，一个精心做的大蛋糕可能根本吃不得。于是我静下心来，仔细思考着接下来该怎么办。幸运的是，我很快从迷茫中走了出来。\n\n![图片加载成功](/assets/images/map/12/ar12-2.jpg)\n\n　　聪明的人不会一直聪明，愚蠢的人不会一直愚蠢。当我们发现自己是第四等人的时候，不妨停下来将自己变为第三等人，在停下来的这段时间中认真的思考，判断未来的方向。用不了多久，我们将会变聪明起来，走了那么多的弯路，才知道将来不能再走弯路了。\n\n### 家庭这所大学\n\n　　家庭不是大学，却比大学对我们的影响更加深远。\n\n　　家庭对一个孩子的影响不单单停留在经济层面，而且经济层面的影响也不是最大的，重要的父母思维方式的影响。我在这里讲一个很多寒门弟子都遇到过的事情，在经济条件一般的家庭，父母往往会在茶余饭后抱怨、念叨物价之贵，他们会很频繁的告诉子女“这年头挣个钱太不容易了，你看看受这么大的苦，受这么大的累，还是挣不多少钱，咱家的经济条件一般，你可要好好读书，将来挣大钱”。相信很多寒门弟子都或多或少的听带过类似的话。在父母看来这样的教导是正确的，这会激发孩子的上进心。但是一个孩子听惯了这样的话之后怎能没有压力，内心怎能是阳光的呢？所以更普遍的现象是寒门弟子出于“孝心”很节俭，肯不得向父母要钱，也并没有表现出同龄人该有的阳光来。在大学这个与社会比较接近的环境下我们在处理人际关系，处理男女朋友关系，又或者想要去外面的世界开阔下眼界，想要去做点什么了不起的事情时会用到不少钱，在家庭的压力下寒门弟子的施展空间将会被压缩的很小。\n\n　　另一个因素是家庭对于我们的约束。我们通常会受到来自家庭的各种约束，父母会管着我们做什么，上学时管着你考研究生，管着你搞对象，临近毕业会管着你找工作，我无法去下一个结论这种管是否有其实质性的正面价值，但我想讲一个我小时候的故事。小学三年级的时候，我们村子的学校被改造成了灯泡厂，无奈只能去邻村的小学上三年级。那时刚九岁，与我一起的还有一个从小玩到大的玩伴，刚开始我的母亲和那位玩伴的爷爷骑着自行车接送我们上下学，没多久觉得这样下去不是办法，我们两人便开始学骑自行车。我的母亲告诉我骑车子之前要先“溜腿”，通俗点说就是先给自行车一个加速度，差不多了就跨上去骑，母亲一边扶着车子，我一便便试着她传授给我的方法，也许我真的是一个特别笨的人吧，不管怎样的练习就是学不会。突然有一天早上，那位玩伴学会了，他骑的非常不错，所以之后他的爷爷便不再带着他去上学了，变成了他自己骑车，我的母亲带着我。那天，到学校大门的时候，我向母亲说就送到这吧，令我意想不到的是母亲骂了我，我早已不记得骂的内容是什么了，但大体意思就是人家孩子都学会了，你怎么这么笨。我是一个性格腼腆的人，加上当时只有九岁，可想而知当时我的内心是什么滋味了，当然现在脸皮厚了好几尺，别人怎么骂都无所谓。我当时想着也许我让母亲丢人了吧，毕竟自己的孩子“不如”他人家的孩子。在那之后，我便下定决心要在最短的时间内学会骑车子。一天中午，我的爷爷带着我去村子后的土路上学骑车，有意思的是我的爷爷从来也不会骑自行车，他的任务就是看着我别磕着碰着，剩下的就让我自己摸索。我逐渐放弃了母亲教给我的方法，开始按照自己喜欢的方式练习着，练着练着，我竟然学会了，我还记得那一次骑出去那么远。后来我就终于可以和玩伴一起结伴上学了。\n\n　　正是爷爷的“不管”使我真正能按照自己的方式去练习，最终也有了一个好的结果。不幸的是，几年后，在我上初一的时候，爷爷因为高血压发作永远的离开了我。那个下午回到家看着紧闭双眼的爷爷，我哭的那么伤心，也悔恨自己没能看上爷爷最后一眼。\n\n　　我的初中在哪读是被父母决定的，我的高中在哪读又是被父母决定的。十分幸运的是，我的高中门前有一家书店，每次开学，我都会在里面买一本书，学校中午会安排午休的时间，但我不是个喜欢睡午觉的人，所以当舍友都在睡觉时我在“偷偷的”读这些课外书。当然只能是偷偷的读，因为学校里总有些上了岁数的白痴认为这属于“违禁品”。正是这些书启迪了我，它们给了我新的思想，我开始学会独立的思考一些问题。其中有一本书的名字叫《硅谷之火》，是我的同桌送给我的，当然我在之前送给过他一本路遥的《平凡的世界》，是我爸珍藏了好久的，想想我确实是个败家子，不过这次败家败的很值，因为这本《硅谷之火》的确对我产生了很大的影响。当初还在武汉大学就读的小米科技董事长雷军先生也读过这本书，他说他读了这本书之后便梦想着建立一家世界一流的科技公司，后来它的确做到了。有意思的是我也走进了计算机这个行业，不过我对自己成为大老板不抱太大希望。说多了，回到正题。高中毕业后，我义正言辞的拒绝了父母让我复读一年的要求，因为当时的我已经成为了一个“思想独立的人”，我拒绝了父母的管束。我知道自己喜欢什么，要去做什么，我不需要别人给我出那些极不明智主意。\n\n　　进入大学之后，我遇到了一位老先生，我是通过他写的一本书认识他的。这位老先生距今已有两千多年了，姓李名耳，字聃，人们尊称他为“老子”，他写的那本书就是我们所熟知的《道德经》。老子有一个特别著名的主张叫**“无为而治”**，无为而治不是什么都不做，而是不过多的干预，不妄自作为，遵照事物发展的客观规律，则万事万物皆会有一个好的结果。\n\n　　再讲一个发生在我身上的故事。一九年春节过后，我打算趁着寒假出去玩一玩，作为一个年轻的小伙，总想做些有挑战性的事，所以我打算去爬山，我的目标锁定在西岳华山，因为它很险峻。我在班级群里询问有没有人同去，当然我没有抱太大希望，因为我本就没打算找人一起去，只是处于好奇问了问，不出所料，没有人搭理我。我的姐姐原本是支持我趁着年轻多出去走走的，但是当问我有没有伙伴的时候，我十分实在的说了句没有，然后她就不给我经费了，因为怕我出事。而我的母亲更是阻止了我，说一个人太危险，又浪费钱。不过这次没能难倒我，上学期在学校找了份兼职，手里还存了点钱，虽然没多少，但足够完成旅行了。按照既定日期，我来到陕西省华阴市，趁着夜色，冒着寒风，一步步爬向山巅。期间的路程是艰辛的，山里的路很险，有的道路的倾斜角甚至超过七十度，因为刚刚开春，山里很冷，台阶上覆盖着积雪，有些台阶还结上了厚厚的冰层，所以我的手一直死死抓着两旁的铁索。那一路上的经历很丰富，既挑战了很多险峻的道路，又见到了很多有名的景点，如金庸题的那座刻着“华山论剑”的石碑。离山顶还有四分之一路程的时候，我的体力就已经不支了，周围的人也都不行了。在山腰一个比较宽敞的地方，周围的人几乎同时停了下来，坐在地上，几乎都是二十来岁的小伙，我们便开始聊起天来。在聊天的过程中，我得知有的人来自广西，有的人来自东北，甚至还有来自新疆的。一个哥们递给我一支烟，因为天气过于寒冷，我便接过了那只烟抽了起来，也不管什么“游客须知”了，很难想象在地上满是积雪的山上能着起火来。一对情侣从我们面前经过，男的很高，女的长得矮了点。有意思的是，这俩人竟然是在一边唱着歌一边向上走，看起来丝毫不累，一哥们便调侃道“这是爱情的力量吗”，周围的人都哄堂大笑起来。从前一天晚上十点钟，到第二天凌晨五点钟，历时七个小时，我登上了华山的东峰。东峰不是华山的最高峰，确是最佳的观看日出的地点，很多人在这停了下来，准备看日出，我也停了下来。东峰上有一个LED显示器会显示日出时间以及当前温度，日出的时间是早上七点，令人绝望的是当前温度是零下十度，这就意味着要在零下十度的低温下等待两个小时才能看到日出。虽然当时我穿了两件棉袄，两条保暖裤，两双袜子，但是我还是被严寒击败了，早上六点，我终于无法忍受严寒离开了东峰转向南峰。从东峰到南峰这段路程大概需要一个小时，中间没有路灯，我只能开着早就准备好的头灯前进。从山底向东峰挺近的时候，周围还有差不多二十多个人，现在就剩我自己了，夜很黑，寒风刺骨，还时不时有些该死的鸟发出令人毛骨悚然的叫声，周围是那么的空旷，要说一点都不害怕那是不可能。向天边望去的时候，天边已经略微泛红，黎明即将到来，太阳即将升起。我终于赶在太阳升起之前登上了华山最高峰-南峰。日出是美丽的，天边尽皆被染成了红色，一个金黄色的庞然大物从地平线下升起，我此时正在海拔两千一百多米的高处注视着这一切。放眼望去，积雪覆盖着华山山脉，呈现出棕白相间的颜色，远处就是稀薄的云彩，无尽的辽阔，无尽的视野，更有无尽的感慨。\n\n![图片加载成功](/assets/images/map/12/ar12-1.png)\n\n　　我在山顶驻留了半个小时，便离开了。为了节省点钱，我没有坐索道下山，而是选择原路返回，徒步下山。下山的过程中遇到了不小的阻力，早上会有大批人上山，而我是唯数不多的此时下山的人，道路狭窄，自然不好通过。在下山的途中我终于明白了“上山容易下山难”这个道理，我也弄明白了为什么有些人会选择倒着走下山（真他娘的省劲呀）。回学校的旅程并基本是顺利的，来的时候坐高铁来的，回去的时候没钱再坐高铁了，只能辗转去西安坐普快，车厢里人巨多，我买到的位置不靠近桌子，只能坐着睡觉，一天一夜没合眼了，早就困的不行了。刚睡着没多久，一个还在怀中小孩子哭了，嗓门贼大，他的母亲哄了半天才把他哄睡着了，虽然我也很累，但是我丝毫没有责怪她们母子俩的意思，那位母亲真的很不容易。蜗牛般的火车行驶了十四个小时，终于到达了目的地。\n\n　　挣脱父母的约束，你将拥有美妙的经历，看到不一样的风景。如果当初我接受了母亲的管束，就不会有这次美妙的旅行，不会经历这些事情，更见不到高处的风景。我从没有想过，更是拒绝当一个好好学生，因为好好学生意味着你是羊群中最靓的崽儿，但羊终归是羊，随时都可能被吃掉。你可以想象这样一个场景，有一天，你成为一个白发老人，子孙满堂，面对自己的孩子们时，你可以自豪的告诉他们爷爷我年轻的时候曾孤身一人在寒夜中挑战险峻的山峰，你不会愿意告诉他们爷爷年轻的时候老实听话，别人说什么就做什么，甚至一度成为了羊群中最靓的崽儿。\n\n　　谈到家庭对孩子的约束这个话题时，我用了很多的言语，因为这件事对我影响太大了。我十分希望我们的父母能“无为而治”，我们这一代人将来也会有孩子，我们万不能像老一辈管我们那样再去管我们的孩子。告诉孩子不要杀人放火，不偷不抢，不要做违背良心的事情，就足够了，剩下的就顺其自然，孩子喜欢什么就去干什么吧。不过分的干预，孩子总有一个自我激励，自我成长的过程，最终都将会有一个好的结果。相反，过分的干预，无异于泯灭孩子天性，只会适得其反。我想对那些正在被管的孩子说“一定要反抗，否则将来你只能成为你父母那样的人，甚至连你的父母都不如”\n\n　　**生命诚可贵，爱情价更高。若为自由故，二者皆可抛。**  *--《自由与爱情》裴多菲（匈牙利） / 殷夫（译）*\n\n### 大学教育的目标与优先级\n\n　　一个国家办大学的目的是什么？要培养学生哪方面的素质呢？同样是在白岩松的那场演讲中，我找到了答案，中国大学的目标是要培养 **未来的中国人** 。大学，镇国利器也，大学教育的目标绝不只是让学生有知识有文化有能力，更应胸怀天下，忧国忧民。不应培养一群精致的利己主义者，也不是培养一群像上一代那样的人。\n\n　　我们的中学教育总是在教导学生要努力学习，考上好大学，但读大学是为了什么，那群人从来不告诉你。高考过后报志愿时，有多少人不知道自己喜欢什么，不知道兴趣在哪，又有多少人的志愿是瞎填的呢？到了大学又后悔当初应该选个别的专业。\n\n　　曾任清华大学副校长施一公先生曾讲到研究型大学从不应该以就业为导向，就业只是一个出口，大学办好了自然会就业，如果反复强调就业，就会造成学生往挣钱多的领域去钻，比如金融领域。长此下去，一个国家是要出问题的，因为我们没能培养出真正的国之栋梁。幸运的是，我的学校从来没有强调过就业，不幸的是，它会反复强调考试，教师往往会在一门课程的开始强调学期节结束后要考试，会挂科。所以我一度认为的学校是以考试为导向的大学。\n\n　　下面借知乎上某位答主的话谈一谈大学教育的优先级。大学教育要将目标分为三个层次：有道、有才、有用。\n　　**有道**，是说要让学生掌握各种各样的「道」，包括价值观，包括目标驱动，包括自驱力，包括探索和找到内在规律的能力。在各个领域取得成绩的人，往往是自驱型的，这也是学生应该拥有的「道」。特别是对于中国学生，在高考冲刺完之前，往往会被告知「上了大学你们就可以尽情玩了」。其实，大学只是换了赛道，换了项目，同时没有那么多监督，更需要能够自我驱动。\n　　**有才**，是说要具备让自己成为人才的能力。例如具备学习的能力，特别是自学的能力。知识太多了，按部就班学不了太多有用的东西，大量知识来源于主动学习。而且不止是书本，有太多渠道可以学习。掌握这种学习能力，保持学习习惯，都是增加才华的必要条件。\n　　**有用**，是说掌握一些在未来实际可以落地的能力，无论是选择学术道路，还是毕业后工作，都有对应的一些有用的知识和技能。\n　　参见 [大学教育的目标优先级是什么？ - 马力的回答 - 知乎](https://www.zhihu.com/question/318302818/answer/639222073)\n\n　　也就是说，大学教育要努力使学生**有道**，继而有才、有用。上面的层次做好了，即使下面的层次做的不好，也是可以弥补回来的，需要的只是时间。我十分赞同知乎上这位答主的观点，这不就是韩愈在《师说》中写的那样“古之学者必有师。师者，所以传道受业解惑也”。\n\n![图片加载成功](/assets/images/map/12/ar12-4.jpg)\n\n　　我会将大学中的教育工作者分为三类人：教师、老师、导师。最差的是教师，他们持有从业资格证，与律师、司机、厨师一样只是个职业，为了完成任务，他们会备课、会开会，上课时将课本中的东西原封不动的复读给底下的学生，完成了文字转语音这一基本功能。较好的是老师，他们会将课本中的知识提炼出来形成自己的语言，一般是通俗易懂的，努力使学生学会这些知识。最好的是导师（请不要将其与硕士导师或博士导师联系起来），他们不会教给学生任何知识，但他们会告诉学生如何做人，如何养成学习的能力，在学生最迷茫的时候为其指明一条道路，让学生少走弯路。\n\n　　我从没有遇到过可以称之为导师的人，而我也只遇到过一位可以称之为老师的人，那就是我的初中历史老师，是他让我对历史产生了浓厚兴趣，遇到的教师倒是数不胜数。\n\n　　我们的教育对学生的束缚是极大的，中学会束缚住学生的身体与思想，大学没有对学生身体的束缚了，而思想束缚仍然存在。每天，我们都会按照约定，相会在某个地点，一段时间后，又会去下一个约定好的地点，像极了走过场。你也不能不去，因为这是“规定”，这是“从来如此”，制度不管你到底感不感兴趣，你必须遵守。\n\n　　记得大一入学后，我给自己定了一个原则，大学四年，一节课也不要听，无论什么知识，自己去探索，纵使会走无数的弯路。今天看来，我的确是这么做的，一节课我都没听过，当然时不时的还要坐在约定好的地方，人家是要查人数的。具体逃了多少节课，我也记不清了，反正很多。我从没有怀疑过自己的做法，更不会为此而羞愧，因为现在看来这真是极明智的一个决定。\n\n![图片加载成功](/assets/images/map/12/ar12-3.jpeg)\n\n　　如果我们的大学能引领学生自己去探索，去创造，让学生明白自己的兴趣在哪，而不是用那么多的时间把书本上的知识灌输给学生，将更多的时间交给学生，那学生一定获得比现在更好的成长。\n\n　　没有导师的帮助，自己摸索着石头过河，走过了无数的弯路，浪费了不少的时间，等踏上正确的道路后，大学结束了，正所谓”尚未佩妥剑，转眼便江湖“。\n\n　　在这个话题的最后，谈一谈比较敏感的事情。校园绝非一片净土，校园里的腐败问题同样不少。我讨厌贪官，但是贪污在中国历朝历代都有，这不可能且永远不可能解决，亚当斯密在他的名著《国富论》中讲到“人天生，并且永远，是自私的动物”，只要人是自私的，贪污就会一直存在，打倒一个又会上来另一个。所以讨厌归讨厌，谈不上恨。我真正憎恨的是校园里的贪污行为，为什么？那帮家伙在收受贿赂、克扣教育经费后还会道貌岸然的去教育学生，让学生遵纪守法，还有比这更扯淡的事情吗？贪官虽贪，可他不会搞教育，而你以一副师者的姿态在讲台上讲话，背后却干着偷鸡摸狗的事情，典型的双重标准。别的钱可以贪，但是用来教育的钱不能贪。\n\n### 我的就业观\n\n　　中考之前，我参加了隔壁县高中的自主招生，并被录取了，由于当时我们县的高中声誉不好，母亲就让我去隔壁县读书，我便答应了母亲。相信很多的高中都会将班级分为“实验班”与“普通班”两类，学校通常会将最优秀的教师派往实验班，普通班的教师就相对差一些，我的高中也是这样做的，学校分出四个实验班来，其余的都是普通班。令我尴尬的是，我是第五个班级的第一名，按照卡分数线的原则，我应该不仅仅是第五个班级的第一名，而是普通班全体学生的第一名。可是后来，我发现实验班的一小部分人学习成绩也不是很好呀，有同学告诉我他们中有些是教师的子女，或者和教师家有亲缘关系，光我知道的就有三位。我好像明白了点什么。\n\n　　之后我们班主任结婚生子，我们换了好几个班主任，任课教师也一直在变，班级情况很不稳定，每次月考的成绩总排倒数第一，班级里也吵的不行。\n\n　　高三那年的某个晚上，我突然想起了初中教导主任在开毕业生大会上的讲话，我与那位教导主任是认识的，他反复在讲话中提到我们要“宁做鸡头不做凤尾”，当时我不以为意，这句话是什么意思呢？但那个晚上我真正想清楚了，而且我一度认为那句话就是教导主任说给我听的。如果当初我选择在自己的县城读书，便是“鸡头”，但我却选择了去做“凤尾”。看到一只鸡，你不可能不注意它的头，看到凤凰，你难道会去注意它的尾巴吗？做一只鸡头会有成就感，它会正向激励你的进步，做凤尾呢？每天都有无数的聪明人在你面前晃来晃去，不自卑是不可能的，没有失落感是不可能的。 \n\n　　要说我的就业观是什么，就是这八个字“宁做鸡头不做凤尾”。\n\n### 我的理想\n\n>　　那一天我二十一岁，在我一生的黄金时代。我有好多奢望。我想爱，想吃，还想在一瞬间变成天上半明半暗的云。后来我才知道，生活就是个缓慢受锤的过程，人一天天老下去，奢望也一天天消失，最后变得像挨了锤的牛一样。可是我过二十一岁生日时，没有预见到这一点。我觉得自己会永远生猛下去，什么也锤不了我。  --- 王小波《黄金时代》\n\n　　一个人在年轻的时候通常会树立远大的理想，随着时间的推移，理想越来越小，残酷的社会让我们认清理想与现实的差距。曾经我是一个坚定的理想主义者，誓言要最做出伟大的事情来，幸运的是，现在的我仍然是一个理想主义者，可我不能保证几年后还是不是。也许我们终归会变成自己最讨厌的那类人。\n\n![图片加载成功](/assets/images/map/12/ar12-5.jpg)\n\n　　我梦想着在大学能找到志同道合的人，我们将会有共同的兴趣，共同的爱好，为了做成一件事可以废寝忘食，可以来一次说走就走的旅行，遗憾的是没有找到。大学二年级，十一过后，我参加的科技类社团纳新，为了拉到几个新人，我便与同学去体育馆一侧的场地上”叫卖“。一个刚入学的小伙子给我留下了深刻的印象，他走到我面前，问我：”学长，咱们这个社团有机器人吗？“。我瞬间就明白了他在想什么，在此之前他一定从电视或网络看到了大学社团的样子，大学里会有科技社，一群人会在一起组装机器人，玩各种航空模型。当时我回了他一句：”我们这里没有机器人，这所大学不是你所想象的那个样子“，现在想想这句话也是蛮心酸的。\n\n　　文中最开头提到了”好的大学“与”不好的大学“有什么区别，在我看开，大学无好坏之分，关键在于你是否能遇到一个人生导师，找到一群志同道合的人。有这两样，大学生活足以。\n\n　　人总是要不断成长的，大一时我梦想着遇到一群有着相同兴趣的人，之后便不再有这种念头了。后开我又悟出了一个道理，人是有影响力的，即使再渺小的人也能影响周围的人。每个人都有属于自己的故事，今天我讲出几个自己的故事，也许就会与你的故事发生共鸣，没准哪一天我们就会为了做成某件事聚在一起了呢。\n\n### 写在最后\n\n　　如果你读到这了，我真的要感谢你，同时佩服你，因为现在的人们热衷于看几十秒的短视频，喜欢靠短期刺激麻醉自己，这种很长的文章是没有任何吸引力的。这篇文章写的很拙劣，欢迎你提出不同的意见。\n\n　　写作这件事真的挺难的，尤其对于一个理科生来讲，而我的文笔恐怕还停留在中学阶段，但我还是坚持下来了。我的专业是理科中的计算机，但计算机只能说是我的一个兴趣，并非最爱，相反我最喜欢的倒是文科中的历史、社会科学等学科，通过这些学科可以去研究人性，人性是复杂的，也是我特别喜欢去探究的。没准哪天不做计算机方面的工作了，也可以靠写写东西谋生，这谁说的准呢。\n\n　　本来想把这篇文章发表到网络自媒体平台上的，无奈文章包含涉及政治的敏感词汇，投了多家都被拒了，而我又不愿意删除这些词，干脆就不发了，永远的存放在自己的博客中吧，想想这个政党将言论自由控制到这种地步，也是一种悲哀。\n\n　　今年的春节来的比较早，舍友都回家了，宿舍仅剩我一人。我有几本书的陪伴，音响里放着几首美妙的钢琴曲，倒也不显得孤单。二零二零年，会好起来吗...\n\n\n　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　2020年1月3日\n　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　于 河北省邢台市邢台学院\n　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　作者：梦醒时夜续 　　　　　　　　　　　　　\n","slug":"12","published":1,"updated":"2020-01-07T07:45:44.973Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck541mora0009ecfwakqb42zh","content":"<p>　　严格意义上讲，我不能算是一个毕业生，因为距离我真正拿到毕业证还有半年的时间，当然最主要的原因是我感觉自己好像从来没有上过大学，就像某些段子里讲的那样我可能上了一个假的大学。</p>\n<p>　　三年前，我来到了目前就读的大学，虽然这是一所普通到不能再普通的大学，但是不知为何我并没有因此感到一丝沮丧。周围的人，特别是我的父母都说我上了一所野鸡大学，我不想反驳，因为的确没有反驳的理由。家里的人通常会说你上的大学“不好”，人家的孩子上的大学是“好大学“，但是你若问他们”好的大学“与”不好的大学“之间的区别在哪里，他们却又答不上来，毕竟对你指指点点的那帮人从来也没上过大学。</p>\n<p>　　我花了两天时间将这几年大学生活的感悟写了出来，算是一篇<strong>长篇日记</strong>，同时分享给感兴趣的的人。此文较长，一万字左右，阅读需要花费半个小时。</p>\n<a id=\"more\"></a>\n\n<h3 id=\"学习将使你成为异类\"><a href=\"#学习将使你成为异类\" class=\"headerlink\" title=\"学习将使你成为异类\"></a>学习将使你成为异类</h3><p>　　大学里有很多奇怪的现象，当然这些奇怪的现象不是每个大学都有，但是某些现象却是一些大学的通病。大学这二字中有个学字，也就注定了学生来到大学背负的使命是什么。很不幸的是，你不能表现出很爱学习的样子， 那样你会显得 <strong>“格格不入”</strong> 。当你在某个晚上读书的时候，有些人就会拍拍你的肩膀对你说“嘿，哥们，又在学习”。我举个与之类似的例子，假如有一天你对艺术创作产生了兴趣，你励志将来要成为一名设计师，于是你发奋图强，开始读很多关于艺术创作的书籍，而生活中总会有那么一群人，他们会对你说“大设计师呀，给我留一张名片吧，将来发达了可忘了小弟我啊”。这群人是在有心嘲讽他吗？不是的，他们本没有坏心眼，也许只是一个玩笑，但就是这样的一个玩笑可能会变为“无心的嘲讽”。有些人在上完课后，出于考研、考公务员之类的目的，会背起书包找一个安静的地方读读书，当别人问起他要去做什么的时候，他便会说“我要去学习”，当然说这句话本没有什么问题，关键在于说话的语气，他会故意将“学习”两个字加重音，甚至拉长声，好像他要去做一件特别了不起的事情，但这难道不是一个学生应该做的事情吗？我虽然没有在其他学校生活过，但我有理由相信这种现象不只出现在我的学校。</p>\n<h3 id=\"大学中的组织\"><a href=\"#大学中的组织\" class=\"headerlink\" title=\"大学中的组织\"></a>大学中的组织</h3><p>　　大学中有各种各样的学生组织，这里主要聊一聊学生会的事，大学一年级时，周围的很多人竞相加入学生会，我想他们都源自一个在进入大学之前就达成的共识：学生会将会使你得到历练。从客观角度来讲，学生会的干事、干部们在处理诸多事务的过程中的确会得到历练。不过作为一个旁观者我发现学生会里隐藏着一些阴暗面，最令人担忧的是学生会里竟然出现了”官僚主义“，一个小干事在面对部长级别的学生时显得毕恭毕敬，出现了官大一级压死人的现象，一般部长是不干活的，卖苦力的自然是下面刚加入的那群人。这么小的年纪就搞一些政府特色，走出校园后又会怎样呢？在职位的升迁方面，也存在着暗箱操作，甚至在某些学校的学生会竟然发起了红头文件，令人称奇。在经济方面，学生会也会垄断一些资源，主要是针对新生的用品。有官的地方就会有贪污，学生会也不例外，当然这种小规模的贪目前看来也无伤大雅，但将来走上社会是否会变成大贪呢？</p>\n<p>　　大学生是整个社会群体中最激进的一群人，可以想想五四运动，以及中共不愿意提起的六四运动，所以对于大学生思想的控制是必要的，政党将触角伸向了大学，也带来了”官僚权威主义“，整天开不完的会，学习不完的新思想，这种效率低下且并无实际意义的行为对大学教育而言恐怕不是件好事。</p>\n<p>　　除了在学生会能得到历练外，有些会来事的人会得到另一个实质性的好处，就是与老师接触的机会多，混个脸熟，以后自然好办事，比如贫困金、奖学金的名额，入党名额，可能这也算是一种回报吧。</p>\n<h3 id=\"寒门弟子的宿命\"><a href=\"#寒门弟子的宿命\" class=\"headerlink\" title=\"寒门弟子的宿命\"></a>寒门弟子的宿命</h3><p>　　我是一个出身寒门的小伙儿，出身寒门的弟子与城市里的孩子天生会有一些差距，他们的见世面不够广，不会穿衣打扮，更不擅长交际逢迎，当然这不是绝对的，会有例外，但例外总是少数人。几年前，一位银行职员在天涯社区上发表了一片名为《寒门再难出贵子》的文章，瞬间引起了极大的关注，事后我也读了那篇文章。那位作者通过对现实中来自不同地区的实习生的观察，将一个个鲜活的事例摆在人们面前。有些人孩子来自干部家庭，有礼貌，会说话，有眼力劲儿；有些孩子来自经商家庭，脑子活，会交流；还有些孩子来自农村，不会交流，不会拉关系，但是勤快。我记得其中有个女孩子的母亲是某局的一位处级干部，通过关系请到了银行行长吃饭，最终银行对这个女孩子给予了特殊的照顾。令我印象最深的是一个来自农村的孩子，他为了能让没有抽过好烟的父亲抽一抽好烟，将接待用的中华烟往口袋里塞了两盒，结果被风控老总看到了并否定了他。我清楚的记得当初读到这个农村孩子的故事的时候，我的眼睛里是饱含泪水的，因为我觉得自己好像他。</p>\n<p>　　来到大学，没有了校服的束缚，不管男孩子还是女孩子都开始打扮起来，买漂亮的衣服，买化妆品，特别是有些女孩子喜欢在微信朋友圈里晒自拍照，虽然都是极度美颜过的，但确实蛮好看的。所有我们也会经常发出感叹，那谁谁谁和高中相比差距太大了，感觉就像变了一个人似的。而有些人的变化就小很多，他们往往穿的很朴素，跟不上这个时代所谓的“潮流”。在谈恋爱方面，寒门弟子表现的也不是很出色，他们往往会考虑到经济因素，和自己的男朋友或女朋友出个吃个饭会考虑这家店是不是很贵，游玩时会考虑找一个便宜的景点或者是不是可以到以后工作挣钱了再去玩。他们在面对自己喜欢的男孩子/女孩子时往往不会说一些很讨人喜欢的话，说的最多话的莫过于“多喝热水”，但有一点，我坚信他们对自己恋爱对象的心是真的，没有利益因素，显得那么纯洁。</p>\n<p>　　出身寒门的弟子，普遍有一种自卑的心理，在见过更大一点的世界后，这种自卑的心理表现的更加强烈。所以寒门弟子往往表现的很勤奋，他们唯一能做的事情就是凭借自己的勤奋多读书，多学习知识，靠知识来武装自己，靠知识来减少与他人的差距。他们不想去争多大的名利，只求不被社会抛弃，不被他人看不起。作为寒门弟子中的一员，笔者在这四年中一致奉行的是这种理念，我极少玩电子游戏，而现在流行的像什么英雄联盟、王者荣耀、荒野求生之类的网游我更是从来也没有玩过，我只想省出这部分时间来多读一会书。我想这些游戏一定很好玩吧，不然也不会那么老少皆宜。可这样勤奋一定是对的吗？</p>\n<p>　　一个偶然的机会我在网上看到了央视著名主持人白岩松的一场演讲，他讲到这个世界上有四等人，他们可以用“聪明”、“愚蠢”、“勤奋”、“懒惰” 这四个词的组合来概括。第一等人，聪明且勤奋，第二等人，聪明但懒惰，第三等人，愚蠢且懒惰，第四类人，愚蠢但勤奋，也许有人会有疑问，为什么“愚蠢且懒惰”的人能排到第三，而“愚蠢但勤奋”的人反而排到最后了呢？这不符合我们的直觉。其实答案很简单，当你愚蠢且懒惰的时候，你只会待在原点，不会进步，自然也不会倒退，而一旦你变勤奋了，不就相当于在原点往反方向走吗？你的战略是错误的，你做的决定是错误的，你所做的是无意义的。我们常说的“帮倒忙”就是形容愚蠢但勤奋的人。寒门弟子普遍是勤奋的，但勤奋能换来实质的汇报吗？不一定。一时间，我陷入了无尽的迷茫，一个精心做的大蛋糕可能根本吃不得。于是我静下心来，仔细思考着接下来该怎么办。幸运的是，我很快从迷茫中走了出来。</p>\n<p><img src=\"/assets/images/map/12/ar12-2.jpg\" alt=\"图片加载成功\"></p>\n<p>　　聪明的人不会一直聪明，愚蠢的人不会一直愚蠢。当我们发现自己是第四等人的时候，不妨停下来将自己变为第三等人，在停下来的这段时间中认真的思考，判断未来的方向。用不了多久，我们将会变聪明起来，走了那么多的弯路，才知道将来不能再走弯路了。</p>\n<h3 id=\"家庭这所大学\"><a href=\"#家庭这所大学\" class=\"headerlink\" title=\"家庭这所大学\"></a>家庭这所大学</h3><p>　　家庭不是大学，却比大学对我们的影响更加深远。</p>\n<p>　　家庭对一个孩子的影响不单单停留在经济层面，而且经济层面的影响也不是最大的，重要的父母思维方式的影响。我在这里讲一个很多寒门弟子都遇到过的事情，在经济条件一般的家庭，父母往往会在茶余饭后抱怨、念叨物价之贵，他们会很频繁的告诉子女“这年头挣个钱太不容易了，你看看受这么大的苦，受这么大的累，还是挣不多少钱，咱家的经济条件一般，你可要好好读书，将来挣大钱”。相信很多寒门弟子都或多或少的听带过类似的话。在父母看来这样的教导是正确的，这会激发孩子的上进心。但是一个孩子听惯了这样的话之后怎能没有压力，内心怎能是阳光的呢？所以更普遍的现象是寒门弟子出于“孝心”很节俭，肯不得向父母要钱，也并没有表现出同龄人该有的阳光来。在大学这个与社会比较接近的环境下我们在处理人际关系，处理男女朋友关系，又或者想要去外面的世界开阔下眼界，想要去做点什么了不起的事情时会用到不少钱，在家庭的压力下寒门弟子的施展空间将会被压缩的很小。</p>\n<p>　　另一个因素是家庭对于我们的约束。我们通常会受到来自家庭的各种约束，父母会管着我们做什么，上学时管着你考研究生，管着你搞对象，临近毕业会管着你找工作，我无法去下一个结论这种管是否有其实质性的正面价值，但我想讲一个我小时候的故事。小学三年级的时候，我们村子的学校被改造成了灯泡厂，无奈只能去邻村的小学上三年级。那时刚九岁，与我一起的还有一个从小玩到大的玩伴，刚开始我的母亲和那位玩伴的爷爷骑着自行车接送我们上下学，没多久觉得这样下去不是办法，我们两人便开始学骑自行车。我的母亲告诉我骑车子之前要先“溜腿”，通俗点说就是先给自行车一个加速度，差不多了就跨上去骑，母亲一边扶着车子，我一便便试着她传授给我的方法，也许我真的是一个特别笨的人吧，不管怎样的练习就是学不会。突然有一天早上，那位玩伴学会了，他骑的非常不错，所以之后他的爷爷便不再带着他去上学了，变成了他自己骑车，我的母亲带着我。那天，到学校大门的时候，我向母亲说就送到这吧，令我意想不到的是母亲骂了我，我早已不记得骂的内容是什么了，但大体意思就是人家孩子都学会了，你怎么这么笨。我是一个性格腼腆的人，加上当时只有九岁，可想而知当时我的内心是什么滋味了，当然现在脸皮厚了好几尺，别人怎么骂都无所谓。我当时想着也许我让母亲丢人了吧，毕竟自己的孩子“不如”他人家的孩子。在那之后，我便下定决心要在最短的时间内学会骑车子。一天中午，我的爷爷带着我去村子后的土路上学骑车，有意思的是我的爷爷从来也不会骑自行车，他的任务就是看着我别磕着碰着，剩下的就让我自己摸索。我逐渐放弃了母亲教给我的方法，开始按照自己喜欢的方式练习着，练着练着，我竟然学会了，我还记得那一次骑出去那么远。后来我就终于可以和玩伴一起结伴上学了。</p>\n<p>　　正是爷爷的“不管”使我真正能按照自己的方式去练习，最终也有了一个好的结果。不幸的是，几年后，在我上初一的时候，爷爷因为高血压发作永远的离开了我。那个下午回到家看着紧闭双眼的爷爷，我哭的那么伤心，也悔恨自己没能看上爷爷最后一眼。</p>\n<p>　　我的初中在哪读是被父母决定的，我的高中在哪读又是被父母决定的。十分幸运的是，我的高中门前有一家书店，每次开学，我都会在里面买一本书，学校中午会安排午休的时间，但我不是个喜欢睡午觉的人，所以当舍友都在睡觉时我在“偷偷的”读这些课外书。当然只能是偷偷的读，因为学校里总有些上了岁数的白痴认为这属于“违禁品”。正是这些书启迪了我，它们给了我新的思想，我开始学会独立的思考一些问题。其中有一本书的名字叫《硅谷之火》，是我的同桌送给我的，当然我在之前送给过他一本路遥的《平凡的世界》，是我爸珍藏了好久的，想想我确实是个败家子，不过这次败家败的很值，因为这本《硅谷之火》的确对我产生了很大的影响。当初还在武汉大学就读的小米科技董事长雷军先生也读过这本书，他说他读了这本书之后便梦想着建立一家世界一流的科技公司，后来它的确做到了。有意思的是我也走进了计算机这个行业，不过我对自己成为大老板不抱太大希望。说多了，回到正题。高中毕业后，我义正言辞的拒绝了父母让我复读一年的要求，因为当时的我已经成为了一个“思想独立的人”，我拒绝了父母的管束。我知道自己喜欢什么，要去做什么，我不需要别人给我出那些极不明智主意。</p>\n<p>　　进入大学之后，我遇到了一位老先生，我是通过他写的一本书认识他的。这位老先生距今已有两千多年了，姓李名耳，字聃，人们尊称他为“老子”，他写的那本书就是我们所熟知的《道德经》。老子有一个特别著名的主张叫<strong>“无为而治”</strong>，无为而治不是什么都不做，而是不过多的干预，不妄自作为，遵照事物发展的客观规律，则万事万物皆会有一个好的结果。</p>\n<p>　　再讲一个发生在我身上的故事。一九年春节过后，我打算趁着寒假出去玩一玩，作为一个年轻的小伙，总想做些有挑战性的事，所以我打算去爬山，我的目标锁定在西岳华山，因为它很险峻。我在班级群里询问有没有人同去，当然我没有抱太大希望，因为我本就没打算找人一起去，只是处于好奇问了问，不出所料，没有人搭理我。我的姐姐原本是支持我趁着年轻多出去走走的，但是当问我有没有伙伴的时候，我十分实在的说了句没有，然后她就不给我经费了，因为怕我出事。而我的母亲更是阻止了我，说一个人太危险，又浪费钱。不过这次没能难倒我，上学期在学校找了份兼职，手里还存了点钱，虽然没多少，但足够完成旅行了。按照既定日期，我来到陕西省华阴市，趁着夜色，冒着寒风，一步步爬向山巅。期间的路程是艰辛的，山里的路很险，有的道路的倾斜角甚至超过七十度，因为刚刚开春，山里很冷，台阶上覆盖着积雪，有些台阶还结上了厚厚的冰层，所以我的手一直死死抓着两旁的铁索。那一路上的经历很丰富，既挑战了很多险峻的道路，又见到了很多有名的景点，如金庸题的那座刻着“华山论剑”的石碑。离山顶还有四分之一路程的时候，我的体力就已经不支了，周围的人也都不行了。在山腰一个比较宽敞的地方，周围的人几乎同时停了下来，坐在地上，几乎都是二十来岁的小伙，我们便开始聊起天来。在聊天的过程中，我得知有的人来自广西，有的人来自东北，甚至还有来自新疆的。一个哥们递给我一支烟，因为天气过于寒冷，我便接过了那只烟抽了起来，也不管什么“游客须知”了，很难想象在地上满是积雪的山上能着起火来。一对情侣从我们面前经过，男的很高，女的长得矮了点。有意思的是，这俩人竟然是在一边唱着歌一边向上走，看起来丝毫不累，一哥们便调侃道“这是爱情的力量吗”，周围的人都哄堂大笑起来。从前一天晚上十点钟，到第二天凌晨五点钟，历时七个小时，我登上了华山的东峰。东峰不是华山的最高峰，确是最佳的观看日出的地点，很多人在这停了下来，准备看日出，我也停了下来。东峰上有一个LED显示器会显示日出时间以及当前温度，日出的时间是早上七点，令人绝望的是当前温度是零下十度，这就意味着要在零下十度的低温下等待两个小时才能看到日出。虽然当时我穿了两件棉袄，两条保暖裤，两双袜子，但是我还是被严寒击败了，早上六点，我终于无法忍受严寒离开了东峰转向南峰。从东峰到南峰这段路程大概需要一个小时，中间没有路灯，我只能开着早就准备好的头灯前进。从山底向东峰挺近的时候，周围还有差不多二十多个人，现在就剩我自己了，夜很黑，寒风刺骨，还时不时有些该死的鸟发出令人毛骨悚然的叫声，周围是那么的空旷，要说一点都不害怕那是不可能。向天边望去的时候，天边已经略微泛红，黎明即将到来，太阳即将升起。我终于赶在太阳升起之前登上了华山最高峰-南峰。日出是美丽的，天边尽皆被染成了红色，一个金黄色的庞然大物从地平线下升起，我此时正在海拔两千一百多米的高处注视着这一切。放眼望去，积雪覆盖着华山山脉，呈现出棕白相间的颜色，远处就是稀薄的云彩，无尽的辽阔，无尽的视野，更有无尽的感慨。</p>\n<p><img src=\"/assets/images/map/12/ar12-1.png\" alt=\"图片加载成功\"></p>\n<p>　　我在山顶驻留了半个小时，便离开了。为了节省点钱，我没有坐索道下山，而是选择原路返回，徒步下山。下山的过程中遇到了不小的阻力，早上会有大批人上山，而我是唯数不多的此时下山的人，道路狭窄，自然不好通过。在下山的途中我终于明白了“上山容易下山难”这个道理，我也弄明白了为什么有些人会选择倒着走下山（真他娘的省劲呀）。回学校的旅程并基本是顺利的，来的时候坐高铁来的，回去的时候没钱再坐高铁了，只能辗转去西安坐普快，车厢里人巨多，我买到的位置不靠近桌子，只能坐着睡觉，一天一夜没合眼了，早就困的不行了。刚睡着没多久，一个还在怀中小孩子哭了，嗓门贼大，他的母亲哄了半天才把他哄睡着了，虽然我也很累，但是我丝毫没有责怪她们母子俩的意思，那位母亲真的很不容易。蜗牛般的火车行驶了十四个小时，终于到达了目的地。</p>\n<p>　　挣脱父母的约束，你将拥有美妙的经历，看到不一样的风景。如果当初我接受了母亲的管束，就不会有这次美妙的旅行，不会经历这些事情，更见不到高处的风景。我从没有想过，更是拒绝当一个好好学生，因为好好学生意味着你是羊群中最靓的崽儿，但羊终归是羊，随时都可能被吃掉。你可以想象这样一个场景，有一天，你成为一个白发老人，子孙满堂，面对自己的孩子们时，你可以自豪的告诉他们爷爷我年轻的时候曾孤身一人在寒夜中挑战险峻的山峰，你不会愿意告诉他们爷爷年轻的时候老实听话，别人说什么就做什么，甚至一度成为了羊群中最靓的崽儿。</p>\n<p>　　谈到家庭对孩子的约束这个话题时，我用了很多的言语，因为这件事对我影响太大了。我十分希望我们的父母能“无为而治”，我们这一代人将来也会有孩子，我们万不能像老一辈管我们那样再去管我们的孩子。告诉孩子不要杀人放火，不偷不抢，不要做违背良心的事情，就足够了，剩下的就顺其自然，孩子喜欢什么就去干什么吧。不过分的干预，孩子总有一个自我激励，自我成长的过程，最终都将会有一个好的结果。相反，过分的干预，无异于泯灭孩子天性，只会适得其反。我想对那些正在被管的孩子说“一定要反抗，否则将来你只能成为你父母那样的人，甚至连你的父母都不如”</p>\n<p>　　<strong>生命诚可贵，爱情价更高。若为自由故，二者皆可抛。</strong>  <em>–《自由与爱情》裴多菲（匈牙利） / 殷夫（译）</em></p>\n<h3 id=\"大学教育的目标与优先级\"><a href=\"#大学教育的目标与优先级\" class=\"headerlink\" title=\"大学教育的目标与优先级\"></a>大学教育的目标与优先级</h3><p>　　一个国家办大学的目的是什么？要培养学生哪方面的素质呢？同样是在白岩松的那场演讲中，我找到了答案，中国大学的目标是要培养 <strong>未来的中国人</strong> 。大学，镇国利器也，大学教育的目标绝不只是让学生有知识有文化有能力，更应胸怀天下，忧国忧民。不应培养一群精致的利己主义者，也不是培养一群像上一代那样的人。</p>\n<p>　　我们的中学教育总是在教导学生要努力学习，考上好大学，但读大学是为了什么，那群人从来不告诉你。高考过后报志愿时，有多少人不知道自己喜欢什么，不知道兴趣在哪，又有多少人的志愿是瞎填的呢？到了大学又后悔当初应该选个别的专业。</p>\n<p>　　曾任清华大学副校长施一公先生曾讲到研究型大学从不应该以就业为导向，就业只是一个出口，大学办好了自然会就业，如果反复强调就业，就会造成学生往挣钱多的领域去钻，比如金融领域。长此下去，一个国家是要出问题的，因为我们没能培养出真正的国之栋梁。幸运的是，我的学校从来没有强调过就业，不幸的是，它会反复强调考试，教师往往会在一门课程的开始强调学期节结束后要考试，会挂科。所以我一度认为的学校是以考试为导向的大学。</p>\n<p>　　下面借知乎上某位答主的话谈一谈大学教育的优先级。大学教育要将目标分为三个层次：有道、有才、有用。<br>　　<strong>有道</strong>，是说要让学生掌握各种各样的「道」，包括价值观，包括目标驱动，包括自驱力，包括探索和找到内在规律的能力。在各个领域取得成绩的人，往往是自驱型的，这也是学生应该拥有的「道」。特别是对于中国学生，在高考冲刺完之前，往往会被告知「上了大学你们就可以尽情玩了」。其实，大学只是换了赛道，换了项目，同时没有那么多监督，更需要能够自我驱动。<br>　　<strong>有才</strong>，是说要具备让自己成为人才的能力。例如具备学习的能力，特别是自学的能力。知识太多了，按部就班学不了太多有用的东西，大量知识来源于主动学习。而且不止是书本，有太多渠道可以学习。掌握这种学习能力，保持学习习惯，都是增加才华的必要条件。<br>　　<strong>有用</strong>，是说掌握一些在未来实际可以落地的能力，无论是选择学术道路，还是毕业后工作，都有对应的一些有用的知识和技能。<br>　　参见 <a href=\"https://www.zhihu.com/question/318302818/answer/639222073\">大学教育的目标优先级是什么？ - 马力的回答 - 知乎</a></p>\n<p>　　也就是说，大学教育要努力使学生<strong>有道</strong>，继而有才、有用。上面的层次做好了，即使下面的层次做的不好，也是可以弥补回来的，需要的只是时间。我十分赞同知乎上这位答主的观点，这不就是韩愈在《师说》中写的那样“古之学者必有师。师者，所以传道受业解惑也”。</p>\n<p><img src=\"/assets/images/map/12/ar12-4.jpg\" alt=\"图片加载成功\"></p>\n<p>　　我会将大学中的教育工作者分为三类人：教师、老师、导师。最差的是教师，他们持有从业资格证，与律师、司机、厨师一样只是个职业，为了完成任务，他们会备课、会开会，上课时将课本中的东西原封不动的复读给底下的学生，完成了文字转语音这一基本功能。较好的是老师，他们会将课本中的知识提炼出来形成自己的语言，一般是通俗易懂的，努力使学生学会这些知识。最好的是导师（请不要将其与硕士导师或博士导师联系起来），他们不会教给学生任何知识，但他们会告诉学生如何做人，如何养成学习的能力，在学生最迷茫的时候为其指明一条道路，让学生少走弯路。</p>\n<p>　　我从没有遇到过可以称之为导师的人，而我也只遇到过一位可以称之为老师的人，那就是我的初中历史老师，是他让我对历史产生了浓厚兴趣，遇到的教师倒是数不胜数。</p>\n<p>　　我们的教育对学生的束缚是极大的，中学会束缚住学生的身体与思想，大学没有对学生身体的束缚了，而思想束缚仍然存在。每天，我们都会按照约定，相会在某个地点，一段时间后，又会去下一个约定好的地点，像极了走过场。你也不能不去，因为这是“规定”，这是“从来如此”，制度不管你到底感不感兴趣，你必须遵守。</p>\n<p>　　记得大一入学后，我给自己定了一个原则，大学四年，一节课也不要听，无论什么知识，自己去探索，纵使会走无数的弯路。今天看来，我的确是这么做的，一节课我都没听过，当然时不时的还要坐在约定好的地方，人家是要查人数的。具体逃了多少节课，我也记不清了，反正很多。我从没有怀疑过自己的做法，更不会为此而羞愧，因为现在看来这真是极明智的一个决定。</p>\n<p><img src=\"/assets/images/map/12/ar12-3.jpeg\" alt=\"图片加载成功\"></p>\n<p>　　如果我们的大学能引领学生自己去探索，去创造，让学生明白自己的兴趣在哪，而不是用那么多的时间把书本上的知识灌输给学生，将更多的时间交给学生，那学生一定获得比现在更好的成长。</p>\n<p>　　没有导师的帮助，自己摸索着石头过河，走过了无数的弯路，浪费了不少的时间，等踏上正确的道路后，大学结束了，正所谓”尚未佩妥剑，转眼便江湖“。</p>\n<p>　　在这个话题的最后，谈一谈比较敏感的事情。校园绝非一片净土，校园里的腐败问题同样不少。我讨厌贪官，但是贪污在中国历朝历代都有，这不可能且永远不可能解决，亚当斯密在他的名著《国富论》中讲到“人天生，并且永远，是自私的动物”，只要人是自私的，贪污就会一直存在，打倒一个又会上来另一个。所以讨厌归讨厌，谈不上恨。我真正憎恨的是校园里的贪污行为，为什么？那帮家伙在收受贿赂、克扣教育经费后还会道貌岸然的去教育学生，让学生遵纪守法，还有比这更扯淡的事情吗？贪官虽贪，可他不会搞教育，而你以一副师者的姿态在讲台上讲话，背后却干着偷鸡摸狗的事情，典型的双重标准。别的钱可以贪，但是用来教育的钱不能贪。</p>\n<h3 id=\"我的就业观\"><a href=\"#我的就业观\" class=\"headerlink\" title=\"我的就业观\"></a>我的就业观</h3><p>　　中考之前，我参加了隔壁县高中的自主招生，并被录取了，由于当时我们县的高中声誉不好，母亲就让我去隔壁县读书，我便答应了母亲。相信很多的高中都会将班级分为“实验班”与“普通班”两类，学校通常会将最优秀的教师派往实验班，普通班的教师就相对差一些，我的高中也是这样做的，学校分出四个实验班来，其余的都是普通班。令我尴尬的是，我是第五个班级的第一名，按照卡分数线的原则，我应该不仅仅是第五个班级的第一名，而是普通班全体学生的第一名。可是后来，我发现实验班的一小部分人学习成绩也不是很好呀，有同学告诉我他们中有些是教师的子女，或者和教师家有亲缘关系，光我知道的就有三位。我好像明白了点什么。</p>\n<p>　　之后我们班主任结婚生子，我们换了好几个班主任，任课教师也一直在变，班级情况很不稳定，每次月考的成绩总排倒数第一，班级里也吵的不行。</p>\n<p>　　高三那年的某个晚上，我突然想起了初中教导主任在开毕业生大会上的讲话，我与那位教导主任是认识的，他反复在讲话中提到我们要“宁做鸡头不做凤尾”，当时我不以为意，这句话是什么意思呢？但那个晚上我真正想清楚了，而且我一度认为那句话就是教导主任说给我听的。如果当初我选择在自己的县城读书，便是“鸡头”，但我却选择了去做“凤尾”。看到一只鸡，你不可能不注意它的头，看到凤凰，你难道会去注意它的尾巴吗？做一只鸡头会有成就感，它会正向激励你的进步，做凤尾呢？每天都有无数的聪明人在你面前晃来晃去，不自卑是不可能的，没有失落感是不可能的。 </p>\n<p>　　要说我的就业观是什么，就是这八个字“宁做鸡头不做凤尾”。</p>\n<h3 id=\"我的理想\"><a href=\"#我的理想\" class=\"headerlink\" title=\"我的理想\"></a>我的理想</h3><blockquote>\n<p>　　那一天我二十一岁，在我一生的黄金时代。我有好多奢望。我想爱，想吃，还想在一瞬间变成天上半明半暗的云。后来我才知道，生活就是个缓慢受锤的过程，人一天天老下去，奢望也一天天消失，最后变得像挨了锤的牛一样。可是我过二十一岁生日时，没有预见到这一点。我觉得自己会永远生猛下去，什么也锤不了我。  — 王小波《黄金时代》</p>\n</blockquote>\n<p>　　一个人在年轻的时候通常会树立远大的理想，随着时间的推移，理想越来越小，残酷的社会让我们认清理想与现实的差距。曾经我是一个坚定的理想主义者，誓言要最做出伟大的事情来，幸运的是，现在的我仍然是一个理想主义者，可我不能保证几年后还是不是。也许我们终归会变成自己最讨厌的那类人。</p>\n<p><img src=\"/assets/images/map/12/ar12-5.jpg\" alt=\"图片加载成功\"></p>\n<p>　　我梦想着在大学能找到志同道合的人，我们将会有共同的兴趣，共同的爱好，为了做成一件事可以废寝忘食，可以来一次说走就走的旅行，遗憾的是没有找到。大学二年级，十一过后，我参加的科技类社团纳新，为了拉到几个新人，我便与同学去体育馆一侧的场地上”叫卖“。一个刚入学的小伙子给我留下了深刻的印象，他走到我面前，问我：”学长，咱们这个社团有机器人吗？“。我瞬间就明白了他在想什么，在此之前他一定从电视或网络看到了大学社团的样子，大学里会有科技社，一群人会在一起组装机器人，玩各种航空模型。当时我回了他一句：”我们这里没有机器人，这所大学不是你所想象的那个样子“，现在想想这句话也是蛮心酸的。</p>\n<p>　　文中最开头提到了”好的大学“与”不好的大学“有什么区别，在我看开，大学无好坏之分，关键在于你是否能遇到一个人生导师，找到一群志同道合的人。有这两样，大学生活足以。</p>\n<p>　　人总是要不断成长的，大一时我梦想着遇到一群有着相同兴趣的人，之后便不再有这种念头了。后开我又悟出了一个道理，人是有影响力的，即使再渺小的人也能影响周围的人。每个人都有属于自己的故事，今天我讲出几个自己的故事，也许就会与你的故事发生共鸣，没准哪一天我们就会为了做成某件事聚在一起了呢。</p>\n<h3 id=\"写在最后\"><a href=\"#写在最后\" class=\"headerlink\" title=\"写在最后\"></a>写在最后</h3><p>　　如果你读到这了，我真的要感谢你，同时佩服你，因为现在的人们热衷于看几十秒的短视频，喜欢靠短期刺激麻醉自己，这种很长的文章是没有任何吸引力的。这篇文章写的很拙劣，欢迎你提出不同的意见。</p>\n<p>　　写作这件事真的挺难的，尤其对于一个理科生来讲，而我的文笔恐怕还停留在中学阶段，但我还是坚持下来了。我的专业是理科中的计算机，但计算机只能说是我的一个兴趣，并非最爱，相反我最喜欢的倒是文科中的历史、社会科学等学科，通过这些学科可以去研究人性，人性是复杂的，也是我特别喜欢去探究的。没准哪天不做计算机方面的工作了，也可以靠写写东西谋生，这谁说的准呢。</p>\n<p>　　本来想把这篇文章发表到网络自媒体平台上的，无奈文章包含涉及政治的敏感词汇，投了多家都被拒了，而我又不愿意删除这些词，干脆就不发了，永远的存放在自己的博客中吧，想想这个政党将言论自由控制到这种地步，也是一种悲哀。</p>\n<p>　　今年的春节来的比较早，舍友都回家了，宿舍仅剩我一人。我有几本书的陪伴，音响里放着几首美妙的钢琴曲，倒也不显得孤单。二零二零年，会好起来吗…</p>\n<p>　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　2020年1月3日<br>　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　于 河北省邢台市邢台学院<br>　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　作者：梦醒时夜续 　　　　　　　　　　　　　</p>\n","site":{"data":{}},"excerpt":"<p>　　严格意义上讲，我不能算是一个毕业生，因为距离我真正拿到毕业证还有半年的时间，当然最主要的原因是我感觉自己好像从来没有上过大学，就像某些段子里讲的那样我可能上了一个假的大学。</p>\n<p>　　三年前，我来到了目前就读的大学，虽然这是一所普通到不能再普通的大学，但是不知为何我并没有因此感到一丝沮丧。周围的人，特别是我的父母都说我上了一所野鸡大学，我不想反驳，因为的确没有反驳的理由。家里的人通常会说你上的大学“不好”，人家的孩子上的大学是“好大学“，但是你若问他们”好的大学“与”不好的大学“之间的区别在哪里，他们却又答不上来，毕竟对你指指点点的那帮人从来也没上过大学。</p>\n<p>　　我花了两天时间将这几年大学生活的感悟写了出来，算是一篇<strong>长篇日记</strong>，同时分享给感兴趣的的人。此文较长，一万字左右，阅读需要花费半个小时。</p>","more":"<h3 id=\"学习将使你成为异类\"><a href=\"#学习将使你成为异类\" class=\"headerlink\" title=\"学习将使你成为异类\"></a>学习将使你成为异类</h3><p>　　大学里有很多奇怪的现象，当然这些奇怪的现象不是每个大学都有，但是某些现象却是一些大学的通病。大学这二字中有个学字，也就注定了学生来到大学背负的使命是什么。很不幸的是，你不能表现出很爱学习的样子， 那样你会显得 <strong>“格格不入”</strong> 。当你在某个晚上读书的时候，有些人就会拍拍你的肩膀对你说“嘿，哥们，又在学习”。我举个与之类似的例子，假如有一天你对艺术创作产生了兴趣，你励志将来要成为一名设计师，于是你发奋图强，开始读很多关于艺术创作的书籍，而生活中总会有那么一群人，他们会对你说“大设计师呀，给我留一张名片吧，将来发达了可忘了小弟我啊”。这群人是在有心嘲讽他吗？不是的，他们本没有坏心眼，也许只是一个玩笑，但就是这样的一个玩笑可能会变为“无心的嘲讽”。有些人在上完课后，出于考研、考公务员之类的目的，会背起书包找一个安静的地方读读书，当别人问起他要去做什么的时候，他便会说“我要去学习”，当然说这句话本没有什么问题，关键在于说话的语气，他会故意将“学习”两个字加重音，甚至拉长声，好像他要去做一件特别了不起的事情，但这难道不是一个学生应该做的事情吗？我虽然没有在其他学校生活过，但我有理由相信这种现象不只出现在我的学校。</p>\n<h3 id=\"大学中的组织\"><a href=\"#大学中的组织\" class=\"headerlink\" title=\"大学中的组织\"></a>大学中的组织</h3><p>　　大学中有各种各样的学生组织，这里主要聊一聊学生会的事，大学一年级时，周围的很多人竞相加入学生会，我想他们都源自一个在进入大学之前就达成的共识：学生会将会使你得到历练。从客观角度来讲，学生会的干事、干部们在处理诸多事务的过程中的确会得到历练。不过作为一个旁观者我发现学生会里隐藏着一些阴暗面，最令人担忧的是学生会里竟然出现了”官僚主义“，一个小干事在面对部长级别的学生时显得毕恭毕敬，出现了官大一级压死人的现象，一般部长是不干活的，卖苦力的自然是下面刚加入的那群人。这么小的年纪就搞一些政府特色，走出校园后又会怎样呢？在职位的升迁方面，也存在着暗箱操作，甚至在某些学校的学生会竟然发起了红头文件，令人称奇。在经济方面，学生会也会垄断一些资源，主要是针对新生的用品。有官的地方就会有贪污，学生会也不例外，当然这种小规模的贪目前看来也无伤大雅，但将来走上社会是否会变成大贪呢？</p>\n<p>　　大学生是整个社会群体中最激进的一群人，可以想想五四运动，以及中共不愿意提起的六四运动，所以对于大学生思想的控制是必要的，政党将触角伸向了大学，也带来了”官僚权威主义“，整天开不完的会，学习不完的新思想，这种效率低下且并无实际意义的行为对大学教育而言恐怕不是件好事。</p>\n<p>　　除了在学生会能得到历练外，有些会来事的人会得到另一个实质性的好处，就是与老师接触的机会多，混个脸熟，以后自然好办事，比如贫困金、奖学金的名额，入党名额，可能这也算是一种回报吧。</p>\n<h3 id=\"寒门弟子的宿命\"><a href=\"#寒门弟子的宿命\" class=\"headerlink\" title=\"寒门弟子的宿命\"></a>寒门弟子的宿命</h3><p>　　我是一个出身寒门的小伙儿，出身寒门的弟子与城市里的孩子天生会有一些差距，他们的见世面不够广，不会穿衣打扮，更不擅长交际逢迎，当然这不是绝对的，会有例外，但例外总是少数人。几年前，一位银行职员在天涯社区上发表了一片名为《寒门再难出贵子》的文章，瞬间引起了极大的关注，事后我也读了那篇文章。那位作者通过对现实中来自不同地区的实习生的观察，将一个个鲜活的事例摆在人们面前。有些人孩子来自干部家庭，有礼貌，会说话，有眼力劲儿；有些孩子来自经商家庭，脑子活，会交流；还有些孩子来自农村，不会交流，不会拉关系，但是勤快。我记得其中有个女孩子的母亲是某局的一位处级干部，通过关系请到了银行行长吃饭，最终银行对这个女孩子给予了特殊的照顾。令我印象最深的是一个来自农村的孩子，他为了能让没有抽过好烟的父亲抽一抽好烟，将接待用的中华烟往口袋里塞了两盒，结果被风控老总看到了并否定了他。我清楚的记得当初读到这个农村孩子的故事的时候，我的眼睛里是饱含泪水的，因为我觉得自己好像他。</p>\n<p>　　来到大学，没有了校服的束缚，不管男孩子还是女孩子都开始打扮起来，买漂亮的衣服，买化妆品，特别是有些女孩子喜欢在微信朋友圈里晒自拍照，虽然都是极度美颜过的，但确实蛮好看的。所有我们也会经常发出感叹，那谁谁谁和高中相比差距太大了，感觉就像变了一个人似的。而有些人的变化就小很多，他们往往穿的很朴素，跟不上这个时代所谓的“潮流”。在谈恋爱方面，寒门弟子表现的也不是很出色，他们往往会考虑到经济因素，和自己的男朋友或女朋友出个吃个饭会考虑这家店是不是很贵，游玩时会考虑找一个便宜的景点或者是不是可以到以后工作挣钱了再去玩。他们在面对自己喜欢的男孩子/女孩子时往往不会说一些很讨人喜欢的话，说的最多话的莫过于“多喝热水”，但有一点，我坚信他们对自己恋爱对象的心是真的，没有利益因素，显得那么纯洁。</p>\n<p>　　出身寒门的弟子，普遍有一种自卑的心理，在见过更大一点的世界后，这种自卑的心理表现的更加强烈。所以寒门弟子往往表现的很勤奋，他们唯一能做的事情就是凭借自己的勤奋多读书，多学习知识，靠知识来武装自己，靠知识来减少与他人的差距。他们不想去争多大的名利，只求不被社会抛弃，不被他人看不起。作为寒门弟子中的一员，笔者在这四年中一致奉行的是这种理念，我极少玩电子游戏，而现在流行的像什么英雄联盟、王者荣耀、荒野求生之类的网游我更是从来也没有玩过，我只想省出这部分时间来多读一会书。我想这些游戏一定很好玩吧，不然也不会那么老少皆宜。可这样勤奋一定是对的吗？</p>\n<p>　　一个偶然的机会我在网上看到了央视著名主持人白岩松的一场演讲，他讲到这个世界上有四等人，他们可以用“聪明”、“愚蠢”、“勤奋”、“懒惰” 这四个词的组合来概括。第一等人，聪明且勤奋，第二等人，聪明但懒惰，第三等人，愚蠢且懒惰，第四类人，愚蠢但勤奋，也许有人会有疑问，为什么“愚蠢且懒惰”的人能排到第三，而“愚蠢但勤奋”的人反而排到最后了呢？这不符合我们的直觉。其实答案很简单，当你愚蠢且懒惰的时候，你只会待在原点，不会进步，自然也不会倒退，而一旦你变勤奋了，不就相当于在原点往反方向走吗？你的战略是错误的，你做的决定是错误的，你所做的是无意义的。我们常说的“帮倒忙”就是形容愚蠢但勤奋的人。寒门弟子普遍是勤奋的，但勤奋能换来实质的汇报吗？不一定。一时间，我陷入了无尽的迷茫，一个精心做的大蛋糕可能根本吃不得。于是我静下心来，仔细思考着接下来该怎么办。幸运的是，我很快从迷茫中走了出来。</p>\n<p><img src=\"/assets/images/map/12/ar12-2.jpg\" alt=\"图片加载成功\"></p>\n<p>　　聪明的人不会一直聪明，愚蠢的人不会一直愚蠢。当我们发现自己是第四等人的时候，不妨停下来将自己变为第三等人，在停下来的这段时间中认真的思考，判断未来的方向。用不了多久，我们将会变聪明起来，走了那么多的弯路，才知道将来不能再走弯路了。</p>\n<h3 id=\"家庭这所大学\"><a href=\"#家庭这所大学\" class=\"headerlink\" title=\"家庭这所大学\"></a>家庭这所大学</h3><p>　　家庭不是大学，却比大学对我们的影响更加深远。</p>\n<p>　　家庭对一个孩子的影响不单单停留在经济层面，而且经济层面的影响也不是最大的，重要的父母思维方式的影响。我在这里讲一个很多寒门弟子都遇到过的事情，在经济条件一般的家庭，父母往往会在茶余饭后抱怨、念叨物价之贵，他们会很频繁的告诉子女“这年头挣个钱太不容易了，你看看受这么大的苦，受这么大的累，还是挣不多少钱，咱家的经济条件一般，你可要好好读书，将来挣大钱”。相信很多寒门弟子都或多或少的听带过类似的话。在父母看来这样的教导是正确的，这会激发孩子的上进心。但是一个孩子听惯了这样的话之后怎能没有压力，内心怎能是阳光的呢？所以更普遍的现象是寒门弟子出于“孝心”很节俭，肯不得向父母要钱，也并没有表现出同龄人该有的阳光来。在大学这个与社会比较接近的环境下我们在处理人际关系，处理男女朋友关系，又或者想要去外面的世界开阔下眼界，想要去做点什么了不起的事情时会用到不少钱，在家庭的压力下寒门弟子的施展空间将会被压缩的很小。</p>\n<p>　　另一个因素是家庭对于我们的约束。我们通常会受到来自家庭的各种约束，父母会管着我们做什么，上学时管着你考研究生，管着你搞对象，临近毕业会管着你找工作，我无法去下一个结论这种管是否有其实质性的正面价值，但我想讲一个我小时候的故事。小学三年级的时候，我们村子的学校被改造成了灯泡厂，无奈只能去邻村的小学上三年级。那时刚九岁，与我一起的还有一个从小玩到大的玩伴，刚开始我的母亲和那位玩伴的爷爷骑着自行车接送我们上下学，没多久觉得这样下去不是办法，我们两人便开始学骑自行车。我的母亲告诉我骑车子之前要先“溜腿”，通俗点说就是先给自行车一个加速度，差不多了就跨上去骑，母亲一边扶着车子，我一便便试着她传授给我的方法，也许我真的是一个特别笨的人吧，不管怎样的练习就是学不会。突然有一天早上，那位玩伴学会了，他骑的非常不错，所以之后他的爷爷便不再带着他去上学了，变成了他自己骑车，我的母亲带着我。那天，到学校大门的时候，我向母亲说就送到这吧，令我意想不到的是母亲骂了我，我早已不记得骂的内容是什么了，但大体意思就是人家孩子都学会了，你怎么这么笨。我是一个性格腼腆的人，加上当时只有九岁，可想而知当时我的内心是什么滋味了，当然现在脸皮厚了好几尺，别人怎么骂都无所谓。我当时想着也许我让母亲丢人了吧，毕竟自己的孩子“不如”他人家的孩子。在那之后，我便下定决心要在最短的时间内学会骑车子。一天中午，我的爷爷带着我去村子后的土路上学骑车，有意思的是我的爷爷从来也不会骑自行车，他的任务就是看着我别磕着碰着，剩下的就让我自己摸索。我逐渐放弃了母亲教给我的方法，开始按照自己喜欢的方式练习着，练着练着，我竟然学会了，我还记得那一次骑出去那么远。后来我就终于可以和玩伴一起结伴上学了。</p>\n<p>　　正是爷爷的“不管”使我真正能按照自己的方式去练习，最终也有了一个好的结果。不幸的是，几年后，在我上初一的时候，爷爷因为高血压发作永远的离开了我。那个下午回到家看着紧闭双眼的爷爷，我哭的那么伤心，也悔恨自己没能看上爷爷最后一眼。</p>\n<p>　　我的初中在哪读是被父母决定的，我的高中在哪读又是被父母决定的。十分幸运的是，我的高中门前有一家书店，每次开学，我都会在里面买一本书，学校中午会安排午休的时间，但我不是个喜欢睡午觉的人，所以当舍友都在睡觉时我在“偷偷的”读这些课外书。当然只能是偷偷的读，因为学校里总有些上了岁数的白痴认为这属于“违禁品”。正是这些书启迪了我，它们给了我新的思想，我开始学会独立的思考一些问题。其中有一本书的名字叫《硅谷之火》，是我的同桌送给我的，当然我在之前送给过他一本路遥的《平凡的世界》，是我爸珍藏了好久的，想想我确实是个败家子，不过这次败家败的很值，因为这本《硅谷之火》的确对我产生了很大的影响。当初还在武汉大学就读的小米科技董事长雷军先生也读过这本书，他说他读了这本书之后便梦想着建立一家世界一流的科技公司，后来它的确做到了。有意思的是我也走进了计算机这个行业，不过我对自己成为大老板不抱太大希望。说多了，回到正题。高中毕业后，我义正言辞的拒绝了父母让我复读一年的要求，因为当时的我已经成为了一个“思想独立的人”，我拒绝了父母的管束。我知道自己喜欢什么，要去做什么，我不需要别人给我出那些极不明智主意。</p>\n<p>　　进入大学之后，我遇到了一位老先生，我是通过他写的一本书认识他的。这位老先生距今已有两千多年了，姓李名耳，字聃，人们尊称他为“老子”，他写的那本书就是我们所熟知的《道德经》。老子有一个特别著名的主张叫<strong>“无为而治”</strong>，无为而治不是什么都不做，而是不过多的干预，不妄自作为，遵照事物发展的客观规律，则万事万物皆会有一个好的结果。</p>\n<p>　　再讲一个发生在我身上的故事。一九年春节过后，我打算趁着寒假出去玩一玩，作为一个年轻的小伙，总想做些有挑战性的事，所以我打算去爬山，我的目标锁定在西岳华山，因为它很险峻。我在班级群里询问有没有人同去，当然我没有抱太大希望，因为我本就没打算找人一起去，只是处于好奇问了问，不出所料，没有人搭理我。我的姐姐原本是支持我趁着年轻多出去走走的，但是当问我有没有伙伴的时候，我十分实在的说了句没有，然后她就不给我经费了，因为怕我出事。而我的母亲更是阻止了我，说一个人太危险，又浪费钱。不过这次没能难倒我，上学期在学校找了份兼职，手里还存了点钱，虽然没多少，但足够完成旅行了。按照既定日期，我来到陕西省华阴市，趁着夜色，冒着寒风，一步步爬向山巅。期间的路程是艰辛的，山里的路很险，有的道路的倾斜角甚至超过七十度，因为刚刚开春，山里很冷，台阶上覆盖着积雪，有些台阶还结上了厚厚的冰层，所以我的手一直死死抓着两旁的铁索。那一路上的经历很丰富，既挑战了很多险峻的道路，又见到了很多有名的景点，如金庸题的那座刻着“华山论剑”的石碑。离山顶还有四分之一路程的时候，我的体力就已经不支了，周围的人也都不行了。在山腰一个比较宽敞的地方，周围的人几乎同时停了下来，坐在地上，几乎都是二十来岁的小伙，我们便开始聊起天来。在聊天的过程中，我得知有的人来自广西，有的人来自东北，甚至还有来自新疆的。一个哥们递给我一支烟，因为天气过于寒冷，我便接过了那只烟抽了起来，也不管什么“游客须知”了，很难想象在地上满是积雪的山上能着起火来。一对情侣从我们面前经过，男的很高，女的长得矮了点。有意思的是，这俩人竟然是在一边唱着歌一边向上走，看起来丝毫不累，一哥们便调侃道“这是爱情的力量吗”，周围的人都哄堂大笑起来。从前一天晚上十点钟，到第二天凌晨五点钟，历时七个小时，我登上了华山的东峰。东峰不是华山的最高峰，确是最佳的观看日出的地点，很多人在这停了下来，准备看日出，我也停了下来。东峰上有一个LED显示器会显示日出时间以及当前温度，日出的时间是早上七点，令人绝望的是当前温度是零下十度，这就意味着要在零下十度的低温下等待两个小时才能看到日出。虽然当时我穿了两件棉袄，两条保暖裤，两双袜子，但是我还是被严寒击败了，早上六点，我终于无法忍受严寒离开了东峰转向南峰。从东峰到南峰这段路程大概需要一个小时，中间没有路灯，我只能开着早就准备好的头灯前进。从山底向东峰挺近的时候，周围还有差不多二十多个人，现在就剩我自己了，夜很黑，寒风刺骨，还时不时有些该死的鸟发出令人毛骨悚然的叫声，周围是那么的空旷，要说一点都不害怕那是不可能。向天边望去的时候，天边已经略微泛红，黎明即将到来，太阳即将升起。我终于赶在太阳升起之前登上了华山最高峰-南峰。日出是美丽的，天边尽皆被染成了红色，一个金黄色的庞然大物从地平线下升起，我此时正在海拔两千一百多米的高处注视着这一切。放眼望去，积雪覆盖着华山山脉，呈现出棕白相间的颜色，远处就是稀薄的云彩，无尽的辽阔，无尽的视野，更有无尽的感慨。</p>\n<p><img src=\"/assets/images/map/12/ar12-1.png\" alt=\"图片加载成功\"></p>\n<p>　　我在山顶驻留了半个小时，便离开了。为了节省点钱，我没有坐索道下山，而是选择原路返回，徒步下山。下山的过程中遇到了不小的阻力，早上会有大批人上山，而我是唯数不多的此时下山的人，道路狭窄，自然不好通过。在下山的途中我终于明白了“上山容易下山难”这个道理，我也弄明白了为什么有些人会选择倒着走下山（真他娘的省劲呀）。回学校的旅程并基本是顺利的，来的时候坐高铁来的，回去的时候没钱再坐高铁了，只能辗转去西安坐普快，车厢里人巨多，我买到的位置不靠近桌子，只能坐着睡觉，一天一夜没合眼了，早就困的不行了。刚睡着没多久，一个还在怀中小孩子哭了，嗓门贼大，他的母亲哄了半天才把他哄睡着了，虽然我也很累，但是我丝毫没有责怪她们母子俩的意思，那位母亲真的很不容易。蜗牛般的火车行驶了十四个小时，终于到达了目的地。</p>\n<p>　　挣脱父母的约束，你将拥有美妙的经历，看到不一样的风景。如果当初我接受了母亲的管束，就不会有这次美妙的旅行，不会经历这些事情，更见不到高处的风景。我从没有想过，更是拒绝当一个好好学生，因为好好学生意味着你是羊群中最靓的崽儿，但羊终归是羊，随时都可能被吃掉。你可以想象这样一个场景，有一天，你成为一个白发老人，子孙满堂，面对自己的孩子们时，你可以自豪的告诉他们爷爷我年轻的时候曾孤身一人在寒夜中挑战险峻的山峰，你不会愿意告诉他们爷爷年轻的时候老实听话，别人说什么就做什么，甚至一度成为了羊群中最靓的崽儿。</p>\n<p>　　谈到家庭对孩子的约束这个话题时，我用了很多的言语，因为这件事对我影响太大了。我十分希望我们的父母能“无为而治”，我们这一代人将来也会有孩子，我们万不能像老一辈管我们那样再去管我们的孩子。告诉孩子不要杀人放火，不偷不抢，不要做违背良心的事情，就足够了，剩下的就顺其自然，孩子喜欢什么就去干什么吧。不过分的干预，孩子总有一个自我激励，自我成长的过程，最终都将会有一个好的结果。相反，过分的干预，无异于泯灭孩子天性，只会适得其反。我想对那些正在被管的孩子说“一定要反抗，否则将来你只能成为你父母那样的人，甚至连你的父母都不如”</p>\n<p>　　<strong>生命诚可贵，爱情价更高。若为自由故，二者皆可抛。</strong>  <em>–《自由与爱情》裴多菲（匈牙利） / 殷夫（译）</em></p>\n<h3 id=\"大学教育的目标与优先级\"><a href=\"#大学教育的目标与优先级\" class=\"headerlink\" title=\"大学教育的目标与优先级\"></a>大学教育的目标与优先级</h3><p>　　一个国家办大学的目的是什么？要培养学生哪方面的素质呢？同样是在白岩松的那场演讲中，我找到了答案，中国大学的目标是要培养 <strong>未来的中国人</strong> 。大学，镇国利器也，大学教育的目标绝不只是让学生有知识有文化有能力，更应胸怀天下，忧国忧民。不应培养一群精致的利己主义者，也不是培养一群像上一代那样的人。</p>\n<p>　　我们的中学教育总是在教导学生要努力学习，考上好大学，但读大学是为了什么，那群人从来不告诉你。高考过后报志愿时，有多少人不知道自己喜欢什么，不知道兴趣在哪，又有多少人的志愿是瞎填的呢？到了大学又后悔当初应该选个别的专业。</p>\n<p>　　曾任清华大学副校长施一公先生曾讲到研究型大学从不应该以就业为导向，就业只是一个出口，大学办好了自然会就业，如果反复强调就业，就会造成学生往挣钱多的领域去钻，比如金融领域。长此下去，一个国家是要出问题的，因为我们没能培养出真正的国之栋梁。幸运的是，我的学校从来没有强调过就业，不幸的是，它会反复强调考试，教师往往会在一门课程的开始强调学期节结束后要考试，会挂科。所以我一度认为的学校是以考试为导向的大学。</p>\n<p>　　下面借知乎上某位答主的话谈一谈大学教育的优先级。大学教育要将目标分为三个层次：有道、有才、有用。<br>　　<strong>有道</strong>，是说要让学生掌握各种各样的「道」，包括价值观，包括目标驱动，包括自驱力，包括探索和找到内在规律的能力。在各个领域取得成绩的人，往往是自驱型的，这也是学生应该拥有的「道」。特别是对于中国学生，在高考冲刺完之前，往往会被告知「上了大学你们就可以尽情玩了」。其实，大学只是换了赛道，换了项目，同时没有那么多监督，更需要能够自我驱动。<br>　　<strong>有才</strong>，是说要具备让自己成为人才的能力。例如具备学习的能力，特别是自学的能力。知识太多了，按部就班学不了太多有用的东西，大量知识来源于主动学习。而且不止是书本，有太多渠道可以学习。掌握这种学习能力，保持学习习惯，都是增加才华的必要条件。<br>　　<strong>有用</strong>，是说掌握一些在未来实际可以落地的能力，无论是选择学术道路，还是毕业后工作，都有对应的一些有用的知识和技能。<br>　　参见 <a href=\"https://www.zhihu.com/question/318302818/answer/639222073\">大学教育的目标优先级是什么？ - 马力的回答 - 知乎</a></p>\n<p>　　也就是说，大学教育要努力使学生<strong>有道</strong>，继而有才、有用。上面的层次做好了，即使下面的层次做的不好，也是可以弥补回来的，需要的只是时间。我十分赞同知乎上这位答主的观点，这不就是韩愈在《师说》中写的那样“古之学者必有师。师者，所以传道受业解惑也”。</p>\n<p><img src=\"/assets/images/map/12/ar12-4.jpg\" alt=\"图片加载成功\"></p>\n<p>　　我会将大学中的教育工作者分为三类人：教师、老师、导师。最差的是教师，他们持有从业资格证，与律师、司机、厨师一样只是个职业，为了完成任务，他们会备课、会开会，上课时将课本中的东西原封不动的复读给底下的学生，完成了文字转语音这一基本功能。较好的是老师，他们会将课本中的知识提炼出来形成自己的语言，一般是通俗易懂的，努力使学生学会这些知识。最好的是导师（请不要将其与硕士导师或博士导师联系起来），他们不会教给学生任何知识，但他们会告诉学生如何做人，如何养成学习的能力，在学生最迷茫的时候为其指明一条道路，让学生少走弯路。</p>\n<p>　　我从没有遇到过可以称之为导师的人，而我也只遇到过一位可以称之为老师的人，那就是我的初中历史老师，是他让我对历史产生了浓厚兴趣，遇到的教师倒是数不胜数。</p>\n<p>　　我们的教育对学生的束缚是极大的，中学会束缚住学生的身体与思想，大学没有对学生身体的束缚了，而思想束缚仍然存在。每天，我们都会按照约定，相会在某个地点，一段时间后，又会去下一个约定好的地点，像极了走过场。你也不能不去，因为这是“规定”，这是“从来如此”，制度不管你到底感不感兴趣，你必须遵守。</p>\n<p>　　记得大一入学后，我给自己定了一个原则，大学四年，一节课也不要听，无论什么知识，自己去探索，纵使会走无数的弯路。今天看来，我的确是这么做的，一节课我都没听过，当然时不时的还要坐在约定好的地方，人家是要查人数的。具体逃了多少节课，我也记不清了，反正很多。我从没有怀疑过自己的做法，更不会为此而羞愧，因为现在看来这真是极明智的一个决定。</p>\n<p><img src=\"/assets/images/map/12/ar12-3.jpeg\" alt=\"图片加载成功\"></p>\n<p>　　如果我们的大学能引领学生自己去探索，去创造，让学生明白自己的兴趣在哪，而不是用那么多的时间把书本上的知识灌输给学生，将更多的时间交给学生，那学生一定获得比现在更好的成长。</p>\n<p>　　没有导师的帮助，自己摸索着石头过河，走过了无数的弯路，浪费了不少的时间，等踏上正确的道路后，大学结束了，正所谓”尚未佩妥剑，转眼便江湖“。</p>\n<p>　　在这个话题的最后，谈一谈比较敏感的事情。校园绝非一片净土，校园里的腐败问题同样不少。我讨厌贪官，但是贪污在中国历朝历代都有，这不可能且永远不可能解决，亚当斯密在他的名著《国富论》中讲到“人天生，并且永远，是自私的动物”，只要人是自私的，贪污就会一直存在，打倒一个又会上来另一个。所以讨厌归讨厌，谈不上恨。我真正憎恨的是校园里的贪污行为，为什么？那帮家伙在收受贿赂、克扣教育经费后还会道貌岸然的去教育学生，让学生遵纪守法，还有比这更扯淡的事情吗？贪官虽贪，可他不会搞教育，而你以一副师者的姿态在讲台上讲话，背后却干着偷鸡摸狗的事情，典型的双重标准。别的钱可以贪，但是用来教育的钱不能贪。</p>\n<h3 id=\"我的就业观\"><a href=\"#我的就业观\" class=\"headerlink\" title=\"我的就业观\"></a>我的就业观</h3><p>　　中考之前，我参加了隔壁县高中的自主招生，并被录取了，由于当时我们县的高中声誉不好，母亲就让我去隔壁县读书，我便答应了母亲。相信很多的高中都会将班级分为“实验班”与“普通班”两类，学校通常会将最优秀的教师派往实验班，普通班的教师就相对差一些，我的高中也是这样做的，学校分出四个实验班来，其余的都是普通班。令我尴尬的是，我是第五个班级的第一名，按照卡分数线的原则，我应该不仅仅是第五个班级的第一名，而是普通班全体学生的第一名。可是后来，我发现实验班的一小部分人学习成绩也不是很好呀，有同学告诉我他们中有些是教师的子女，或者和教师家有亲缘关系，光我知道的就有三位。我好像明白了点什么。</p>\n<p>　　之后我们班主任结婚生子，我们换了好几个班主任，任课教师也一直在变，班级情况很不稳定，每次月考的成绩总排倒数第一，班级里也吵的不行。</p>\n<p>　　高三那年的某个晚上，我突然想起了初中教导主任在开毕业生大会上的讲话，我与那位教导主任是认识的，他反复在讲话中提到我们要“宁做鸡头不做凤尾”，当时我不以为意，这句话是什么意思呢？但那个晚上我真正想清楚了，而且我一度认为那句话就是教导主任说给我听的。如果当初我选择在自己的县城读书，便是“鸡头”，但我却选择了去做“凤尾”。看到一只鸡，你不可能不注意它的头，看到凤凰，你难道会去注意它的尾巴吗？做一只鸡头会有成就感，它会正向激励你的进步，做凤尾呢？每天都有无数的聪明人在你面前晃来晃去，不自卑是不可能的，没有失落感是不可能的。 </p>\n<p>　　要说我的就业观是什么，就是这八个字“宁做鸡头不做凤尾”。</p>\n<h3 id=\"我的理想\"><a href=\"#我的理想\" class=\"headerlink\" title=\"我的理想\"></a>我的理想</h3><blockquote>\n<p>　　那一天我二十一岁，在我一生的黄金时代。我有好多奢望。我想爱，想吃，还想在一瞬间变成天上半明半暗的云。后来我才知道，生活就是个缓慢受锤的过程，人一天天老下去，奢望也一天天消失，最后变得像挨了锤的牛一样。可是我过二十一岁生日时，没有预见到这一点。我觉得自己会永远生猛下去，什么也锤不了我。  — 王小波《黄金时代》</p>\n</blockquote>\n<p>　　一个人在年轻的时候通常会树立远大的理想，随着时间的推移，理想越来越小，残酷的社会让我们认清理想与现实的差距。曾经我是一个坚定的理想主义者，誓言要最做出伟大的事情来，幸运的是，现在的我仍然是一个理想主义者，可我不能保证几年后还是不是。也许我们终归会变成自己最讨厌的那类人。</p>\n<p><img src=\"/assets/images/map/12/ar12-5.jpg\" alt=\"图片加载成功\"></p>\n<p>　　我梦想着在大学能找到志同道合的人，我们将会有共同的兴趣，共同的爱好，为了做成一件事可以废寝忘食，可以来一次说走就走的旅行，遗憾的是没有找到。大学二年级，十一过后，我参加的科技类社团纳新，为了拉到几个新人，我便与同学去体育馆一侧的场地上”叫卖“。一个刚入学的小伙子给我留下了深刻的印象，他走到我面前，问我：”学长，咱们这个社团有机器人吗？“。我瞬间就明白了他在想什么，在此之前他一定从电视或网络看到了大学社团的样子，大学里会有科技社，一群人会在一起组装机器人，玩各种航空模型。当时我回了他一句：”我们这里没有机器人，这所大学不是你所想象的那个样子“，现在想想这句话也是蛮心酸的。</p>\n<p>　　文中最开头提到了”好的大学“与”不好的大学“有什么区别，在我看开，大学无好坏之分，关键在于你是否能遇到一个人生导师，找到一群志同道合的人。有这两样，大学生活足以。</p>\n<p>　　人总是要不断成长的，大一时我梦想着遇到一群有着相同兴趣的人，之后便不再有这种念头了。后开我又悟出了一个道理，人是有影响力的，即使再渺小的人也能影响周围的人。每个人都有属于自己的故事，今天我讲出几个自己的故事，也许就会与你的故事发生共鸣，没准哪一天我们就会为了做成某件事聚在一起了呢。</p>\n<h3 id=\"写在最后\"><a href=\"#写在最后\" class=\"headerlink\" title=\"写在最后\"></a>写在最后</h3><p>　　如果你读到这了，我真的要感谢你，同时佩服你，因为现在的人们热衷于看几十秒的短视频，喜欢靠短期刺激麻醉自己，这种很长的文章是没有任何吸引力的。这篇文章写的很拙劣，欢迎你提出不同的意见。</p>\n<p>　　写作这件事真的挺难的，尤其对于一个理科生来讲，而我的文笔恐怕还停留在中学阶段，但我还是坚持下来了。我的专业是理科中的计算机，但计算机只能说是我的一个兴趣，并非最爱，相反我最喜欢的倒是文科中的历史、社会科学等学科，通过这些学科可以去研究人性，人性是复杂的，也是我特别喜欢去探究的。没准哪天不做计算机方面的工作了，也可以靠写写东西谋生，这谁说的准呢。</p>\n<p>　　本来想把这篇文章发表到网络自媒体平台上的，无奈文章包含涉及政治的敏感词汇，投了多家都被拒了，而我又不愿意删除这些词，干脆就不发了，永远的存放在自己的博客中吧，想想这个政党将言论自由控制到这种地步，也是一种悲哀。</p>\n<p>　　今年的春节来的比较早，舍友都回家了，宿舍仅剩我一人。我有几本书的陪伴，音响里放着几首美妙的钢琴曲，倒也不显得孤单。二零二零年，会好起来吗…</p>\n<p>　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　2020年1月3日<br>　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　于 河北省邢台市邢台学院<br>　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　作者：梦醒时夜续 　　　　　　　　　　　　　</p>"},{"title":"名言摘抄","reward":true,"date":"2019-12-10T13:25:38.000Z","_content":"\n\n　　你知道他们不是坏人，他们只是没受过教育，不谙世故，没出过远门，不道德，不文明，外加愚蠢。– – 蒂姆 ･高特罗","source":"_posts/名言摘抄.md","raw":"---\ntitle: 名言摘抄\nreward: true\ndate: 2019-12-10 21:25:38\ntags: 思考\npermalink: 7\ncategories: 一个人\n---\n\n\n　　你知道他们不是坏人，他们只是没受过教育，不谙世故，没出过远门，不道德，不文明，外加愚蠢。– – 蒂姆 ･高特罗","slug":"7","published":1,"updated":"2019-12-10T13:33:49.532Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck541morc000decfw7juq9hs8","content":"<p>　　你知道他们不是坏人，他们只是没受过教育，不谙世故，没出过远门，不道德，不文明，外加愚蠢。– – 蒂姆 ･高特罗</p>\n","site":{"data":{}},"excerpt":"","more":"<p>　　你知道他们不是坏人，他们只是没受过教育，不谙世故，没出过远门，不道德，不文明，外加愚蠢。– – 蒂姆 ･高特罗</p>\n"},{"title":"拉勾网企业招聘信息分析报告","reward":true,"date":"2019-12-10T13:40:03.000Z","toc":true,"_content":"\n　　2020年是16级大学生毕业的年份，明年的五六月份，包括笔者在内的一大批大学生就要走出校门，结束十六年的学业生涯，并开始长达数十年的职业生涯，在这个时间点上，我们最期望的莫过于找到一份称心的工作，这是家人的期盼，更是我们自己的期盼。\n　　我们中的每一个人，都或多或少的感受到了就业的压力，尤其是计算机行业，在这种**低端人才饱和，高端人才紧缺**的大环境下，找到一份称心的工作着实不是件容易的事情。刚走出校门的我们由于经验不足只能选择低端岗位，令人担忧的是全球智能化革命的兴起将消灭大量的低端岗位，所以未来的竞争只会越来越激烈。\n　　前段时间，一个偶然的机会我在互联网上浏览到了几则招聘信息，读着读着我脑子中便闪过一个念头，何不动用一些技术手段将这些招聘信息采集下来，然后对这些信息进行分析呢？这样就可以从整体上看清行业招聘的趋势了。在强大的好奇心的驱使下我设计并编写了计算机程序，程序运行了大概三天的时间，终于将这些招聘信息采集了下来，数据经过清洗与分析过后，利用数据可视化技术加以展现。现在我将分析结果分享出来，以下是文章正文部分。\n<!-- More -->\n提示：正文包含六十七张图片，将消耗你大概8MB的流量，你一定是个慷慨的人。\n\n**笔者已将文中的图片打包成了压缩文件，读者可自行下载：[点我下载](http://cdn.zizaixian.top/user/files/technology.zip)**\n\n**本文同步发布在博客园：[https://www.cnblogs.com/nkqlhqc/p/11644900.html](https://www.cnblogs.com/nkqlhqc/p/11644900.html)**\n\n\n### 写在最前面的话\n\n- 本文展现的数据均采集于正规的招聘网站，数据的可信性是毋庸置疑的。\n\n- 所有采集到的数据仅用作学习与交流，笔者承诺不会将其用作商业用途。\n\n- 文中不免夹杂一些笔者的个人观点，你可以反对我的观点，但是我拒不接受。\n\n- 我并非权威的数据分析员，文章标题用 *报告* 二字纯粹是为了装逼。\n\n### 不要迷信数据与他人\n\n　　数据分析只是一个工具，它不是万能的，万不要盲目的相信数据，未来选择什么样的职业，还要自己凭主观定夺，也就是你自己说了算。对未来迷茫了就去多读书，不要迷信数据，更不要听旁人瞎扯。\n　　我在这里列举两类人，如果这两类人对你的职业有任何指导的话，你大可不必去听。这第一类人是大学教师，尤其是系里的领导，这类人由于在学校呆的太久，与外界基本处于隔离的状态。教师是一个相对安逸的职业，安逸的环境势必会打消人学习的热情，学习的热情一旦没有了，不再为自己充电了，那就基本上等于落后于时代了，对未来的判断更是无从谈起。计算机行业的发展速度远超过王思聪换女朋友的速度，我们的大学教师面对这样的发展速度能否给予学生一个正确的指导呢？我想他们是不能的。如果有教师为你的未来提供什么指导的话，他们也是在拿数年前的眼光告诉你现在该怎么去做，或者借用自媒体噱头式的宣传来鼓励你去做那些看起来很有前景的事情。\n　　第二类人，是培训机构的人。培训机构的人为了自身的利益，不可避免的要用夸张式的语气宣扬一种事物，或去贬低一种事物，我觉得这是无可厚非的，毕竟赚钱才是培训机构的首要任务，而非培养人才。我只想说兼听则明，偏信则暗，如果任由单方面的话语在我们耳边徘徊的话，那我们对未来的判断是不是失去了平衡呢？我曾经**被动的**接受过五家培训机构的宣传，在此我也非常有兴趣点名一家培训机构，这家培训机构的名字叫北京AAA教育，在被动的听完该机构某位中年女士的宣讲后，我只想借诸葛亮的话形容一下当时的心情：我从未见过有如此厚颜无耻之人。为了自己的那点利益，把学生当傻子，信口胡说，颠倒黑白，四十分钟的宣讲将其无知、无耻的一面表现的淋漓尽致。在此衷心祝愿该培训机构早日倒闭，免得毒害更多的学生。\n\n### 关于数据量的解释\n\n　　数据均采集于[拉勾网](https://www.lagou.com)。相比于其它招聘信息服务网站，拉勾网专为IT从业人员提供信息服务，也就是说拉勾网上面的招聘信息全部都是与IT互联网相关的，无其它行业的招聘信息，因此选择拉勾网作为数据采集对象再合适不过了。\n　　此次共采集到招聘信息十一万两千八百六十五条，去除重复与无效的数据后剩余八万零三百五十条，数据采集日期为二零一九年九月下旬。 岗位涉及技术、产品、设计、运营、市场、销售、职能、游戏八个方向，由于绝大部分的学生在刚毕业时还是会选择技术岗，所以我仅仅分析了技术岗的数据，这部分数据共计两万八千六百七十一条。也许两万八千余条的数据量并不算大，但是我认为有时候不一定需要从宏观角度出发才能认清一件事情，从微观角度出发也可以很清晰的看到事物整体的面貌，这是一种透过微观看宏观的观察问题的方式。就比如我们交朋友，我们往往能通过对方的一些细节来判断这个人是否值得深交，而无需经过什么大事。\n　　每条招聘信息都包含工作地区、薪资区间、学历要求、经验要求、技能要有、岗位职责、企业所属领域、企业融资情况等数据，下面我将从十个方面对这部分数据做一个简单的分析。\n\n**提示：可以点击图片查看大图！**\n\n### 哪个城市最吸引人才？\n\n　　毕业之后，有些人想去自己向往已久的城市，有些人看见别人去哪了他就去哪，而很多的父母也不愿意子女远行。选择一个城市对我们将来的影响是不容小觑的，因为它直接决定了我们下半辈子在哪当房奴，甚至连房奴都当不上。下面是各城市需求岗位数量分布图：\n\n[![各城市需求岗位数量分布](http://cdn.zizaixian.top/2019/10/t1823.jpg \"各城市需求岗位数量分布\")](http://cdn.zizaixian.top/2019/10/t1823.jpg \"各城市需求岗位数量分布\")\n\n　　北京毫无疑问的是最吸引人才的城市，主要还是因为北京的IT企业相对较多一些。排在其身后的分别是深圳、上海、广州、杭州、成都、武汉、南京，其中深圳与上海的需求量基本持平，再往后就是岗位需求不太旺盛的城市了，这个分布也基本符合我们的认知。\n\n### 你需要什么样的学历\n\n[![总体学历要求分布](http://cdn.zizaixian.top/2019/10/t1503.jpg \"总体学历要求分布\")](http://cdn.zizaixian.top/2019/10/t1503.jpg \"总体学历要求分布\")\n\n　　如上图所示，本科及以上学历占到一半以上，接着按比例排列分别是大专及以上、学历不限、硕士及以上、博士及以上。虽然本科及以上占比最大，但不要觉得自己是本科学历就高兴的太早，其一，不同的岗位对学历的要求是不同的，这里展现的仅仅是整体的学历要求分布，忽略了这种不同；其二，企业不仅仅要看你的学历，经验也是重要的考量；其三，学历低往往意味着薪资低；其四，学历低的不只你一个，你有多大的把握竞争过同类的人？这些都是客观存在的问题。\n　　提升学历真是件不错的事情，这么想的肯定也不只我一个，不然就不会出现下面这种情况了：\n\n　　[![](http://cdn.zizaixian.top/2019/10/pic1.jpg)](http://cdn.zizaixian.top/2019/10/pic1.jpg)\n\n　　[![](http://cdn.zizaixian.top/2019/10/pic2.jpg)](http://cdn.zizaixian.top/2019/10/pic2.jpg)\n\n### 你需要几年的经验\n\n工作经验是IT企业招聘人才时的重要考量，以下展示的整体上经验要求的分布：\n\n[![总体经验要求分布](http://cdn.zizaixian.top/2019/10/t1526.jpg \"总体经验要求分布\")](http://cdn.zizaixian.top/2019/10/t1526.jpg \"总体经验要求分布\")\n\n　　从图上可以看出，经验3-5年占比最高，接着是经验1-3年、经验5-10年、经验不限、经验应届毕业生、经验1年以下、经验10年以上。经验多意味着什么自然不必多说，但我强烈反对经验多就意味着头发少这种言论，虽然理论上是这样的，但也有例外不是。\n\n### 学历 And 经验\n\n[![总体学历与经验分布](http://cdn.zizaixian.top/2019/10/t1606.jpg \"总体学历与经验分布\")](http://cdn.zizaixian.top/2019/10/t1606.jpg \"总体学历与经验分布\")\n\n　　上图展示的是不同学历下的经验要求分布，从中可以看出不管是何种学历，绝大多数岗位都要求3-5年或者1-3年的工作经验，也可以这么说，学历不行可以靠经验来补充，经验不足最好靠学历来补充，学历与经验都不足，需要在缝隙中生存。\n\n\n### 哪个领域最需要人才\n\n　　不同的企业都有自己专属的领域，比如有的企业搞社交，有的企业搞金融，有的企业搞医疗，而有的企业涉足多个领域，比如乐视公司，咱也不知道贾跃亭老板回国了没有。\n\n[![各领域需求工作岗位数量分布](http://cdn.zizaixian.top/2019/10/t2135.jpg \"各领域需求工作岗位数量分布\")](http://cdn.zizaixian.top/2019/10/t2135.jpg \"各领域需求工作岗位数量分布\")\n\n　　上图展示的是不同领域需要的人才数量分布，移动互联网一马当先，这与我国移动互联网的普及程度是密不可分的。\n　　[![](http://cdn.zizaixian.top/2019/10/截图_2019-10-06_23-37-04.png)](http://cdn.zizaixian.top/2019/10/截图_2019-10-06_23-37-04.png)\n>2019年8月30日，中国互联网络信息中心(CNNIC)第44次中国互联发展状况统计报告指出：截止到2019年6月，中国网民规模达8.54亿，用户月均使用移动流量达7.2GB。其中45.5%的网民为30岁以下的年轻群体，本科以下学历（不含本科）网民占比为90.4%\n\n　　比较热门的领域还有企业服务、数据服务、金融、电商、游戏、文娱、教育等等。如果是给人打工的话自然是不用考虑企业所属领域的，如果创业的话那就要好好考虑考虑了。\n\n### 企业融资情况\n\n下图展示了共计7257个公司的融资情况：\n\n[![企业融资情况](http://cdn.zizaixian.top/2019/10/t1722.jpg \"企业融资情况\")](http://cdn.zizaixian.top/2019/10/t1722.jpg \"企业融资情况\")\n\n　　其中：上市公司859个，占比11.83%；不需要融资的公司2311个，占比31.85%；未融资的公司1698个，占比23.4%；A轮融资公司884个，占比12.18%；B轮融资公司561个，占比7.73%；C轮融资公司250个，占比3.44%；D轮及以上融资公司186个，占比2.56%；天使轮融资公司508个，占比7%\n\n>科普：[融资 A 轮、B 轮 和 C 轮 有什么区别？ - 苏老湿的回答 - 知乎](https://www.zhihu.com/question/28498812/answer/290736672 \"融资 A 轮、B 轮 和 C 轮 有什么区别？ - 苏老湿的回答 - 知乎\")\n\n### 总体薪资分布\n\n　　下图以饼图的形式展示了总体上薪资的分布，从1K到30K以2K为一个区间段，30K往后以5K为一个区间段，饼图的每个扇区代表落在该薪资区间的比例。\n\n[![总体薪资分布](http://cdn.zizaixian.top/2019/10/t1424.jpg \"总体薪资分布\")](http://cdn.zizaixian.top/2019/10/t1424.jpg \"总体薪资分布\")\n\n　　总体的薪资分布并无实际参考意义，因为影响的薪资的因素是很多的，不同职位、学历、工作经验、公司融资情况、地区都会影响到薪资，下面就将展示不同因素影响下的薪资分布情况。\n\n### 不同因素影响下的薪资分布情况\n\n**提示：前方核能多图预警。**\n　　**本节采用饼图的形式展示不同因素对薪资分布的影响，这里需要强调的是“分布”二字，我们可以从图上看出哪些薪资区间占比较大，哪些薪资区间占比较小，但是不能够从图上看出某一因素对薪资的直接影响，现实中还要基于我们自身的考量。**\n\n#### 地区因素\n\n下面展示了最吸引人才的六大城市的平均薪资分布：\n\n[![北京地区薪资分布](http://cdn.zizaixian.top/2019/10/t1505北京.jpg \"北京地区薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505北京.jpg \"北京地区薪资分布\")\n[![深圳地区薪资分布](http://cdn.zizaixian.top/2019/10/t1505深圳.jpg \"深圳地区薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505深圳.jpg \"深圳地区薪资分布\")\n[![上海地区薪资分布](http://cdn.zizaixian.top/2019/10/t1505上海.jpg \"上海地区薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505上海.jpg \"上海地区薪资分布\")\n[![广州地区薪资分布](http://cdn.zizaixian.top/2019/10/t1505广州.jpg \"广州地区薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505广州.jpg \"广州地区薪资分布\")\n[![杭州地区薪资分布](http://cdn.zizaixian.top/2019/10/t1505杭州.jpg \"杭州地区薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505杭州.jpg \"杭州地区薪资分布\")\n[![成都地区薪资分布](http://cdn.zizaixian.top/2019/10/t1505成都.jpg \"成都地区薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505成都.jpg \"成都地区薪资分布\")\n\n　　通过对比可以看出，北京的平均薪资还是较其它几个城市高的，在11K-13K、15K-17K、19K-21K、21K-23K、29-31K都有较大的分布，上海的薪资分布与北京无太大差异，而成都明显是低薪资区间占比大，如果去国家统计局查一下各个城市的物价的话，这几张图到是十分合理的。\n\n#### 学历因素\n\n下面展示了不同学历的平均薪资分布：\n\n[![学历不限薪资分布](http://cdn.zizaixian.top/2019/10/t1505学历不限.jpg \"学历不限薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505学历不限.jpg \"学历不限薪资分布\")\n[![大专及以上薪资分布](http://cdn.zizaixian.top/2019/10/t1505大专及以上.jpg \"大专及以上薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505大专及以上.jpg \"大专及以上薪资分布\")\n大专及以上学历一万元薪资以下占据一半以上比例。\n\n[![本科及以上薪资分布](http://cdn.zizaixian.top/2019/10/t1505本科及以上.jpg \"本科及以上薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505本科及以上.jpg \"本科及以上薪资分布\")\n本科及以上学历的薪资分布是比较均匀的，从整体上来看一万元至两万元的薪资大概占据50%。\n\n[![硕士及以上薪资分布](http://cdn.zizaixian.top/2019/10/t1505硕士及以上.jpg \"硕士及以上薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505硕士及以上.jpg \"硕士及以上薪资分布\")\n很明显，相比本科学历高出一个层级后，硕士学历的低薪资区间占比明显缩小，高薪资区间占比明显增加，其中21K-23K、29K-30K、35K-40K占比较大，从整体上看一万五千元至三万五千元的薪资占据约50%。\n\n[![博士及以上薪资分布](http://cdn.zizaixian.top/2019/10/t1505博士及以上.jpg \"博士及以上薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505博士及以上.jpg \"博士及以上薪资分布\")\n这个就很变态了，一万元薪资以下占比为零，一万元至两万元薪资占比很小，三万元以上薪资占比超75%，五万元薪资以上占比更是逼近25%。\n\n　　学历因素对薪资分布的影响给予我们最直观的启示就是：拥有什么样的学历有可能会决定今后的上升空间，学历低不意味着没有机会。\n\n#### 经验因素\n\n下面展示了不同工作经验的平均薪资分布：\n\n[![经验不限薪资分布](http://cdn.zizaixian.top/2019/10/t1505经验不限.jpg \"经验不限薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505经验不限.jpg \"经验不限薪资分布\")\n[![经验应届毕业生薪资分布](http://cdn.zizaixian.top/2019/10/t1505经验应届毕业生.jpg \"经验应届毕业生薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505经验应届毕业生.jpg \"经验应届毕业生薪资分布\")\n[![经验1年以下薪资分布](http://cdn.zizaixian.top/2019/10/t1505经验1年以下.jpg \"经验1年以下薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505经验1年以下.jpg \"经验1年以下薪资分布\")\n[![经验1-3年薪资分布](http://cdn.zizaixian.top/2019/10/t1505经验1-3年.jpg \"经验1-3年薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505经验1-3年.jpg \"经验1-3年薪资分布\")\n[![经验3-5年薪资分布](http://cdn.zizaixian.top/2019/10/t1505经验3-5年.jpg \"经验3-5年薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505经验3-5年.jpg \"经验3-5年薪资分布\")\n[![经验5-10年薪资分布](http://cdn.zizaixian.top/2019/10/t1505经验5-10年.jpg \"经验5-10年薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505经验5-10年.jpg \"经验5-10年薪资分布\")\n[![经验10年以上薪资分布](http://cdn.zizaixian.top/2019/10/t1505经验10年以上.jpg \"经验10年以上薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505经验10年以上.jpg \"经验10年以上薪资分布\")\n\n　　从上面七张图我们可以看出随着工作经验的增加，低薪资区间占比越来越小，高薪资区间占比越来越大，这与学历增加后平均薪资的走势是一样的。\n\n　　经验少则薪资低，经验多则薪资高，这是谁都知道的道理。但是值得我们思考的一个问题是：学历与经验哪个因素对薪资的影响更大一些呢？我还没有找出一个合理的算法或公式来下一个结论，凭借着对图的直观感觉我认为这两个因素对薪资的影响都挺大的（听起来像是句废话）。\n\n#### 职位因素\n\n不同职位的薪资分布是有所差异的，但这仅仅代表着分布的差异，不能够抛开学历、经验等因素说某个职位比另一个职位好，这是没有任何意义的。下面分别展示了前端开发、后端开发、移动开发、运维、高端职位、人工智能这六种职位的薪资分布情况：\n\n[![前端开发薪资分布](http://cdn.zizaixian.top/2019/10/t1505前端开发.jpg \"前端开发薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505前端开发.jpg \"前端开发薪资分布\")\n[![后端开发薪资分布](http://cdn.zizaixian.top/2019/10/t1505后端开发.jpg \"后端开发薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505后端开发.jpg \"后端开发薪资分布\")\n[![移动开发薪资分布](http://cdn.zizaixian.top/2019/10/t1505移动开发.jpg \"移动开发薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505移动开发.jpg \"移动开发薪资分布\")\n[![运维薪资分布](http://cdn.zizaixian.top/2019/10/t1505运维.jpg \"运维薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505运维.jpg \"运维薪资分布\")\n[![高端职位薪资分布](http://cdn.zizaixian.top/2019/10/t1505高端职位.jpg \"高端职位薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505高端职位.jpg \"高端职位薪资分布\")\n[![人工智能薪资分布](http://cdn.zizaixian.top/2019/10/t1505人工智能.jpg \"人工智能薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505人工智能.jpg \"人工智能薪资分布\")\n\n　　尽管我们不能直接比较哪个职位更好一些，但是从不同职位的资分布情况来看，我们仍然能够看出有些职位的薪资上升空间是比较小的，而像人工智能这种对学历要求极高的职位薪资上升空间就相对大一些。\n\n\n#### 技术因素\n\n　　技术是最容易引起人们争论的话题，而且大多数是无意义的争论。整天考虑该选择什么样的技术来实现自己的想法是一种避重就轻的行为，就像每个月都发布的  [TIOBE编程语言排行榜](https://www.tiobe.com/tiobe-index/ \"TIOBE编程语言排行榜\")一样，它只能反映编程语言的热门程度 ，但是就是有很多自媒体或培训机构喜欢拿它来说事，下一些类似“某种编程语言好”、“某种编程语言有前途”这种愚蠢的结论。\n\n计算机行业技术门类过于繁多，下面仅仅列举了比较热门的技术，仅当参考：\n\n[![C薪资分布](http://cdn.zizaixian.top/2019/10/t1505C.jpg \"C薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505C.jpg \"C薪资分布\")\n[![C++薪资分布](http://cdn.zizaixian.top/2019/10/t1505C-1.jpg \"C-1薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505C-1.jpg \"C-1薪资分布\")\n[![Java薪资分布](http://cdn.zizaixian.top/2019/10/t1505Java.jpg \"Java薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505Java.jpg \"Java薪资分布\")\n[![JavaScript薪资分布](http://cdn.zizaixian.top/2019/10/t1505JavaScript.jpg \"JavaScript薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505JavaScript.jpg \"JavaScript薪资分布\")\n[![Node.js薪资分布](http://cdn.zizaixian.top/2019/10/t1505Node.js.jpg \"Node.js薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505Node.js.jpg \"Node.js薪资分布\")\n[![PHP薪资分布](http://cdn.zizaixian.top/2019/10/t1505PHP.jpg \"PHP薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505PHP.jpg \"PHP薪资分布\")\n[![Android薪资分布](http://cdn.zizaixian.top/2019/10/t1505Android.jpg \"Android薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505Android.jpg \"Android薪资分布\")\n[![Python薪资分布](http://cdn.zizaixian.top/2019/10/t1505Python.jpg \"Python薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505Python.jpg \"Python薪资分布\")\n[![web前端薪资分布](http://cdn.zizaixian.top/2019/10/t1505web前端.jpg \"web前端薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505web前端.jpg \"web前端薪资分布\")\t\n[![深度学习薪资分布](http://cdn.zizaixian.top/2019/10/t1505深度学习.jpg \"深度学习薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505深度学习.jpg \"深度学习薪资分布\")\n[![区块链薪资分布](http://cdn.zizaixian.top/2019/10/t1505区块链.jpg \"区块链薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505区块链.jpg \"区块链薪资分布\")\n[![算法工程师薪资分布](http://cdn.zizaixian.top/2019/10/t1505算法工程师.jpg \"算法工程师薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505算法工程师.jpg \"算法工程师薪资分布\")\n[![图像识别薪资分布](http://cdn.zizaixian.top/2019/10/t1505图像识别.jpg \"图像识别薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505图像识别.jpg \"图像识别薪资分布\")\n[![运维工程师薪资分布](http://cdn.zizaixian.top/2019/10/t1505运维工程师.jpg \"运维工程师薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505运维工程师.jpg \"运维工程师薪资分布\")\n\n#### 企业融资因素\n\n下面展示了不同融资情况的企业的薪资分布情况：\n\n[![不需要融资薪资分布](http://cdn.zizaixian.top/2019/10/t1505不需要融资.jpg \"不需要融资薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505不需要融资.jpg \"不需要融资薪资分布\")\n[![未融资薪资分布](http://cdn.zizaixian.top/2019/10/t1505未融资.jpg \"未融资薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505未融资.jpg \"未融资薪资分布\")\n[![天使轮薪资分布](http://cdn.zizaixian.top/2019/10/t1505天使轮.jpg \"天使轮薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505天使轮.jpg \"天使轮薪资分布\")\n[![A轮薪资分布](http://cdn.zizaixian.top/2019/10/t1505A轮.jpg \"A轮薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505A轮.jpg \"A轮薪资分布\")\n[![B轮薪资分布](http://cdn.zizaixian.top/2019/10/t1505B轮.jpg \"B轮薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505B轮.jpg \"B轮薪资分布\")\n[![C轮薪资分布](http://cdn.zizaixian.top/2019/10/t1505C轮.jpg \"C轮薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505C轮.jpg \"C轮薪资分布\")\n[![D轮及以上薪资分布](http://cdn.zizaixian.top/2019/10/t1505D轮及以上.jpg \"D轮及以上薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505D轮及以上.jpg \"D轮及以上薪资分布\")\n[![上市公司薪资分布](http://cdn.zizaixian.top/2019/10/t1505上市公司.jpg \"上市公司薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505上市公司.jpg \"上市公司薪资分布\")\n\n\n### 职位诱惑\n\n　　几乎每个企业都会在招聘公告上写一些自己公司的“优势”，也叫职位诱惑，下面用词云的形式展示了职位诱惑中出现频率最高的50个词汇：\n\n[![职位诱惑词频统计](http://cdn.zizaixian.top/2019/10/t1655.jpg \"职位诱惑词频统计\")](http://cdn.zizaixian.top/2019/10/t1655.jpg \"职位诱惑词频统计\")\n\n*注：分词器把“五险一金”分成了“五险”和“一金”两个词，实际上这是一个词。*\n> 科普：五险一金，指中国用人单位给予劳动者的几种保障性待遇的合称。“五险”指五种社会保险，包括养老保险、医疗保险、失业保险、工伤保险、生育保险，“一金”是指住房公积金。--- 摘自维基百科\n\n### 技能要求\n\n每个企业都会在招聘公告上明确的指出求职者应该具备哪些技能，不同职位的技能要求侧重点是不同的，但是也有一些普遍的要求。下面仍然采用词云的形式展示了几个热门职位或技术的技能要求高频词汇：\n\n[![后端开发技能要求词汇统计](http://cdn.zizaixian.top/2019/10/t2008后端开发.jpg \"后端开发技能要求词汇统计\")](http://cdn.zizaixian.top/2019/10/t2008后端开发.jpg \"后端开发技能要求词汇统计\")\n[![前端开发技能要求词汇统计](http://cdn.zizaixian.top/2019/10/t2008前端开发.jpg \"前端开发技能要求词汇统计\")](http://cdn.zizaixian.top/2019/10/t2008前端开发.jpg \"前端开发技能要求词汇统计\")\n[![全栈工程师技能要求词汇统计](http://cdn.zizaixian.top/2019/10/t2008全栈工程师.jpg \"全栈工程师技能要求词汇统计\")](http://cdn.zizaixian.top/2019/10/t2008全栈工程师.jpg \"全栈工程师技能要求词汇统计\")\n[![移动开发技能要求词汇统计](http://cdn.zizaixian.top/2019/10/t2008移动开发.jpg \"移动开发技能要求词汇统计\")](http://cdn.zizaixian.top/2019/10/t2008移动开发.jpg \"移动开发技能要求词汇统计\")\n[![运维技能要求词汇统计](http://cdn.zizaixian.top/2019/10/t2008运维.jpg \"运维技能要求词汇统计\")](http://cdn.zizaixian.top/2019/10/t2008运维.jpg \"运维技能要求词汇统计\")\n[![C++技能要求词汇统计](http://cdn.zizaixian.top/2019/10/t2008C.jpg \"C++技能要求词汇统计\")](http://cdn.zizaixian.top/2019/10/t2008C.jpg \"C++技能要求词汇统计\")\n[![Java技能要求词汇统计](http://cdn.zizaixian.top/2019/10/t2008Java.jpg \"Java技能要求词汇统计\")](http://cdn.zizaixian.top/2019/10/t2008Java.jpg \"Java技能要求词汇统计\")\n[![PHP技能要求词汇统计](http://cdn.zizaixian.top/2019/10/t2008PHP.jpg \"PHP技能要求词汇统计\")](http://cdn.zizaixian.top/2019/10/t2008PHP.jpg \"PHP技能要求词汇统计\")\n[![Python技能要求词汇统计](http://cdn.zizaixian.top/2019/10/t2008Python.jpg \"Python技能要求词汇统计\")](http://cdn.zizaixian.top/2019/10/t2008Python.jpg \"Python技能要求词汇统计\")\n[![人工智能技能要求词汇统计](http://cdn.zizaixian.top/2019/10/t2008人工智能.jpg \"人工智能技能要求词汇统计\")](http://cdn.zizaixian.top/2019/10/t2008人工智能.jpg \"人工智能技能要求词汇统计\")\n\n【注】统计高频词汇的过程中已经过滤掉了无意义的词，例如“熟悉”、“精通”、“具备”、“掌握”、“扎实”等词汇，保留“经验”一词旨在说明企业十分看中求职者对某一特定技术的使用经验。\n\n### 写在最后\n\n　　首先要感谢您能读到这里，感谢您在百忙之中读完我的这篇不严谨且存在诸多纰漏的文章。我从没有系统的学习过数据分析，只是凭借着兴趣做了这件事情，如果您能对文中的数据分析提出任何异议或者建设性意见的话，不胜感激。\n\n　　未来的路还很长，也许有些人在刚走出校门时会遇到一些困难，而有的人可能会走的相对顺利一些。每个人的都有属于自己的目标与理想，没必要攀比些什么，做好眼前的每一件小事，向往着一个不会比今天更糟的明天，一切都会有个好的结果。\n\n　　最后，一首冯唐的诗，送给自己以及即将迈出校门的年轻人：\n　　**尚未佩妥剑，转眼便江湖。**\n　　**愿历尽千帆，归来仍少年。**\n","source":"_posts/拉勾网企业招聘信息分析报告.md","raw":"---\ntitle: 拉勾网企业招聘信息分析报告\nreward: true\ndate: 2019-12-10 21:40:03\npermalink: 9\ncategories: 其它\ntags:\ntoc: true\n---\n\n　　2020年是16级大学生毕业的年份，明年的五六月份，包括笔者在内的一大批大学生就要走出校门，结束十六年的学业生涯，并开始长达数十年的职业生涯，在这个时间点上，我们最期望的莫过于找到一份称心的工作，这是家人的期盼，更是我们自己的期盼。\n　　我们中的每一个人，都或多或少的感受到了就业的压力，尤其是计算机行业，在这种**低端人才饱和，高端人才紧缺**的大环境下，找到一份称心的工作着实不是件容易的事情。刚走出校门的我们由于经验不足只能选择低端岗位，令人担忧的是全球智能化革命的兴起将消灭大量的低端岗位，所以未来的竞争只会越来越激烈。\n　　前段时间，一个偶然的机会我在互联网上浏览到了几则招聘信息，读着读着我脑子中便闪过一个念头，何不动用一些技术手段将这些招聘信息采集下来，然后对这些信息进行分析呢？这样就可以从整体上看清行业招聘的趋势了。在强大的好奇心的驱使下我设计并编写了计算机程序，程序运行了大概三天的时间，终于将这些招聘信息采集了下来，数据经过清洗与分析过后，利用数据可视化技术加以展现。现在我将分析结果分享出来，以下是文章正文部分。\n<!-- More -->\n提示：正文包含六十七张图片，将消耗你大概8MB的流量，你一定是个慷慨的人。\n\n**笔者已将文中的图片打包成了压缩文件，读者可自行下载：[点我下载](http://cdn.zizaixian.top/user/files/technology.zip)**\n\n**本文同步发布在博客园：[https://www.cnblogs.com/nkqlhqc/p/11644900.html](https://www.cnblogs.com/nkqlhqc/p/11644900.html)**\n\n\n### 写在最前面的话\n\n- 本文展现的数据均采集于正规的招聘网站，数据的可信性是毋庸置疑的。\n\n- 所有采集到的数据仅用作学习与交流，笔者承诺不会将其用作商业用途。\n\n- 文中不免夹杂一些笔者的个人观点，你可以反对我的观点，但是我拒不接受。\n\n- 我并非权威的数据分析员，文章标题用 *报告* 二字纯粹是为了装逼。\n\n### 不要迷信数据与他人\n\n　　数据分析只是一个工具，它不是万能的，万不要盲目的相信数据，未来选择什么样的职业，还要自己凭主观定夺，也就是你自己说了算。对未来迷茫了就去多读书，不要迷信数据，更不要听旁人瞎扯。\n　　我在这里列举两类人，如果这两类人对你的职业有任何指导的话，你大可不必去听。这第一类人是大学教师，尤其是系里的领导，这类人由于在学校呆的太久，与外界基本处于隔离的状态。教师是一个相对安逸的职业，安逸的环境势必会打消人学习的热情，学习的热情一旦没有了，不再为自己充电了，那就基本上等于落后于时代了，对未来的判断更是无从谈起。计算机行业的发展速度远超过王思聪换女朋友的速度，我们的大学教师面对这样的发展速度能否给予学生一个正确的指导呢？我想他们是不能的。如果有教师为你的未来提供什么指导的话，他们也是在拿数年前的眼光告诉你现在该怎么去做，或者借用自媒体噱头式的宣传来鼓励你去做那些看起来很有前景的事情。\n　　第二类人，是培训机构的人。培训机构的人为了自身的利益，不可避免的要用夸张式的语气宣扬一种事物，或去贬低一种事物，我觉得这是无可厚非的，毕竟赚钱才是培训机构的首要任务，而非培养人才。我只想说兼听则明，偏信则暗，如果任由单方面的话语在我们耳边徘徊的话，那我们对未来的判断是不是失去了平衡呢？我曾经**被动的**接受过五家培训机构的宣传，在此我也非常有兴趣点名一家培训机构，这家培训机构的名字叫北京AAA教育，在被动的听完该机构某位中年女士的宣讲后，我只想借诸葛亮的话形容一下当时的心情：我从未见过有如此厚颜无耻之人。为了自己的那点利益，把学生当傻子，信口胡说，颠倒黑白，四十分钟的宣讲将其无知、无耻的一面表现的淋漓尽致。在此衷心祝愿该培训机构早日倒闭，免得毒害更多的学生。\n\n### 关于数据量的解释\n\n　　数据均采集于[拉勾网](https://www.lagou.com)。相比于其它招聘信息服务网站，拉勾网专为IT从业人员提供信息服务，也就是说拉勾网上面的招聘信息全部都是与IT互联网相关的，无其它行业的招聘信息，因此选择拉勾网作为数据采集对象再合适不过了。\n　　此次共采集到招聘信息十一万两千八百六十五条，去除重复与无效的数据后剩余八万零三百五十条，数据采集日期为二零一九年九月下旬。 岗位涉及技术、产品、设计、运营、市场、销售、职能、游戏八个方向，由于绝大部分的学生在刚毕业时还是会选择技术岗，所以我仅仅分析了技术岗的数据，这部分数据共计两万八千六百七十一条。也许两万八千余条的数据量并不算大，但是我认为有时候不一定需要从宏观角度出发才能认清一件事情，从微观角度出发也可以很清晰的看到事物整体的面貌，这是一种透过微观看宏观的观察问题的方式。就比如我们交朋友，我们往往能通过对方的一些细节来判断这个人是否值得深交，而无需经过什么大事。\n　　每条招聘信息都包含工作地区、薪资区间、学历要求、经验要求、技能要有、岗位职责、企业所属领域、企业融资情况等数据，下面我将从十个方面对这部分数据做一个简单的分析。\n\n**提示：可以点击图片查看大图！**\n\n### 哪个城市最吸引人才？\n\n　　毕业之后，有些人想去自己向往已久的城市，有些人看见别人去哪了他就去哪，而很多的父母也不愿意子女远行。选择一个城市对我们将来的影响是不容小觑的，因为它直接决定了我们下半辈子在哪当房奴，甚至连房奴都当不上。下面是各城市需求岗位数量分布图：\n\n[![各城市需求岗位数量分布](http://cdn.zizaixian.top/2019/10/t1823.jpg \"各城市需求岗位数量分布\")](http://cdn.zizaixian.top/2019/10/t1823.jpg \"各城市需求岗位数量分布\")\n\n　　北京毫无疑问的是最吸引人才的城市，主要还是因为北京的IT企业相对较多一些。排在其身后的分别是深圳、上海、广州、杭州、成都、武汉、南京，其中深圳与上海的需求量基本持平，再往后就是岗位需求不太旺盛的城市了，这个分布也基本符合我们的认知。\n\n### 你需要什么样的学历\n\n[![总体学历要求分布](http://cdn.zizaixian.top/2019/10/t1503.jpg \"总体学历要求分布\")](http://cdn.zizaixian.top/2019/10/t1503.jpg \"总体学历要求分布\")\n\n　　如上图所示，本科及以上学历占到一半以上，接着按比例排列分别是大专及以上、学历不限、硕士及以上、博士及以上。虽然本科及以上占比最大，但不要觉得自己是本科学历就高兴的太早，其一，不同的岗位对学历的要求是不同的，这里展现的仅仅是整体的学历要求分布，忽略了这种不同；其二，企业不仅仅要看你的学历，经验也是重要的考量；其三，学历低往往意味着薪资低；其四，学历低的不只你一个，你有多大的把握竞争过同类的人？这些都是客观存在的问题。\n　　提升学历真是件不错的事情，这么想的肯定也不只我一个，不然就不会出现下面这种情况了：\n\n　　[![](http://cdn.zizaixian.top/2019/10/pic1.jpg)](http://cdn.zizaixian.top/2019/10/pic1.jpg)\n\n　　[![](http://cdn.zizaixian.top/2019/10/pic2.jpg)](http://cdn.zizaixian.top/2019/10/pic2.jpg)\n\n### 你需要几年的经验\n\n工作经验是IT企业招聘人才时的重要考量，以下展示的整体上经验要求的分布：\n\n[![总体经验要求分布](http://cdn.zizaixian.top/2019/10/t1526.jpg \"总体经验要求分布\")](http://cdn.zizaixian.top/2019/10/t1526.jpg \"总体经验要求分布\")\n\n　　从图上可以看出，经验3-5年占比最高，接着是经验1-3年、经验5-10年、经验不限、经验应届毕业生、经验1年以下、经验10年以上。经验多意味着什么自然不必多说，但我强烈反对经验多就意味着头发少这种言论，虽然理论上是这样的，但也有例外不是。\n\n### 学历 And 经验\n\n[![总体学历与经验分布](http://cdn.zizaixian.top/2019/10/t1606.jpg \"总体学历与经验分布\")](http://cdn.zizaixian.top/2019/10/t1606.jpg \"总体学历与经验分布\")\n\n　　上图展示的是不同学历下的经验要求分布，从中可以看出不管是何种学历，绝大多数岗位都要求3-5年或者1-3年的工作经验，也可以这么说，学历不行可以靠经验来补充，经验不足最好靠学历来补充，学历与经验都不足，需要在缝隙中生存。\n\n\n### 哪个领域最需要人才\n\n　　不同的企业都有自己专属的领域，比如有的企业搞社交，有的企业搞金融，有的企业搞医疗，而有的企业涉足多个领域，比如乐视公司，咱也不知道贾跃亭老板回国了没有。\n\n[![各领域需求工作岗位数量分布](http://cdn.zizaixian.top/2019/10/t2135.jpg \"各领域需求工作岗位数量分布\")](http://cdn.zizaixian.top/2019/10/t2135.jpg \"各领域需求工作岗位数量分布\")\n\n　　上图展示的是不同领域需要的人才数量分布，移动互联网一马当先，这与我国移动互联网的普及程度是密不可分的。\n　　[![](http://cdn.zizaixian.top/2019/10/截图_2019-10-06_23-37-04.png)](http://cdn.zizaixian.top/2019/10/截图_2019-10-06_23-37-04.png)\n>2019年8月30日，中国互联网络信息中心(CNNIC)第44次中国互联发展状况统计报告指出：截止到2019年6月，中国网民规模达8.54亿，用户月均使用移动流量达7.2GB。其中45.5%的网民为30岁以下的年轻群体，本科以下学历（不含本科）网民占比为90.4%\n\n　　比较热门的领域还有企业服务、数据服务、金融、电商、游戏、文娱、教育等等。如果是给人打工的话自然是不用考虑企业所属领域的，如果创业的话那就要好好考虑考虑了。\n\n### 企业融资情况\n\n下图展示了共计7257个公司的融资情况：\n\n[![企业融资情况](http://cdn.zizaixian.top/2019/10/t1722.jpg \"企业融资情况\")](http://cdn.zizaixian.top/2019/10/t1722.jpg \"企业融资情况\")\n\n　　其中：上市公司859个，占比11.83%；不需要融资的公司2311个，占比31.85%；未融资的公司1698个，占比23.4%；A轮融资公司884个，占比12.18%；B轮融资公司561个，占比7.73%；C轮融资公司250个，占比3.44%；D轮及以上融资公司186个，占比2.56%；天使轮融资公司508个，占比7%\n\n>科普：[融资 A 轮、B 轮 和 C 轮 有什么区别？ - 苏老湿的回答 - 知乎](https://www.zhihu.com/question/28498812/answer/290736672 \"融资 A 轮、B 轮 和 C 轮 有什么区别？ - 苏老湿的回答 - 知乎\")\n\n### 总体薪资分布\n\n　　下图以饼图的形式展示了总体上薪资的分布，从1K到30K以2K为一个区间段，30K往后以5K为一个区间段，饼图的每个扇区代表落在该薪资区间的比例。\n\n[![总体薪资分布](http://cdn.zizaixian.top/2019/10/t1424.jpg \"总体薪资分布\")](http://cdn.zizaixian.top/2019/10/t1424.jpg \"总体薪资分布\")\n\n　　总体的薪资分布并无实际参考意义，因为影响的薪资的因素是很多的，不同职位、学历、工作经验、公司融资情况、地区都会影响到薪资，下面就将展示不同因素影响下的薪资分布情况。\n\n### 不同因素影响下的薪资分布情况\n\n**提示：前方核能多图预警。**\n　　**本节采用饼图的形式展示不同因素对薪资分布的影响，这里需要强调的是“分布”二字，我们可以从图上看出哪些薪资区间占比较大，哪些薪资区间占比较小，但是不能够从图上看出某一因素对薪资的直接影响，现实中还要基于我们自身的考量。**\n\n#### 地区因素\n\n下面展示了最吸引人才的六大城市的平均薪资分布：\n\n[![北京地区薪资分布](http://cdn.zizaixian.top/2019/10/t1505北京.jpg \"北京地区薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505北京.jpg \"北京地区薪资分布\")\n[![深圳地区薪资分布](http://cdn.zizaixian.top/2019/10/t1505深圳.jpg \"深圳地区薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505深圳.jpg \"深圳地区薪资分布\")\n[![上海地区薪资分布](http://cdn.zizaixian.top/2019/10/t1505上海.jpg \"上海地区薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505上海.jpg \"上海地区薪资分布\")\n[![广州地区薪资分布](http://cdn.zizaixian.top/2019/10/t1505广州.jpg \"广州地区薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505广州.jpg \"广州地区薪资分布\")\n[![杭州地区薪资分布](http://cdn.zizaixian.top/2019/10/t1505杭州.jpg \"杭州地区薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505杭州.jpg \"杭州地区薪资分布\")\n[![成都地区薪资分布](http://cdn.zizaixian.top/2019/10/t1505成都.jpg \"成都地区薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505成都.jpg \"成都地区薪资分布\")\n\n　　通过对比可以看出，北京的平均薪资还是较其它几个城市高的，在11K-13K、15K-17K、19K-21K、21K-23K、29-31K都有较大的分布，上海的薪资分布与北京无太大差异，而成都明显是低薪资区间占比大，如果去国家统计局查一下各个城市的物价的话，这几张图到是十分合理的。\n\n#### 学历因素\n\n下面展示了不同学历的平均薪资分布：\n\n[![学历不限薪资分布](http://cdn.zizaixian.top/2019/10/t1505学历不限.jpg \"学历不限薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505学历不限.jpg \"学历不限薪资分布\")\n[![大专及以上薪资分布](http://cdn.zizaixian.top/2019/10/t1505大专及以上.jpg \"大专及以上薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505大专及以上.jpg \"大专及以上薪资分布\")\n大专及以上学历一万元薪资以下占据一半以上比例。\n\n[![本科及以上薪资分布](http://cdn.zizaixian.top/2019/10/t1505本科及以上.jpg \"本科及以上薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505本科及以上.jpg \"本科及以上薪资分布\")\n本科及以上学历的薪资分布是比较均匀的，从整体上来看一万元至两万元的薪资大概占据50%。\n\n[![硕士及以上薪资分布](http://cdn.zizaixian.top/2019/10/t1505硕士及以上.jpg \"硕士及以上薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505硕士及以上.jpg \"硕士及以上薪资分布\")\n很明显，相比本科学历高出一个层级后，硕士学历的低薪资区间占比明显缩小，高薪资区间占比明显增加，其中21K-23K、29K-30K、35K-40K占比较大，从整体上看一万五千元至三万五千元的薪资占据约50%。\n\n[![博士及以上薪资分布](http://cdn.zizaixian.top/2019/10/t1505博士及以上.jpg \"博士及以上薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505博士及以上.jpg \"博士及以上薪资分布\")\n这个就很变态了，一万元薪资以下占比为零，一万元至两万元薪资占比很小，三万元以上薪资占比超75%，五万元薪资以上占比更是逼近25%。\n\n　　学历因素对薪资分布的影响给予我们最直观的启示就是：拥有什么样的学历有可能会决定今后的上升空间，学历低不意味着没有机会。\n\n#### 经验因素\n\n下面展示了不同工作经验的平均薪资分布：\n\n[![经验不限薪资分布](http://cdn.zizaixian.top/2019/10/t1505经验不限.jpg \"经验不限薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505经验不限.jpg \"经验不限薪资分布\")\n[![经验应届毕业生薪资分布](http://cdn.zizaixian.top/2019/10/t1505经验应届毕业生.jpg \"经验应届毕业生薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505经验应届毕业生.jpg \"经验应届毕业生薪资分布\")\n[![经验1年以下薪资分布](http://cdn.zizaixian.top/2019/10/t1505经验1年以下.jpg \"经验1年以下薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505经验1年以下.jpg \"经验1年以下薪资分布\")\n[![经验1-3年薪资分布](http://cdn.zizaixian.top/2019/10/t1505经验1-3年.jpg \"经验1-3年薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505经验1-3年.jpg \"经验1-3年薪资分布\")\n[![经验3-5年薪资分布](http://cdn.zizaixian.top/2019/10/t1505经验3-5年.jpg \"经验3-5年薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505经验3-5年.jpg \"经验3-5年薪资分布\")\n[![经验5-10年薪资分布](http://cdn.zizaixian.top/2019/10/t1505经验5-10年.jpg \"经验5-10年薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505经验5-10年.jpg \"经验5-10年薪资分布\")\n[![经验10年以上薪资分布](http://cdn.zizaixian.top/2019/10/t1505经验10年以上.jpg \"经验10年以上薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505经验10年以上.jpg \"经验10年以上薪资分布\")\n\n　　从上面七张图我们可以看出随着工作经验的增加，低薪资区间占比越来越小，高薪资区间占比越来越大，这与学历增加后平均薪资的走势是一样的。\n\n　　经验少则薪资低，经验多则薪资高，这是谁都知道的道理。但是值得我们思考的一个问题是：学历与经验哪个因素对薪资的影响更大一些呢？我还没有找出一个合理的算法或公式来下一个结论，凭借着对图的直观感觉我认为这两个因素对薪资的影响都挺大的（听起来像是句废话）。\n\n#### 职位因素\n\n不同职位的薪资分布是有所差异的，但这仅仅代表着分布的差异，不能够抛开学历、经验等因素说某个职位比另一个职位好，这是没有任何意义的。下面分别展示了前端开发、后端开发、移动开发、运维、高端职位、人工智能这六种职位的薪资分布情况：\n\n[![前端开发薪资分布](http://cdn.zizaixian.top/2019/10/t1505前端开发.jpg \"前端开发薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505前端开发.jpg \"前端开发薪资分布\")\n[![后端开发薪资分布](http://cdn.zizaixian.top/2019/10/t1505后端开发.jpg \"后端开发薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505后端开发.jpg \"后端开发薪资分布\")\n[![移动开发薪资分布](http://cdn.zizaixian.top/2019/10/t1505移动开发.jpg \"移动开发薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505移动开发.jpg \"移动开发薪资分布\")\n[![运维薪资分布](http://cdn.zizaixian.top/2019/10/t1505运维.jpg \"运维薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505运维.jpg \"运维薪资分布\")\n[![高端职位薪资分布](http://cdn.zizaixian.top/2019/10/t1505高端职位.jpg \"高端职位薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505高端职位.jpg \"高端职位薪资分布\")\n[![人工智能薪资分布](http://cdn.zizaixian.top/2019/10/t1505人工智能.jpg \"人工智能薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505人工智能.jpg \"人工智能薪资分布\")\n\n　　尽管我们不能直接比较哪个职位更好一些，但是从不同职位的资分布情况来看，我们仍然能够看出有些职位的薪资上升空间是比较小的，而像人工智能这种对学历要求极高的职位薪资上升空间就相对大一些。\n\n\n#### 技术因素\n\n　　技术是最容易引起人们争论的话题，而且大多数是无意义的争论。整天考虑该选择什么样的技术来实现自己的想法是一种避重就轻的行为，就像每个月都发布的  [TIOBE编程语言排行榜](https://www.tiobe.com/tiobe-index/ \"TIOBE编程语言排行榜\")一样，它只能反映编程语言的热门程度 ，但是就是有很多自媒体或培训机构喜欢拿它来说事，下一些类似“某种编程语言好”、“某种编程语言有前途”这种愚蠢的结论。\n\n计算机行业技术门类过于繁多，下面仅仅列举了比较热门的技术，仅当参考：\n\n[![C薪资分布](http://cdn.zizaixian.top/2019/10/t1505C.jpg \"C薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505C.jpg \"C薪资分布\")\n[![C++薪资分布](http://cdn.zizaixian.top/2019/10/t1505C-1.jpg \"C-1薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505C-1.jpg \"C-1薪资分布\")\n[![Java薪资分布](http://cdn.zizaixian.top/2019/10/t1505Java.jpg \"Java薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505Java.jpg \"Java薪资分布\")\n[![JavaScript薪资分布](http://cdn.zizaixian.top/2019/10/t1505JavaScript.jpg \"JavaScript薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505JavaScript.jpg \"JavaScript薪资分布\")\n[![Node.js薪资分布](http://cdn.zizaixian.top/2019/10/t1505Node.js.jpg \"Node.js薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505Node.js.jpg \"Node.js薪资分布\")\n[![PHP薪资分布](http://cdn.zizaixian.top/2019/10/t1505PHP.jpg \"PHP薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505PHP.jpg \"PHP薪资分布\")\n[![Android薪资分布](http://cdn.zizaixian.top/2019/10/t1505Android.jpg \"Android薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505Android.jpg \"Android薪资分布\")\n[![Python薪资分布](http://cdn.zizaixian.top/2019/10/t1505Python.jpg \"Python薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505Python.jpg \"Python薪资分布\")\n[![web前端薪资分布](http://cdn.zizaixian.top/2019/10/t1505web前端.jpg \"web前端薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505web前端.jpg \"web前端薪资分布\")\t\n[![深度学习薪资分布](http://cdn.zizaixian.top/2019/10/t1505深度学习.jpg \"深度学习薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505深度学习.jpg \"深度学习薪资分布\")\n[![区块链薪资分布](http://cdn.zizaixian.top/2019/10/t1505区块链.jpg \"区块链薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505区块链.jpg \"区块链薪资分布\")\n[![算法工程师薪资分布](http://cdn.zizaixian.top/2019/10/t1505算法工程师.jpg \"算法工程师薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505算法工程师.jpg \"算法工程师薪资分布\")\n[![图像识别薪资分布](http://cdn.zizaixian.top/2019/10/t1505图像识别.jpg \"图像识别薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505图像识别.jpg \"图像识别薪资分布\")\n[![运维工程师薪资分布](http://cdn.zizaixian.top/2019/10/t1505运维工程师.jpg \"运维工程师薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505运维工程师.jpg \"运维工程师薪资分布\")\n\n#### 企业融资因素\n\n下面展示了不同融资情况的企业的薪资分布情况：\n\n[![不需要融资薪资分布](http://cdn.zizaixian.top/2019/10/t1505不需要融资.jpg \"不需要融资薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505不需要融资.jpg \"不需要融资薪资分布\")\n[![未融资薪资分布](http://cdn.zizaixian.top/2019/10/t1505未融资.jpg \"未融资薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505未融资.jpg \"未融资薪资分布\")\n[![天使轮薪资分布](http://cdn.zizaixian.top/2019/10/t1505天使轮.jpg \"天使轮薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505天使轮.jpg \"天使轮薪资分布\")\n[![A轮薪资分布](http://cdn.zizaixian.top/2019/10/t1505A轮.jpg \"A轮薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505A轮.jpg \"A轮薪资分布\")\n[![B轮薪资分布](http://cdn.zizaixian.top/2019/10/t1505B轮.jpg \"B轮薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505B轮.jpg \"B轮薪资分布\")\n[![C轮薪资分布](http://cdn.zizaixian.top/2019/10/t1505C轮.jpg \"C轮薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505C轮.jpg \"C轮薪资分布\")\n[![D轮及以上薪资分布](http://cdn.zizaixian.top/2019/10/t1505D轮及以上.jpg \"D轮及以上薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505D轮及以上.jpg \"D轮及以上薪资分布\")\n[![上市公司薪资分布](http://cdn.zizaixian.top/2019/10/t1505上市公司.jpg \"上市公司薪资分布\")](http://cdn.zizaixian.top/2019/10/t1505上市公司.jpg \"上市公司薪资分布\")\n\n\n### 职位诱惑\n\n　　几乎每个企业都会在招聘公告上写一些自己公司的“优势”，也叫职位诱惑，下面用词云的形式展示了职位诱惑中出现频率最高的50个词汇：\n\n[![职位诱惑词频统计](http://cdn.zizaixian.top/2019/10/t1655.jpg \"职位诱惑词频统计\")](http://cdn.zizaixian.top/2019/10/t1655.jpg \"职位诱惑词频统计\")\n\n*注：分词器把“五险一金”分成了“五险”和“一金”两个词，实际上这是一个词。*\n> 科普：五险一金，指中国用人单位给予劳动者的几种保障性待遇的合称。“五险”指五种社会保险，包括养老保险、医疗保险、失业保险、工伤保险、生育保险，“一金”是指住房公积金。--- 摘自维基百科\n\n### 技能要求\n\n每个企业都会在招聘公告上明确的指出求职者应该具备哪些技能，不同职位的技能要求侧重点是不同的，但是也有一些普遍的要求。下面仍然采用词云的形式展示了几个热门职位或技术的技能要求高频词汇：\n\n[![后端开发技能要求词汇统计](http://cdn.zizaixian.top/2019/10/t2008后端开发.jpg \"后端开发技能要求词汇统计\")](http://cdn.zizaixian.top/2019/10/t2008后端开发.jpg \"后端开发技能要求词汇统计\")\n[![前端开发技能要求词汇统计](http://cdn.zizaixian.top/2019/10/t2008前端开发.jpg \"前端开发技能要求词汇统计\")](http://cdn.zizaixian.top/2019/10/t2008前端开发.jpg \"前端开发技能要求词汇统计\")\n[![全栈工程师技能要求词汇统计](http://cdn.zizaixian.top/2019/10/t2008全栈工程师.jpg \"全栈工程师技能要求词汇统计\")](http://cdn.zizaixian.top/2019/10/t2008全栈工程师.jpg \"全栈工程师技能要求词汇统计\")\n[![移动开发技能要求词汇统计](http://cdn.zizaixian.top/2019/10/t2008移动开发.jpg \"移动开发技能要求词汇统计\")](http://cdn.zizaixian.top/2019/10/t2008移动开发.jpg \"移动开发技能要求词汇统计\")\n[![运维技能要求词汇统计](http://cdn.zizaixian.top/2019/10/t2008运维.jpg \"运维技能要求词汇统计\")](http://cdn.zizaixian.top/2019/10/t2008运维.jpg \"运维技能要求词汇统计\")\n[![C++技能要求词汇统计](http://cdn.zizaixian.top/2019/10/t2008C.jpg \"C++技能要求词汇统计\")](http://cdn.zizaixian.top/2019/10/t2008C.jpg \"C++技能要求词汇统计\")\n[![Java技能要求词汇统计](http://cdn.zizaixian.top/2019/10/t2008Java.jpg \"Java技能要求词汇统计\")](http://cdn.zizaixian.top/2019/10/t2008Java.jpg \"Java技能要求词汇统计\")\n[![PHP技能要求词汇统计](http://cdn.zizaixian.top/2019/10/t2008PHP.jpg \"PHP技能要求词汇统计\")](http://cdn.zizaixian.top/2019/10/t2008PHP.jpg \"PHP技能要求词汇统计\")\n[![Python技能要求词汇统计](http://cdn.zizaixian.top/2019/10/t2008Python.jpg \"Python技能要求词汇统计\")](http://cdn.zizaixian.top/2019/10/t2008Python.jpg \"Python技能要求词汇统计\")\n[![人工智能技能要求词汇统计](http://cdn.zizaixian.top/2019/10/t2008人工智能.jpg \"人工智能技能要求词汇统计\")](http://cdn.zizaixian.top/2019/10/t2008人工智能.jpg \"人工智能技能要求词汇统计\")\n\n【注】统计高频词汇的过程中已经过滤掉了无意义的词，例如“熟悉”、“精通”、“具备”、“掌握”、“扎实”等词汇，保留“经验”一词旨在说明企业十分看中求职者对某一特定技术的使用经验。\n\n### 写在最后\n\n　　首先要感谢您能读到这里，感谢您在百忙之中读完我的这篇不严谨且存在诸多纰漏的文章。我从没有系统的学习过数据分析，只是凭借着兴趣做了这件事情，如果您能对文中的数据分析提出任何异议或者建设性意见的话，不胜感激。\n\n　　未来的路还很长，也许有些人在刚走出校门时会遇到一些困难，而有的人可能会走的相对顺利一些。每个人的都有属于自己的目标与理想，没必要攀比些什么，做好眼前的每一件小事，向往着一个不会比今天更糟的明天，一切都会有个好的结果。\n\n　　最后，一首冯唐的诗，送给自己以及即将迈出校门的年轻人：\n　　**尚未佩妥剑，转眼便江湖。**\n　　**愿历尽千帆，归来仍少年。**\n","slug":"9","published":1,"updated":"2020-01-07T07:47:13.161Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck541more000eecfwevmkdjih","content":"<p>　　2020年是16级大学生毕业的年份，明年的五六月份，包括笔者在内的一大批大学生就要走出校门，结束十六年的学业生涯，并开始长达数十年的职业生涯，在这个时间点上，我们最期望的莫过于找到一份称心的工作，这是家人的期盼，更是我们自己的期盼。<br>　　我们中的每一个人，都或多或少的感受到了就业的压力，尤其是计算机行业，在这种<strong>低端人才饱和，高端人才紧缺</strong>的大环境下，找到一份称心的工作着实不是件容易的事情。刚走出校门的我们由于经验不足只能选择低端岗位，令人担忧的是全球智能化革命的兴起将消灭大量的低端岗位，所以未来的竞争只会越来越激烈。<br>　　前段时间，一个偶然的机会我在互联网上浏览到了几则招聘信息，读着读着我脑子中便闪过一个念头，何不动用一些技术手段将这些招聘信息采集下来，然后对这些信息进行分析呢？这样就可以从整体上看清行业招聘的趋势了。在强大的好奇心的驱使下我设计并编写了计算机程序，程序运行了大概三天的时间，终于将这些招聘信息采集了下来，数据经过清洗与分析过后，利用数据可视化技术加以展现。现在我将分析结果分享出来，以下是文章正文部分。</p>\n<a id=\"more\"></a>\n<p>提示：正文包含六十七张图片，将消耗你大概8MB的流量，你一定是个慷慨的人。</p>\n<p><strong>笔者已将文中的图片打包成了压缩文件，读者可自行下载：<a href=\"http://cdn.zizaixian.top/user/files/technology.zip\">点我下载</a></strong></p>\n<p><strong>本文同步发布在博客园：<a href=\"https://www.cnblogs.com/nkqlhqc/p/11644900.html\">https://www.cnblogs.com/nkqlhqc/p/11644900.html</a></strong></p>\n<h3 id=\"写在最前面的话\"><a href=\"#写在最前面的话\" class=\"headerlink\" title=\"写在最前面的话\"></a>写在最前面的话</h3><ul>\n<li><p>本文展现的数据均采集于正规的招聘网站，数据的可信性是毋庸置疑的。</p>\n</li>\n<li><p>所有采集到的数据仅用作学习与交流，笔者承诺不会将其用作商业用途。</p>\n</li>\n<li><p>文中不免夹杂一些笔者的个人观点，你可以反对我的观点，但是我拒不接受。</p>\n</li>\n<li><p>我并非权威的数据分析员，文章标题用 <em>报告</em> 二字纯粹是为了装逼。</p>\n</li>\n</ul>\n<h3 id=\"不要迷信数据与他人\"><a href=\"#不要迷信数据与他人\" class=\"headerlink\" title=\"不要迷信数据与他人\"></a>不要迷信数据与他人</h3><p>　　数据分析只是一个工具，它不是万能的，万不要盲目的相信数据，未来选择什么样的职业，还要自己凭主观定夺，也就是你自己说了算。对未来迷茫了就去多读书，不要迷信数据，更不要听旁人瞎扯。<br>　　我在这里列举两类人，如果这两类人对你的职业有任何指导的话，你大可不必去听。这第一类人是大学教师，尤其是系里的领导，这类人由于在学校呆的太久，与外界基本处于隔离的状态。教师是一个相对安逸的职业，安逸的环境势必会打消人学习的热情，学习的热情一旦没有了，不再为自己充电了，那就基本上等于落后于时代了，对未来的判断更是无从谈起。计算机行业的发展速度远超过王思聪换女朋友的速度，我们的大学教师面对这样的发展速度能否给予学生一个正确的指导呢？我想他们是不能的。如果有教师为你的未来提供什么指导的话，他们也是在拿数年前的眼光告诉你现在该怎么去做，或者借用自媒体噱头式的宣传来鼓励你去做那些看起来很有前景的事情。<br>　　第二类人，是培训机构的人。培训机构的人为了自身的利益，不可避免的要用夸张式的语气宣扬一种事物，或去贬低一种事物，我觉得这是无可厚非的，毕竟赚钱才是培训机构的首要任务，而非培养人才。我只想说兼听则明，偏信则暗，如果任由单方面的话语在我们耳边徘徊的话，那我们对未来的判断是不是失去了平衡呢？我曾经<strong>被动的</strong>接受过五家培训机构的宣传，在此我也非常有兴趣点名一家培训机构，这家培训机构的名字叫北京AAA教育，在被动的听完该机构某位中年女士的宣讲后，我只想借诸葛亮的话形容一下当时的心情：我从未见过有如此厚颜无耻之人。为了自己的那点利益，把学生当傻子，信口胡说，颠倒黑白，四十分钟的宣讲将其无知、无耻的一面表现的淋漓尽致。在此衷心祝愿该培训机构早日倒闭，免得毒害更多的学生。</p>\n<h3 id=\"关于数据量的解释\"><a href=\"#关于数据量的解释\" class=\"headerlink\" title=\"关于数据量的解释\"></a>关于数据量的解释</h3><p>　　数据均采集于<a href=\"https://www.lagou.com\">拉勾网</a>。相比于其它招聘信息服务网站，拉勾网专为IT从业人员提供信息服务，也就是说拉勾网上面的招聘信息全部都是与IT互联网相关的，无其它行业的招聘信息，因此选择拉勾网作为数据采集对象再合适不过了。<br>　　此次共采集到招聘信息十一万两千八百六十五条，去除重复与无效的数据后剩余八万零三百五十条，数据采集日期为二零一九年九月下旬。 岗位涉及技术、产品、设计、运营、市场、销售、职能、游戏八个方向，由于绝大部分的学生在刚毕业时还是会选择技术岗，所以我仅仅分析了技术岗的数据，这部分数据共计两万八千六百七十一条。也许两万八千余条的数据量并不算大，但是我认为有时候不一定需要从宏观角度出发才能认清一件事情，从微观角度出发也可以很清晰的看到事物整体的面貌，这是一种透过微观看宏观的观察问题的方式。就比如我们交朋友，我们往往能通过对方的一些细节来判断这个人是否值得深交，而无需经过什么大事。<br>　　每条招聘信息都包含工作地区、薪资区间、学历要求、经验要求、技能要有、岗位职责、企业所属领域、企业融资情况等数据，下面我将从十个方面对这部分数据做一个简单的分析。</p>\n<p><strong>提示：可以点击图片查看大图！</strong></p>\n<h3 id=\"哪个城市最吸引人才？\"><a href=\"#哪个城市最吸引人才？\" class=\"headerlink\" title=\"哪个城市最吸引人才？\"></a>哪个城市最吸引人才？</h3><p>　　毕业之后，有些人想去自己向往已久的城市，有些人看见别人去哪了他就去哪，而很多的父母也不愿意子女远行。选择一个城市对我们将来的影响是不容小觑的，因为它直接决定了我们下半辈子在哪当房奴，甚至连房奴都当不上。下面是各城市需求岗位数量分布图：</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1823.jpg\" title=\"各城市需求岗位数量分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1823.jpg\" alt=\"各城市需求岗位数量分布\" title=\"各城市需求岗位数量分布\"></a></p>\n<p>　　北京毫无疑问的是最吸引人才的城市，主要还是因为北京的IT企业相对较多一些。排在其身后的分别是深圳、上海、广州、杭州、成都、武汉、南京，其中深圳与上海的需求量基本持平，再往后就是岗位需求不太旺盛的城市了，这个分布也基本符合我们的认知。</p>\n<h3 id=\"你需要什么样的学历\"><a href=\"#你需要什么样的学历\" class=\"headerlink\" title=\"你需要什么样的学历\"></a>你需要什么样的学历</h3><p><a href=\"http://cdn.zizaixian.top/2019/10/t1503.jpg\" title=\"总体学历要求分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1503.jpg\" alt=\"总体学历要求分布\" title=\"总体学历要求分布\"></a></p>\n<p>　　如上图所示，本科及以上学历占到一半以上，接着按比例排列分别是大专及以上、学历不限、硕士及以上、博士及以上。虽然本科及以上占比最大，但不要觉得自己是本科学历就高兴的太早，其一，不同的岗位对学历的要求是不同的，这里展现的仅仅是整体的学历要求分布，忽略了这种不同；其二，企业不仅仅要看你的学历，经验也是重要的考量；其三，学历低往往意味着薪资低；其四，学历低的不只你一个，你有多大的把握竞争过同类的人？这些都是客观存在的问题。<br>　　提升学历真是件不错的事情，这么想的肯定也不只我一个，不然就不会出现下面这种情况了：</p>\n<p>　　<a href=\"http://cdn.zizaixian.top/2019/10/pic1.jpg\"><img src=\"http://cdn.zizaixian.top/2019/10/pic1.jpg\" alt=\"\"></a></p>\n<p>　　<a href=\"http://cdn.zizaixian.top/2019/10/pic2.jpg\"><img src=\"http://cdn.zizaixian.top/2019/10/pic2.jpg\" alt=\"\"></a></p>\n<h3 id=\"你需要几年的经验\"><a href=\"#你需要几年的经验\" class=\"headerlink\" title=\"你需要几年的经验\"></a>你需要几年的经验</h3><p>工作经验是IT企业招聘人才时的重要考量，以下展示的整体上经验要求的分布：</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1526.jpg\" title=\"总体经验要求分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1526.jpg\" alt=\"总体经验要求分布\" title=\"总体经验要求分布\"></a></p>\n<p>　　从图上可以看出，经验3-5年占比最高，接着是经验1-3年、经验5-10年、经验不限、经验应届毕业生、经验1年以下、经验10年以上。经验多意味着什么自然不必多说，但我强烈反对经验多就意味着头发少这种言论，虽然理论上是这样的，但也有例外不是。</p>\n<h3 id=\"学历-And-经验\"><a href=\"#学历-And-经验\" class=\"headerlink\" title=\"学历 And 经验\"></a>学历 And 经验</h3><p><a href=\"http://cdn.zizaixian.top/2019/10/t1606.jpg\" title=\"总体学历与经验分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1606.jpg\" alt=\"总体学历与经验分布\" title=\"总体学历与经验分布\"></a></p>\n<p>　　上图展示的是不同学历下的经验要求分布，从中可以看出不管是何种学历，绝大多数岗位都要求3-5年或者1-3年的工作经验，也可以这么说，学历不行可以靠经验来补充，经验不足最好靠学历来补充，学历与经验都不足，需要在缝隙中生存。</p>\n<h3 id=\"哪个领域最需要人才\"><a href=\"#哪个领域最需要人才\" class=\"headerlink\" title=\"哪个领域最需要人才\"></a>哪个领域最需要人才</h3><p>　　不同的企业都有自己专属的领域，比如有的企业搞社交，有的企业搞金融，有的企业搞医疗，而有的企业涉足多个领域，比如乐视公司，咱也不知道贾跃亭老板回国了没有。</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t2135.jpg\" title=\"各领域需求工作岗位数量分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t2135.jpg\" alt=\"各领域需求工作岗位数量分布\" title=\"各领域需求工作岗位数量分布\"></a></p>\n<p>　　上图展示的是不同领域需要的人才数量分布，移动互联网一马当先，这与我国移动互联网的普及程度是密不可分的。<br>　　<a href=\"http://cdn.zizaixian.top/2019/10/截图_2019-10-06_23-37-04.png\"><img src=\"http://cdn.zizaixian.top/2019/10/%E6%88%AA%E5%9B%BE_2019-10-06_23-37-04.png\" alt=\"\"></a></p>\n<blockquote>\n<p>2019年8月30日，中国互联网络信息中心(CNNIC)第44次中国互联发展状况统计报告指出：截止到2019年6月，中国网民规模达8.54亿，用户月均使用移动流量达7.2GB。其中45.5%的网民为30岁以下的年轻群体，本科以下学历（不含本科）网民占比为90.4%</p>\n</blockquote>\n<p>　　比较热门的领域还有企业服务、数据服务、金融、电商、游戏、文娱、教育等等。如果是给人打工的话自然是不用考虑企业所属领域的，如果创业的话那就要好好考虑考虑了。</p>\n<h3 id=\"企业融资情况\"><a href=\"#企业融资情况\" class=\"headerlink\" title=\"企业融资情况\"></a>企业融资情况</h3><p>下图展示了共计7257个公司的融资情况：</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1722.jpg\" title=\"企业融资情况\"><img src=\"http://cdn.zizaixian.top/2019/10/t1722.jpg\" alt=\"企业融资情况\" title=\"企业融资情况\"></a></p>\n<p>　　其中：上市公司859个，占比11.83%；不需要融资的公司2311个，占比31.85%；未融资的公司1698个，占比23.4%；A轮融资公司884个，占比12.18%；B轮融资公司561个，占比7.73%；C轮融资公司250个，占比3.44%；D轮及以上融资公司186个，占比2.56%；天使轮融资公司508个，占比7%</p>\n<blockquote>\n<p>科普：<a href=\"https://www.zhihu.com/question/28498812/answer/290736672\" title=\"融资 A 轮、B 轮 和 C 轮 有什么区别？ - 苏老湿的回答 - 知乎\">融资 A 轮、B 轮 和 C 轮 有什么区别？ - 苏老湿的回答 - 知乎</a></p>\n</blockquote>\n<h3 id=\"总体薪资分布\"><a href=\"#总体薪资分布\" class=\"headerlink\" title=\"总体薪资分布\"></a>总体薪资分布</h3><p>　　下图以饼图的形式展示了总体上薪资的分布，从1K到30K以2K为一个区间段，30K往后以5K为一个区间段，饼图的每个扇区代表落在该薪资区间的比例。</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1424.jpg\" title=\"总体薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1424.jpg\" alt=\"总体薪资分布\" title=\"总体薪资分布\"></a></p>\n<p>　　总体的薪资分布并无实际参考意义，因为影响的薪资的因素是很多的，不同职位、学历、工作经验、公司融资情况、地区都会影响到薪资，下面就将展示不同因素影响下的薪资分布情况。</p>\n<h3 id=\"不同因素影响下的薪资分布情况\"><a href=\"#不同因素影响下的薪资分布情况\" class=\"headerlink\" title=\"不同因素影响下的薪资分布情况\"></a>不同因素影响下的薪资分布情况</h3><p><strong>提示：前方核能多图预警。</strong><br>　　<strong>本节采用饼图的形式展示不同因素对薪资分布的影响，这里需要强调的是“分布”二字，我们可以从图上看出哪些薪资区间占比较大，哪些薪资区间占比较小，但是不能够从图上看出某一因素对薪资的直接影响，现实中还要基于我们自身的考量。</strong></p>\n<h4 id=\"地区因素\"><a href=\"#地区因素\" class=\"headerlink\" title=\"地区因素\"></a>地区因素</h4><p>下面展示了最吸引人才的六大城市的平均薪资分布：</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1505北京.jpg\" title=\"北京地区薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E5%8C%97%E4%BA%AC.jpg\" alt=\"北京地区薪资分布\" title=\"北京地区薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505深圳.jpg\" title=\"深圳地区薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E6%B7%B1%E5%9C%B3.jpg\" alt=\"深圳地区薪资分布\" title=\"深圳地区薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505上海.jpg\" title=\"上海地区薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E4%B8%8A%E6%B5%B7.jpg\" alt=\"上海地区薪资分布\" title=\"上海地区薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505广州.jpg\" title=\"广州地区薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E5%B9%BF%E5%B7%9E.jpg\" alt=\"广州地区薪资分布\" title=\"广州地区薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505杭州.jpg\" title=\"杭州地区薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E6%9D%AD%E5%B7%9E.jpg\" alt=\"杭州地区薪资分布\" title=\"杭州地区薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505成都.jpg\" title=\"成都地区薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E6%88%90%E9%83%BD.jpg\" alt=\"成都地区薪资分布\" title=\"成都地区薪资分布\"></a></p>\n<p>　　通过对比可以看出，北京的平均薪资还是较其它几个城市高的，在11K-13K、15K-17K、19K-21K、21K-23K、29-31K都有较大的分布，上海的薪资分布与北京无太大差异，而成都明显是低薪资区间占比大，如果去国家统计局查一下各个城市的物价的话，这几张图到是十分合理的。</p>\n<h4 id=\"学历因素\"><a href=\"#学历因素\" class=\"headerlink\" title=\"学历因素\"></a>学历因素</h4><p>下面展示了不同学历的平均薪资分布：</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1505学历不限.jpg\" title=\"学历不限薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E5%AD%A6%E5%8E%86%E4%B8%8D%E9%99%90.jpg\" alt=\"学历不限薪资分布\" title=\"学历不限薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505大专及以上.jpg\" title=\"大专及以上薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E5%A4%A7%E4%B8%93%E5%8F%8A%E4%BB%A5%E4%B8%8A.jpg\" alt=\"大专及以上薪资分布\" title=\"大专及以上薪资分布\"></a><br>大专及以上学历一万元薪资以下占据一半以上比例。</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1505本科及以上.jpg\" title=\"本科及以上薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E6%9C%AC%E7%A7%91%E5%8F%8A%E4%BB%A5%E4%B8%8A.jpg\" alt=\"本科及以上薪资分布\" title=\"本科及以上薪资分布\"></a><br>本科及以上学历的薪资分布是比较均匀的，从整体上来看一万元至两万元的薪资大概占据50%。</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1505硕士及以上.jpg\" title=\"硕士及以上薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E7%A1%95%E5%A3%AB%E5%8F%8A%E4%BB%A5%E4%B8%8A.jpg\" alt=\"硕士及以上薪资分布\" title=\"硕士及以上薪资分布\"></a><br>很明显，相比本科学历高出一个层级后，硕士学历的低薪资区间占比明显缩小，高薪资区间占比明显增加，其中21K-23K、29K-30K、35K-40K占比较大，从整体上看一万五千元至三万五千元的薪资占据约50%。</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1505博士及以上.jpg\" title=\"博士及以上薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E5%8D%9A%E5%A3%AB%E5%8F%8A%E4%BB%A5%E4%B8%8A.jpg\" alt=\"博士及以上薪资分布\" title=\"博士及以上薪资分布\"></a><br>这个就很变态了，一万元薪资以下占比为零，一万元至两万元薪资占比很小，三万元以上薪资占比超75%，五万元薪资以上占比更是逼近25%。</p>\n<p>　　学历因素对薪资分布的影响给予我们最直观的启示就是：拥有什么样的学历有可能会决定今后的上升空间，学历低不意味着没有机会。</p>\n<h4 id=\"经验因素\"><a href=\"#经验因素\" class=\"headerlink\" title=\"经验因素\"></a>经验因素</h4><p>下面展示了不同工作经验的平均薪资分布：</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1505经验不限.jpg\" title=\"经验不限薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E7%BB%8F%E9%AA%8C%E4%B8%8D%E9%99%90.jpg\" alt=\"经验不限薪资分布\" title=\"经验不限薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505经验应届毕业生.jpg\" title=\"经验应届毕业生薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E7%BB%8F%E9%AA%8C%E5%BA%94%E5%B1%8A%E6%AF%95%E4%B8%9A%E7%94%9F.jpg\" alt=\"经验应届毕业生薪资分布\" title=\"经验应届毕业生薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505经验1年以下.jpg\" title=\"经验1年以下薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E7%BB%8F%E9%AA%8C1%E5%B9%B4%E4%BB%A5%E4%B8%8B.jpg\" alt=\"经验1年以下薪资分布\" title=\"经验1年以下薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505经验1-3年.jpg\" title=\"经验1-3年薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E7%BB%8F%E9%AA%8C1-3%E5%B9%B4.jpg\" alt=\"经验1-3年薪资分布\" title=\"经验1-3年薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505经验3-5年.jpg\" title=\"经验3-5年薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E7%BB%8F%E9%AA%8C3-5%E5%B9%B4.jpg\" alt=\"经验3-5年薪资分布\" title=\"经验3-5年薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505经验5-10年.jpg\" title=\"经验5-10年薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E7%BB%8F%E9%AA%8C5-10%E5%B9%B4.jpg\" alt=\"经验5-10年薪资分布\" title=\"经验5-10年薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505经验10年以上.jpg\" title=\"经验10年以上薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E7%BB%8F%E9%AA%8C10%E5%B9%B4%E4%BB%A5%E4%B8%8A.jpg\" alt=\"经验10年以上薪资分布\" title=\"经验10年以上薪资分布\"></a></p>\n<p>　　从上面七张图我们可以看出随着工作经验的增加，低薪资区间占比越来越小，高薪资区间占比越来越大，这与学历增加后平均薪资的走势是一样的。</p>\n<p>　　经验少则薪资低，经验多则薪资高，这是谁都知道的道理。但是值得我们思考的一个问题是：学历与经验哪个因素对薪资的影响更大一些呢？我还没有找出一个合理的算法或公式来下一个结论，凭借着对图的直观感觉我认为这两个因素对薪资的影响都挺大的（听起来像是句废话）。</p>\n<h4 id=\"职位因素\"><a href=\"#职位因素\" class=\"headerlink\" title=\"职位因素\"></a>职位因素</h4><p>不同职位的薪资分布是有所差异的，但这仅仅代表着分布的差异，不能够抛开学历、经验等因素说某个职位比另一个职位好，这是没有任何意义的。下面分别展示了前端开发、后端开发、移动开发、运维、高端职位、人工智能这六种职位的薪资分布情况：</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1505前端开发.jpg\" title=\"前端开发薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91.jpg\" alt=\"前端开发薪资分布\" title=\"前端开发薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505后端开发.jpg\" title=\"后端开发薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91.jpg\" alt=\"后端开发薪资分布\" title=\"后端开发薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505移动开发.jpg\" title=\"移动开发薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91.jpg\" alt=\"移动开发薪资分布\" title=\"移动开发薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505运维.jpg\" title=\"运维薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E8%BF%90%E7%BB%B4.jpg\" alt=\"运维薪资分布\" title=\"运维薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505高端职位.jpg\" title=\"高端职位薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E9%AB%98%E7%AB%AF%E8%81%8C%E4%BD%8D.jpg\" alt=\"高端职位薪资分布\" title=\"高端职位薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505人工智能.jpg\" title=\"人工智能薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD.jpg\" alt=\"人工智能薪资分布\" title=\"人工智能薪资分布\"></a></p>\n<p>　　尽管我们不能直接比较哪个职位更好一些，但是从不同职位的资分布情况来看，我们仍然能够看出有些职位的薪资上升空间是比较小的，而像人工智能这种对学历要求极高的职位薪资上升空间就相对大一些。</p>\n<h4 id=\"技术因素\"><a href=\"#技术因素\" class=\"headerlink\" title=\"技术因素\"></a>技术因素</h4><p>　　技术是最容易引起人们争论的话题，而且大多数是无意义的争论。整天考虑该选择什么样的技术来实现自己的想法是一种避重就轻的行为，就像每个月都发布的  <a href=\"https://www.tiobe.com/tiobe-index/\" title=\"TIOBE编程语言排行榜\">TIOBE编程语言排行榜</a>一样，它只能反映编程语言的热门程度 ，但是就是有很多自媒体或培训机构喜欢拿它来说事，下一些类似“某种编程语言好”、“某种编程语言有前途”这种愚蠢的结论。</p>\n<p>计算机行业技术门类过于繁多，下面仅仅列举了比较热门的技术，仅当参考：</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1505C.jpg\" title=\"C薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505C.jpg\" alt=\"C薪资分布\" title=\"C薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505C-1.jpg\" title=\"C-1薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505C-1.jpg\" alt=\"C++薪资分布\" title=\"C-1薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505Java.jpg\" title=\"Java薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505Java.jpg\" alt=\"Java薪资分布\" title=\"Java薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505JavaScript.jpg\" title=\"JavaScript薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505JavaScript.jpg\" alt=\"JavaScript薪资分布\" title=\"JavaScript薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505Node.js.jpg\" title=\"Node.js薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505Node.js.jpg\" alt=\"Node.js薪资分布\" title=\"Node.js薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505PHP.jpg\" title=\"PHP薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505PHP.jpg\" alt=\"PHP薪资分布\" title=\"PHP薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505Android.jpg\" title=\"Android薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505Android.jpg\" alt=\"Android薪资分布\" title=\"Android薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505Python.jpg\" title=\"Python薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505Python.jpg\" alt=\"Python薪资分布\" title=\"Python薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505web前端.jpg\" title=\"web前端薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505web%E5%89%8D%E7%AB%AF.jpg\" alt=\"web前端薪资分布\" title=\"web前端薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505深度学习.jpg\" title=\"深度学习薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0.jpg\" alt=\"深度学习薪资分布\" title=\"深度学习薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505区块链.jpg\" title=\"区块链薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E5%8C%BA%E5%9D%97%E9%93%BE.jpg\" alt=\"区块链薪资分布\" title=\"区块链薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505算法工程师.jpg\" title=\"算法工程师薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88.jpg\" alt=\"算法工程师薪资分布\" title=\"算法工程师薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505图像识别.jpg\" title=\"图像识别薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E5%9B%BE%E5%83%8F%E8%AF%86%E5%88%AB.jpg\" alt=\"图像识别薪资分布\" title=\"图像识别薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505运维工程师.jpg\" title=\"运维工程师薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E8%BF%90%E7%BB%B4%E5%B7%A5%E7%A8%8B%E5%B8%88.jpg\" alt=\"运维工程师薪资分布\" title=\"运维工程师薪资分布\"></a></p>\n<h4 id=\"企业融资因素\"><a href=\"#企业融资因素\" class=\"headerlink\" title=\"企业融资因素\"></a>企业融资因素</h4><p>下面展示了不同融资情况的企业的薪资分布情况：</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1505不需要融资.jpg\" title=\"不需要融资薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E4%B8%8D%E9%9C%80%E8%A6%81%E8%9E%8D%E8%B5%84.jpg\" alt=\"不需要融资薪资分布\" title=\"不需要融资薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505未融资.jpg\" title=\"未融资薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E6%9C%AA%E8%9E%8D%E8%B5%84.jpg\" alt=\"未融资薪资分布\" title=\"未融资薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505天使轮.jpg\" title=\"天使轮薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E5%A4%A9%E4%BD%BF%E8%BD%AE.jpg\" alt=\"天使轮薪资分布\" title=\"天使轮薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505A轮.jpg\" title=\"A轮薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505A%E8%BD%AE.jpg\" alt=\"A轮薪资分布\" title=\"A轮薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505B轮.jpg\" title=\"B轮薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505B%E8%BD%AE.jpg\" alt=\"B轮薪资分布\" title=\"B轮薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505C轮.jpg\" title=\"C轮薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505C%E8%BD%AE.jpg\" alt=\"C轮薪资分布\" title=\"C轮薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505D轮及以上.jpg\" title=\"D轮及以上薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505D%E8%BD%AE%E5%8F%8A%E4%BB%A5%E4%B8%8A.jpg\" alt=\"D轮及以上薪资分布\" title=\"D轮及以上薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505上市公司.jpg\" title=\"上市公司薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E4%B8%8A%E5%B8%82%E5%85%AC%E5%8F%B8.jpg\" alt=\"上市公司薪资分布\" title=\"上市公司薪资分布\"></a></p>\n<h3 id=\"职位诱惑\"><a href=\"#职位诱惑\" class=\"headerlink\" title=\"职位诱惑\"></a>职位诱惑</h3><p>　　几乎每个企业都会在招聘公告上写一些自己公司的“优势”，也叫职位诱惑，下面用词云的形式展示了职位诱惑中出现频率最高的50个词汇：</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1655.jpg\" title=\"职位诱惑词频统计\"><img src=\"http://cdn.zizaixian.top/2019/10/t1655.jpg\" alt=\"职位诱惑词频统计\" title=\"职位诱惑词频统计\"></a></p>\n<p><em>注：分词器把“五险一金”分成了“五险”和“一金”两个词，实际上这是一个词。</em></p>\n<blockquote>\n<p>科普：五险一金，指中国用人单位给予劳动者的几种保障性待遇的合称。“五险”指五种社会保险，包括养老保险、医疗保险、失业保险、工伤保险、生育保险，“一金”是指住房公积金。— 摘自维基百科</p>\n</blockquote>\n<h3 id=\"技能要求\"><a href=\"#技能要求\" class=\"headerlink\" title=\"技能要求\"></a>技能要求</h3><p>每个企业都会在招聘公告上明确的指出求职者应该具备哪些技能，不同职位的技能要求侧重点是不同的，但是也有一些普遍的要求。下面仍然采用词云的形式展示了几个热门职位或技术的技能要求高频词汇：</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t2008后端开发.jpg\" title=\"后端开发技能要求词汇统计\"><img src=\"http://cdn.zizaixian.top/2019/10/t2008%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91.jpg\" alt=\"后端开发技能要求词汇统计\" title=\"后端开发技能要求词汇统计\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t2008前端开发.jpg\" title=\"前端开发技能要求词汇统计\"><img src=\"http://cdn.zizaixian.top/2019/10/t2008%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91.jpg\" alt=\"前端开发技能要求词汇统计\" title=\"前端开发技能要求词汇统计\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t2008全栈工程师.jpg\" title=\"全栈工程师技能要求词汇统计\"><img src=\"http://cdn.zizaixian.top/2019/10/t2008%E5%85%A8%E6%A0%88%E5%B7%A5%E7%A8%8B%E5%B8%88.jpg\" alt=\"全栈工程师技能要求词汇统计\" title=\"全栈工程师技能要求词汇统计\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t2008移动开发.jpg\" title=\"移动开发技能要求词汇统计\"><img src=\"http://cdn.zizaixian.top/2019/10/t2008%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91.jpg\" alt=\"移动开发技能要求词汇统计\" title=\"移动开发技能要求词汇统计\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t2008运维.jpg\" title=\"运维技能要求词汇统计\"><img src=\"http://cdn.zizaixian.top/2019/10/t2008%E8%BF%90%E7%BB%B4.jpg\" alt=\"运维技能要求词汇统计\" title=\"运维技能要求词汇统计\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t2008C.jpg\" title=\"C++技能要求词汇统计\"><img src=\"http://cdn.zizaixian.top/2019/10/t2008C.jpg\" alt=\"C++技能要求词汇统计\" title=\"C++技能要求词汇统计\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t2008Java.jpg\" title=\"Java技能要求词汇统计\"><img src=\"http://cdn.zizaixian.top/2019/10/t2008Java.jpg\" alt=\"Java技能要求词汇统计\" title=\"Java技能要求词汇统计\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t2008PHP.jpg\" title=\"PHP技能要求词汇统计\"><img src=\"http://cdn.zizaixian.top/2019/10/t2008PHP.jpg\" alt=\"PHP技能要求词汇统计\" title=\"PHP技能要求词汇统计\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t2008Python.jpg\" title=\"Python技能要求词汇统计\"><img src=\"http://cdn.zizaixian.top/2019/10/t2008Python.jpg\" alt=\"Python技能要求词汇统计\" title=\"Python技能要求词汇统计\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t2008人工智能.jpg\" title=\"人工智能技能要求词汇统计\"><img src=\"http://cdn.zizaixian.top/2019/10/t2008%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD.jpg\" alt=\"人工智能技能要求词汇统计\" title=\"人工智能技能要求词汇统计\"></a></p>\n<p>【注】统计高频词汇的过程中已经过滤掉了无意义的词，例如“熟悉”、“精通”、“具备”、“掌握”、“扎实”等词汇，保留“经验”一词旨在说明企业十分看中求职者对某一特定技术的使用经验。</p>\n<h3 id=\"写在最后\"><a href=\"#写在最后\" class=\"headerlink\" title=\"写在最后\"></a>写在最后</h3><p>　　首先要感谢您能读到这里，感谢您在百忙之中读完我的这篇不严谨且存在诸多纰漏的文章。我从没有系统的学习过数据分析，只是凭借着兴趣做了这件事情，如果您能对文中的数据分析提出任何异议或者建设性意见的话，不胜感激。</p>\n<p>　　未来的路还很长，也许有些人在刚走出校门时会遇到一些困难，而有的人可能会走的相对顺利一些。每个人的都有属于自己的目标与理想，没必要攀比些什么，做好眼前的每一件小事，向往着一个不会比今天更糟的明天，一切都会有个好的结果。</p>\n<p>　　最后，一首冯唐的诗，送给自己以及即将迈出校门的年轻人：<br>　　<strong>尚未佩妥剑，转眼便江湖。</strong><br>　　<strong>愿历尽千帆，归来仍少年。</strong></p>\n","site":{"data":{}},"excerpt":"<p>　　2020年是16级大学生毕业的年份，明年的五六月份，包括笔者在内的一大批大学生就要走出校门，结束十六年的学业生涯，并开始长达数十年的职业生涯，在这个时间点上，我们最期望的莫过于找到一份称心的工作，这是家人的期盼，更是我们自己的期盼。<br>　　我们中的每一个人，都或多或少的感受到了就业的压力，尤其是计算机行业，在这种<strong>低端人才饱和，高端人才紧缺</strong>的大环境下，找到一份称心的工作着实不是件容易的事情。刚走出校门的我们由于经验不足只能选择低端岗位，令人担忧的是全球智能化革命的兴起将消灭大量的低端岗位，所以未来的竞争只会越来越激烈。<br>　　前段时间，一个偶然的机会我在互联网上浏览到了几则招聘信息，读着读着我脑子中便闪过一个念头，何不动用一些技术手段将这些招聘信息采集下来，然后对这些信息进行分析呢？这样就可以从整体上看清行业招聘的趋势了。在强大的好奇心的驱使下我设计并编写了计算机程序，程序运行了大概三天的时间，终于将这些招聘信息采集了下来，数据经过清洗与分析过后，利用数据可视化技术加以展现。现在我将分析结果分享出来，以下是文章正文部分。</p>","more":"<p>提示：正文包含六十七张图片，将消耗你大概8MB的流量，你一定是个慷慨的人。</p>\n<p><strong>笔者已将文中的图片打包成了压缩文件，读者可自行下载：<a href=\"http://cdn.zizaixian.top/user/files/technology.zip\">点我下载</a></strong></p>\n<p><strong>本文同步发布在博客园：<a href=\"https://www.cnblogs.com/nkqlhqc/p/11644900.html\">https://www.cnblogs.com/nkqlhqc/p/11644900.html</a></strong></p>\n<h3 id=\"写在最前面的话\"><a href=\"#写在最前面的话\" class=\"headerlink\" title=\"写在最前面的话\"></a>写在最前面的话</h3><ul>\n<li><p>本文展现的数据均采集于正规的招聘网站，数据的可信性是毋庸置疑的。</p>\n</li>\n<li><p>所有采集到的数据仅用作学习与交流，笔者承诺不会将其用作商业用途。</p>\n</li>\n<li><p>文中不免夹杂一些笔者的个人观点，你可以反对我的观点，但是我拒不接受。</p>\n</li>\n<li><p>我并非权威的数据分析员，文章标题用 <em>报告</em> 二字纯粹是为了装逼。</p>\n</li>\n</ul>\n<h3 id=\"不要迷信数据与他人\"><a href=\"#不要迷信数据与他人\" class=\"headerlink\" title=\"不要迷信数据与他人\"></a>不要迷信数据与他人</h3><p>　　数据分析只是一个工具，它不是万能的，万不要盲目的相信数据，未来选择什么样的职业，还要自己凭主观定夺，也就是你自己说了算。对未来迷茫了就去多读书，不要迷信数据，更不要听旁人瞎扯。<br>　　我在这里列举两类人，如果这两类人对你的职业有任何指导的话，你大可不必去听。这第一类人是大学教师，尤其是系里的领导，这类人由于在学校呆的太久，与外界基本处于隔离的状态。教师是一个相对安逸的职业，安逸的环境势必会打消人学习的热情，学习的热情一旦没有了，不再为自己充电了，那就基本上等于落后于时代了，对未来的判断更是无从谈起。计算机行业的发展速度远超过王思聪换女朋友的速度，我们的大学教师面对这样的发展速度能否给予学生一个正确的指导呢？我想他们是不能的。如果有教师为你的未来提供什么指导的话，他们也是在拿数年前的眼光告诉你现在该怎么去做，或者借用自媒体噱头式的宣传来鼓励你去做那些看起来很有前景的事情。<br>　　第二类人，是培训机构的人。培训机构的人为了自身的利益，不可避免的要用夸张式的语气宣扬一种事物，或去贬低一种事物，我觉得这是无可厚非的，毕竟赚钱才是培训机构的首要任务，而非培养人才。我只想说兼听则明，偏信则暗，如果任由单方面的话语在我们耳边徘徊的话，那我们对未来的判断是不是失去了平衡呢？我曾经<strong>被动的</strong>接受过五家培训机构的宣传，在此我也非常有兴趣点名一家培训机构，这家培训机构的名字叫北京AAA教育，在被动的听完该机构某位中年女士的宣讲后，我只想借诸葛亮的话形容一下当时的心情：我从未见过有如此厚颜无耻之人。为了自己的那点利益，把学生当傻子，信口胡说，颠倒黑白，四十分钟的宣讲将其无知、无耻的一面表现的淋漓尽致。在此衷心祝愿该培训机构早日倒闭，免得毒害更多的学生。</p>\n<h3 id=\"关于数据量的解释\"><a href=\"#关于数据量的解释\" class=\"headerlink\" title=\"关于数据量的解释\"></a>关于数据量的解释</h3><p>　　数据均采集于<a href=\"https://www.lagou.com\">拉勾网</a>。相比于其它招聘信息服务网站，拉勾网专为IT从业人员提供信息服务，也就是说拉勾网上面的招聘信息全部都是与IT互联网相关的，无其它行业的招聘信息，因此选择拉勾网作为数据采集对象再合适不过了。<br>　　此次共采集到招聘信息十一万两千八百六十五条，去除重复与无效的数据后剩余八万零三百五十条，数据采集日期为二零一九年九月下旬。 岗位涉及技术、产品、设计、运营、市场、销售、职能、游戏八个方向，由于绝大部分的学生在刚毕业时还是会选择技术岗，所以我仅仅分析了技术岗的数据，这部分数据共计两万八千六百七十一条。也许两万八千余条的数据量并不算大，但是我认为有时候不一定需要从宏观角度出发才能认清一件事情，从微观角度出发也可以很清晰的看到事物整体的面貌，这是一种透过微观看宏观的观察问题的方式。就比如我们交朋友，我们往往能通过对方的一些细节来判断这个人是否值得深交，而无需经过什么大事。<br>　　每条招聘信息都包含工作地区、薪资区间、学历要求、经验要求、技能要有、岗位职责、企业所属领域、企业融资情况等数据，下面我将从十个方面对这部分数据做一个简单的分析。</p>\n<p><strong>提示：可以点击图片查看大图！</strong></p>\n<h3 id=\"哪个城市最吸引人才？\"><a href=\"#哪个城市最吸引人才？\" class=\"headerlink\" title=\"哪个城市最吸引人才？\"></a>哪个城市最吸引人才？</h3><p>　　毕业之后，有些人想去自己向往已久的城市，有些人看见别人去哪了他就去哪，而很多的父母也不愿意子女远行。选择一个城市对我们将来的影响是不容小觑的，因为它直接决定了我们下半辈子在哪当房奴，甚至连房奴都当不上。下面是各城市需求岗位数量分布图：</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1823.jpg\" title=\"各城市需求岗位数量分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1823.jpg\" alt=\"各城市需求岗位数量分布\" title=\"各城市需求岗位数量分布\"></a></p>\n<p>　　北京毫无疑问的是最吸引人才的城市，主要还是因为北京的IT企业相对较多一些。排在其身后的分别是深圳、上海、广州、杭州、成都、武汉、南京，其中深圳与上海的需求量基本持平，再往后就是岗位需求不太旺盛的城市了，这个分布也基本符合我们的认知。</p>\n<h3 id=\"你需要什么样的学历\"><a href=\"#你需要什么样的学历\" class=\"headerlink\" title=\"你需要什么样的学历\"></a>你需要什么样的学历</h3><p><a href=\"http://cdn.zizaixian.top/2019/10/t1503.jpg\" title=\"总体学历要求分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1503.jpg\" alt=\"总体学历要求分布\" title=\"总体学历要求分布\"></a></p>\n<p>　　如上图所示，本科及以上学历占到一半以上，接着按比例排列分别是大专及以上、学历不限、硕士及以上、博士及以上。虽然本科及以上占比最大，但不要觉得自己是本科学历就高兴的太早，其一，不同的岗位对学历的要求是不同的，这里展现的仅仅是整体的学历要求分布，忽略了这种不同；其二，企业不仅仅要看你的学历，经验也是重要的考量；其三，学历低往往意味着薪资低；其四，学历低的不只你一个，你有多大的把握竞争过同类的人？这些都是客观存在的问题。<br>　　提升学历真是件不错的事情，这么想的肯定也不只我一个，不然就不会出现下面这种情况了：</p>\n<p>　　<a href=\"http://cdn.zizaixian.top/2019/10/pic1.jpg\"><img src=\"http://cdn.zizaixian.top/2019/10/pic1.jpg\" alt=\"\"></a></p>\n<p>　　<a href=\"http://cdn.zizaixian.top/2019/10/pic2.jpg\"><img src=\"http://cdn.zizaixian.top/2019/10/pic2.jpg\" alt=\"\"></a></p>\n<h3 id=\"你需要几年的经验\"><a href=\"#你需要几年的经验\" class=\"headerlink\" title=\"你需要几年的经验\"></a>你需要几年的经验</h3><p>工作经验是IT企业招聘人才时的重要考量，以下展示的整体上经验要求的分布：</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1526.jpg\" title=\"总体经验要求分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1526.jpg\" alt=\"总体经验要求分布\" title=\"总体经验要求分布\"></a></p>\n<p>　　从图上可以看出，经验3-5年占比最高，接着是经验1-3年、经验5-10年、经验不限、经验应届毕业生、经验1年以下、经验10年以上。经验多意味着什么自然不必多说，但我强烈反对经验多就意味着头发少这种言论，虽然理论上是这样的，但也有例外不是。</p>\n<h3 id=\"学历-And-经验\"><a href=\"#学历-And-经验\" class=\"headerlink\" title=\"学历 And 经验\"></a>学历 And 经验</h3><p><a href=\"http://cdn.zizaixian.top/2019/10/t1606.jpg\" title=\"总体学历与经验分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1606.jpg\" alt=\"总体学历与经验分布\" title=\"总体学历与经验分布\"></a></p>\n<p>　　上图展示的是不同学历下的经验要求分布，从中可以看出不管是何种学历，绝大多数岗位都要求3-5年或者1-3年的工作经验，也可以这么说，学历不行可以靠经验来补充，经验不足最好靠学历来补充，学历与经验都不足，需要在缝隙中生存。</p>\n<h3 id=\"哪个领域最需要人才\"><a href=\"#哪个领域最需要人才\" class=\"headerlink\" title=\"哪个领域最需要人才\"></a>哪个领域最需要人才</h3><p>　　不同的企业都有自己专属的领域，比如有的企业搞社交，有的企业搞金融，有的企业搞医疗，而有的企业涉足多个领域，比如乐视公司，咱也不知道贾跃亭老板回国了没有。</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t2135.jpg\" title=\"各领域需求工作岗位数量分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t2135.jpg\" alt=\"各领域需求工作岗位数量分布\" title=\"各领域需求工作岗位数量分布\"></a></p>\n<p>　　上图展示的是不同领域需要的人才数量分布，移动互联网一马当先，这与我国移动互联网的普及程度是密不可分的。<br>　　<a href=\"http://cdn.zizaixian.top/2019/10/截图_2019-10-06_23-37-04.png\"><img src=\"http://cdn.zizaixian.top/2019/10/%E6%88%AA%E5%9B%BE_2019-10-06_23-37-04.png\" alt=\"\"></a></p>\n<blockquote>\n<p>2019年8月30日，中国互联网络信息中心(CNNIC)第44次中国互联发展状况统计报告指出：截止到2019年6月，中国网民规模达8.54亿，用户月均使用移动流量达7.2GB。其中45.5%的网民为30岁以下的年轻群体，本科以下学历（不含本科）网民占比为90.4%</p>\n</blockquote>\n<p>　　比较热门的领域还有企业服务、数据服务、金融、电商、游戏、文娱、教育等等。如果是给人打工的话自然是不用考虑企业所属领域的，如果创业的话那就要好好考虑考虑了。</p>\n<h3 id=\"企业融资情况\"><a href=\"#企业融资情况\" class=\"headerlink\" title=\"企业融资情况\"></a>企业融资情况</h3><p>下图展示了共计7257个公司的融资情况：</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1722.jpg\" title=\"企业融资情况\"><img src=\"http://cdn.zizaixian.top/2019/10/t1722.jpg\" alt=\"企业融资情况\" title=\"企业融资情况\"></a></p>\n<p>　　其中：上市公司859个，占比11.83%；不需要融资的公司2311个，占比31.85%；未融资的公司1698个，占比23.4%；A轮融资公司884个，占比12.18%；B轮融资公司561个，占比7.73%；C轮融资公司250个，占比3.44%；D轮及以上融资公司186个，占比2.56%；天使轮融资公司508个，占比7%</p>\n<blockquote>\n<p>科普：<a href=\"https://www.zhihu.com/question/28498812/answer/290736672\" title=\"融资 A 轮、B 轮 和 C 轮 有什么区别？ - 苏老湿的回答 - 知乎\">融资 A 轮、B 轮 和 C 轮 有什么区别？ - 苏老湿的回答 - 知乎</a></p>\n</blockquote>\n<h3 id=\"总体薪资分布\"><a href=\"#总体薪资分布\" class=\"headerlink\" title=\"总体薪资分布\"></a>总体薪资分布</h3><p>　　下图以饼图的形式展示了总体上薪资的分布，从1K到30K以2K为一个区间段，30K往后以5K为一个区间段，饼图的每个扇区代表落在该薪资区间的比例。</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1424.jpg\" title=\"总体薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1424.jpg\" alt=\"总体薪资分布\" title=\"总体薪资分布\"></a></p>\n<p>　　总体的薪资分布并无实际参考意义，因为影响的薪资的因素是很多的，不同职位、学历、工作经验、公司融资情况、地区都会影响到薪资，下面就将展示不同因素影响下的薪资分布情况。</p>\n<h3 id=\"不同因素影响下的薪资分布情况\"><a href=\"#不同因素影响下的薪资分布情况\" class=\"headerlink\" title=\"不同因素影响下的薪资分布情况\"></a>不同因素影响下的薪资分布情况</h3><p><strong>提示：前方核能多图预警。</strong><br>　　<strong>本节采用饼图的形式展示不同因素对薪资分布的影响，这里需要强调的是“分布”二字，我们可以从图上看出哪些薪资区间占比较大，哪些薪资区间占比较小，但是不能够从图上看出某一因素对薪资的直接影响，现实中还要基于我们自身的考量。</strong></p>\n<h4 id=\"地区因素\"><a href=\"#地区因素\" class=\"headerlink\" title=\"地区因素\"></a>地区因素</h4><p>下面展示了最吸引人才的六大城市的平均薪资分布：</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1505北京.jpg\" title=\"北京地区薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E5%8C%97%E4%BA%AC.jpg\" alt=\"北京地区薪资分布\" title=\"北京地区薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505深圳.jpg\" title=\"深圳地区薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E6%B7%B1%E5%9C%B3.jpg\" alt=\"深圳地区薪资分布\" title=\"深圳地区薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505上海.jpg\" title=\"上海地区薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E4%B8%8A%E6%B5%B7.jpg\" alt=\"上海地区薪资分布\" title=\"上海地区薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505广州.jpg\" title=\"广州地区薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E5%B9%BF%E5%B7%9E.jpg\" alt=\"广州地区薪资分布\" title=\"广州地区薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505杭州.jpg\" title=\"杭州地区薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E6%9D%AD%E5%B7%9E.jpg\" alt=\"杭州地区薪资分布\" title=\"杭州地区薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505成都.jpg\" title=\"成都地区薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E6%88%90%E9%83%BD.jpg\" alt=\"成都地区薪资分布\" title=\"成都地区薪资分布\"></a></p>\n<p>　　通过对比可以看出，北京的平均薪资还是较其它几个城市高的，在11K-13K、15K-17K、19K-21K、21K-23K、29-31K都有较大的分布，上海的薪资分布与北京无太大差异，而成都明显是低薪资区间占比大，如果去国家统计局查一下各个城市的物价的话，这几张图到是十分合理的。</p>\n<h4 id=\"学历因素\"><a href=\"#学历因素\" class=\"headerlink\" title=\"学历因素\"></a>学历因素</h4><p>下面展示了不同学历的平均薪资分布：</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1505学历不限.jpg\" title=\"学历不限薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E5%AD%A6%E5%8E%86%E4%B8%8D%E9%99%90.jpg\" alt=\"学历不限薪资分布\" title=\"学历不限薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505大专及以上.jpg\" title=\"大专及以上薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E5%A4%A7%E4%B8%93%E5%8F%8A%E4%BB%A5%E4%B8%8A.jpg\" alt=\"大专及以上薪资分布\" title=\"大专及以上薪资分布\"></a><br>大专及以上学历一万元薪资以下占据一半以上比例。</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1505本科及以上.jpg\" title=\"本科及以上薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E6%9C%AC%E7%A7%91%E5%8F%8A%E4%BB%A5%E4%B8%8A.jpg\" alt=\"本科及以上薪资分布\" title=\"本科及以上薪资分布\"></a><br>本科及以上学历的薪资分布是比较均匀的，从整体上来看一万元至两万元的薪资大概占据50%。</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1505硕士及以上.jpg\" title=\"硕士及以上薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E7%A1%95%E5%A3%AB%E5%8F%8A%E4%BB%A5%E4%B8%8A.jpg\" alt=\"硕士及以上薪资分布\" title=\"硕士及以上薪资分布\"></a><br>很明显，相比本科学历高出一个层级后，硕士学历的低薪资区间占比明显缩小，高薪资区间占比明显增加，其中21K-23K、29K-30K、35K-40K占比较大，从整体上看一万五千元至三万五千元的薪资占据约50%。</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1505博士及以上.jpg\" title=\"博士及以上薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E5%8D%9A%E5%A3%AB%E5%8F%8A%E4%BB%A5%E4%B8%8A.jpg\" alt=\"博士及以上薪资分布\" title=\"博士及以上薪资分布\"></a><br>这个就很变态了，一万元薪资以下占比为零，一万元至两万元薪资占比很小，三万元以上薪资占比超75%，五万元薪资以上占比更是逼近25%。</p>\n<p>　　学历因素对薪资分布的影响给予我们最直观的启示就是：拥有什么样的学历有可能会决定今后的上升空间，学历低不意味着没有机会。</p>\n<h4 id=\"经验因素\"><a href=\"#经验因素\" class=\"headerlink\" title=\"经验因素\"></a>经验因素</h4><p>下面展示了不同工作经验的平均薪资分布：</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1505经验不限.jpg\" title=\"经验不限薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E7%BB%8F%E9%AA%8C%E4%B8%8D%E9%99%90.jpg\" alt=\"经验不限薪资分布\" title=\"经验不限薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505经验应届毕业生.jpg\" title=\"经验应届毕业生薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E7%BB%8F%E9%AA%8C%E5%BA%94%E5%B1%8A%E6%AF%95%E4%B8%9A%E7%94%9F.jpg\" alt=\"经验应届毕业生薪资分布\" title=\"经验应届毕业生薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505经验1年以下.jpg\" title=\"经验1年以下薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E7%BB%8F%E9%AA%8C1%E5%B9%B4%E4%BB%A5%E4%B8%8B.jpg\" alt=\"经验1年以下薪资分布\" title=\"经验1年以下薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505经验1-3年.jpg\" title=\"经验1-3年薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E7%BB%8F%E9%AA%8C1-3%E5%B9%B4.jpg\" alt=\"经验1-3年薪资分布\" title=\"经验1-3年薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505经验3-5年.jpg\" title=\"经验3-5年薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E7%BB%8F%E9%AA%8C3-5%E5%B9%B4.jpg\" alt=\"经验3-5年薪资分布\" title=\"经验3-5年薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505经验5-10年.jpg\" title=\"经验5-10年薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E7%BB%8F%E9%AA%8C5-10%E5%B9%B4.jpg\" alt=\"经验5-10年薪资分布\" title=\"经验5-10年薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505经验10年以上.jpg\" title=\"经验10年以上薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E7%BB%8F%E9%AA%8C10%E5%B9%B4%E4%BB%A5%E4%B8%8A.jpg\" alt=\"经验10年以上薪资分布\" title=\"经验10年以上薪资分布\"></a></p>\n<p>　　从上面七张图我们可以看出随着工作经验的增加，低薪资区间占比越来越小，高薪资区间占比越来越大，这与学历增加后平均薪资的走势是一样的。</p>\n<p>　　经验少则薪资低，经验多则薪资高，这是谁都知道的道理。但是值得我们思考的一个问题是：学历与经验哪个因素对薪资的影响更大一些呢？我还没有找出一个合理的算法或公式来下一个结论，凭借着对图的直观感觉我认为这两个因素对薪资的影响都挺大的（听起来像是句废话）。</p>\n<h4 id=\"职位因素\"><a href=\"#职位因素\" class=\"headerlink\" title=\"职位因素\"></a>职位因素</h4><p>不同职位的薪资分布是有所差异的，但这仅仅代表着分布的差异，不能够抛开学历、经验等因素说某个职位比另一个职位好，这是没有任何意义的。下面分别展示了前端开发、后端开发、移动开发、运维、高端职位、人工智能这六种职位的薪资分布情况：</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1505前端开发.jpg\" title=\"前端开发薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91.jpg\" alt=\"前端开发薪资分布\" title=\"前端开发薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505后端开发.jpg\" title=\"后端开发薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91.jpg\" alt=\"后端开发薪资分布\" title=\"后端开发薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505移动开发.jpg\" title=\"移动开发薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91.jpg\" alt=\"移动开发薪资分布\" title=\"移动开发薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505运维.jpg\" title=\"运维薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E8%BF%90%E7%BB%B4.jpg\" alt=\"运维薪资分布\" title=\"运维薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505高端职位.jpg\" title=\"高端职位薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E9%AB%98%E7%AB%AF%E8%81%8C%E4%BD%8D.jpg\" alt=\"高端职位薪资分布\" title=\"高端职位薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505人工智能.jpg\" title=\"人工智能薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD.jpg\" alt=\"人工智能薪资分布\" title=\"人工智能薪资分布\"></a></p>\n<p>　　尽管我们不能直接比较哪个职位更好一些，但是从不同职位的资分布情况来看，我们仍然能够看出有些职位的薪资上升空间是比较小的，而像人工智能这种对学历要求极高的职位薪资上升空间就相对大一些。</p>\n<h4 id=\"技术因素\"><a href=\"#技术因素\" class=\"headerlink\" title=\"技术因素\"></a>技术因素</h4><p>　　技术是最容易引起人们争论的话题，而且大多数是无意义的争论。整天考虑该选择什么样的技术来实现自己的想法是一种避重就轻的行为，就像每个月都发布的  <a href=\"https://www.tiobe.com/tiobe-index/\" title=\"TIOBE编程语言排行榜\">TIOBE编程语言排行榜</a>一样，它只能反映编程语言的热门程度 ，但是就是有很多自媒体或培训机构喜欢拿它来说事，下一些类似“某种编程语言好”、“某种编程语言有前途”这种愚蠢的结论。</p>\n<p>计算机行业技术门类过于繁多，下面仅仅列举了比较热门的技术，仅当参考：</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1505C.jpg\" title=\"C薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505C.jpg\" alt=\"C薪资分布\" title=\"C薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505C-1.jpg\" title=\"C-1薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505C-1.jpg\" alt=\"C++薪资分布\" title=\"C-1薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505Java.jpg\" title=\"Java薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505Java.jpg\" alt=\"Java薪资分布\" title=\"Java薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505JavaScript.jpg\" title=\"JavaScript薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505JavaScript.jpg\" alt=\"JavaScript薪资分布\" title=\"JavaScript薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505Node.js.jpg\" title=\"Node.js薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505Node.js.jpg\" alt=\"Node.js薪资分布\" title=\"Node.js薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505PHP.jpg\" title=\"PHP薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505PHP.jpg\" alt=\"PHP薪资分布\" title=\"PHP薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505Android.jpg\" title=\"Android薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505Android.jpg\" alt=\"Android薪资分布\" title=\"Android薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505Python.jpg\" title=\"Python薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505Python.jpg\" alt=\"Python薪资分布\" title=\"Python薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505web前端.jpg\" title=\"web前端薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505web%E5%89%8D%E7%AB%AF.jpg\" alt=\"web前端薪资分布\" title=\"web前端薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505深度学习.jpg\" title=\"深度学习薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0.jpg\" alt=\"深度学习薪资分布\" title=\"深度学习薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505区块链.jpg\" title=\"区块链薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E5%8C%BA%E5%9D%97%E9%93%BE.jpg\" alt=\"区块链薪资分布\" title=\"区块链薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505算法工程师.jpg\" title=\"算法工程师薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88.jpg\" alt=\"算法工程师薪资分布\" title=\"算法工程师薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505图像识别.jpg\" title=\"图像识别薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E5%9B%BE%E5%83%8F%E8%AF%86%E5%88%AB.jpg\" alt=\"图像识别薪资分布\" title=\"图像识别薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505运维工程师.jpg\" title=\"运维工程师薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E8%BF%90%E7%BB%B4%E5%B7%A5%E7%A8%8B%E5%B8%88.jpg\" alt=\"运维工程师薪资分布\" title=\"运维工程师薪资分布\"></a></p>\n<h4 id=\"企业融资因素\"><a href=\"#企业融资因素\" class=\"headerlink\" title=\"企业融资因素\"></a>企业融资因素</h4><p>下面展示了不同融资情况的企业的薪资分布情况：</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1505不需要融资.jpg\" title=\"不需要融资薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E4%B8%8D%E9%9C%80%E8%A6%81%E8%9E%8D%E8%B5%84.jpg\" alt=\"不需要融资薪资分布\" title=\"不需要融资薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505未融资.jpg\" title=\"未融资薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E6%9C%AA%E8%9E%8D%E8%B5%84.jpg\" alt=\"未融资薪资分布\" title=\"未融资薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505天使轮.jpg\" title=\"天使轮薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E5%A4%A9%E4%BD%BF%E8%BD%AE.jpg\" alt=\"天使轮薪资分布\" title=\"天使轮薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505A轮.jpg\" title=\"A轮薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505A%E8%BD%AE.jpg\" alt=\"A轮薪资分布\" title=\"A轮薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505B轮.jpg\" title=\"B轮薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505B%E8%BD%AE.jpg\" alt=\"B轮薪资分布\" title=\"B轮薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505C轮.jpg\" title=\"C轮薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505C%E8%BD%AE.jpg\" alt=\"C轮薪资分布\" title=\"C轮薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505D轮及以上.jpg\" title=\"D轮及以上薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505D%E8%BD%AE%E5%8F%8A%E4%BB%A5%E4%B8%8A.jpg\" alt=\"D轮及以上薪资分布\" title=\"D轮及以上薪资分布\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t1505上市公司.jpg\" title=\"上市公司薪资分布\"><img src=\"http://cdn.zizaixian.top/2019/10/t1505%E4%B8%8A%E5%B8%82%E5%85%AC%E5%8F%B8.jpg\" alt=\"上市公司薪资分布\" title=\"上市公司薪资分布\"></a></p>\n<h3 id=\"职位诱惑\"><a href=\"#职位诱惑\" class=\"headerlink\" title=\"职位诱惑\"></a>职位诱惑</h3><p>　　几乎每个企业都会在招聘公告上写一些自己公司的“优势”，也叫职位诱惑，下面用词云的形式展示了职位诱惑中出现频率最高的50个词汇：</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t1655.jpg\" title=\"职位诱惑词频统计\"><img src=\"http://cdn.zizaixian.top/2019/10/t1655.jpg\" alt=\"职位诱惑词频统计\" title=\"职位诱惑词频统计\"></a></p>\n<p><em>注：分词器把“五险一金”分成了“五险”和“一金”两个词，实际上这是一个词。</em></p>\n<blockquote>\n<p>科普：五险一金，指中国用人单位给予劳动者的几种保障性待遇的合称。“五险”指五种社会保险，包括养老保险、医疗保险、失业保险、工伤保险、生育保险，“一金”是指住房公积金。— 摘自维基百科</p>\n</blockquote>\n<h3 id=\"技能要求\"><a href=\"#技能要求\" class=\"headerlink\" title=\"技能要求\"></a>技能要求</h3><p>每个企业都会在招聘公告上明确的指出求职者应该具备哪些技能，不同职位的技能要求侧重点是不同的，但是也有一些普遍的要求。下面仍然采用词云的形式展示了几个热门职位或技术的技能要求高频词汇：</p>\n<p><a href=\"http://cdn.zizaixian.top/2019/10/t2008后端开发.jpg\" title=\"后端开发技能要求词汇统计\"><img src=\"http://cdn.zizaixian.top/2019/10/t2008%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91.jpg\" alt=\"后端开发技能要求词汇统计\" title=\"后端开发技能要求词汇统计\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t2008前端开发.jpg\" title=\"前端开发技能要求词汇统计\"><img src=\"http://cdn.zizaixian.top/2019/10/t2008%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91.jpg\" alt=\"前端开发技能要求词汇统计\" title=\"前端开发技能要求词汇统计\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t2008全栈工程师.jpg\" title=\"全栈工程师技能要求词汇统计\"><img src=\"http://cdn.zizaixian.top/2019/10/t2008%E5%85%A8%E6%A0%88%E5%B7%A5%E7%A8%8B%E5%B8%88.jpg\" alt=\"全栈工程师技能要求词汇统计\" title=\"全栈工程师技能要求词汇统计\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t2008移动开发.jpg\" title=\"移动开发技能要求词汇统计\"><img src=\"http://cdn.zizaixian.top/2019/10/t2008%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91.jpg\" alt=\"移动开发技能要求词汇统计\" title=\"移动开发技能要求词汇统计\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t2008运维.jpg\" title=\"运维技能要求词汇统计\"><img src=\"http://cdn.zizaixian.top/2019/10/t2008%E8%BF%90%E7%BB%B4.jpg\" alt=\"运维技能要求词汇统计\" title=\"运维技能要求词汇统计\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t2008C.jpg\" title=\"C++技能要求词汇统计\"><img src=\"http://cdn.zizaixian.top/2019/10/t2008C.jpg\" alt=\"C++技能要求词汇统计\" title=\"C++技能要求词汇统计\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t2008Java.jpg\" title=\"Java技能要求词汇统计\"><img src=\"http://cdn.zizaixian.top/2019/10/t2008Java.jpg\" alt=\"Java技能要求词汇统计\" title=\"Java技能要求词汇统计\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t2008PHP.jpg\" title=\"PHP技能要求词汇统计\"><img src=\"http://cdn.zizaixian.top/2019/10/t2008PHP.jpg\" alt=\"PHP技能要求词汇统计\" title=\"PHP技能要求词汇统计\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t2008Python.jpg\" title=\"Python技能要求词汇统计\"><img src=\"http://cdn.zizaixian.top/2019/10/t2008Python.jpg\" alt=\"Python技能要求词汇统计\" title=\"Python技能要求词汇统计\"></a><br><a href=\"http://cdn.zizaixian.top/2019/10/t2008人工智能.jpg\" title=\"人工智能技能要求词汇统计\"><img src=\"http://cdn.zizaixian.top/2019/10/t2008%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD.jpg\" alt=\"人工智能技能要求词汇统计\" title=\"人工智能技能要求词汇统计\"></a></p>\n<p>【注】统计高频词汇的过程中已经过滤掉了无意义的词，例如“熟悉”、“精通”、“具备”、“掌握”、“扎实”等词汇，保留“经验”一词旨在说明企业十分看中求职者对某一特定技术的使用经验。</p>\n<h3 id=\"写在最后\"><a href=\"#写在最后\" class=\"headerlink\" title=\"写在最后\"></a>写在最后</h3><p>　　首先要感谢您能读到这里，感谢您在百忙之中读完我的这篇不严谨且存在诸多纰漏的文章。我从没有系统的学习过数据分析，只是凭借着兴趣做了这件事情，如果您能对文中的数据分析提出任何异议或者建设性意见的话，不胜感激。</p>\n<p>　　未来的路还很长，也许有些人在刚走出校门时会遇到一些困难，而有的人可能会走的相对顺利一些。每个人的都有属于自己的目标与理想，没必要攀比些什么，做好眼前的每一件小事，向往着一个不会比今天更糟的明天，一切都会有个好的结果。</p>\n<p>　　最后，一首冯唐的诗，送给自己以及即将迈出校门的年轻人：<br>　　<strong>尚未佩妥剑，转眼便江湖。</strong><br>　　<strong>愿历尽千帆，归来仍少年。</strong></p>"},{"title":"看懂了《让子弹飞》就理解了毛泽东和文革(转载)","date":"2019-12-05T15:08:41.000Z","reward":true,"toc":true,"_content":"\n　　遍观姜文的作品，无论是如《鬼子来了》鞭辟入里的分析国民性格，还是反映“火红”年代所特有的青春期的骚动——《阳光灿烂的日子》，抑或是满篇充满政治隐喻的《太阳照常升起》，他的每部作品都与中国近现代史分不开。不论你持何种态度，不可否认对于20世纪的中国——影响最大的人物无疑是毛泽东了，姜文的作品显然也是绕不开毛泽东的，姜文曾多次说过他一生最崇拜以及最想演绎的角色就是毛泽东，“我演的毛泽东可能是通不过的。我觉得他可以把几万人带着迁徙，又没有补助费，像摩西出埃及一样。这种东西是精神上的，但他也很矛盾，很有悲剧性......我很幸运曾经跟他（毛）生活过一段。他是中国这几千年来能够冒出头儿来的这么三、五人中的其中一个。他跟旁边的人没法比，什么蒋介石，个儿太矬了......现在太多的恩怨，对他，会扭曲了他的精神。”\n<!-- More -->\n　　找准了全片思想落脚点，如果对中国近代史稍有常识，就可读懂片中很多怪异场景的象征意义：鹅城：象征“五四”之前的中国，在片中多次出现的“鹅”显然象征着受精英阶层愚弄摆布数千年的劳苦百姓，它的身上有很多中国劳动人民的特质——自私、麻木、愚昧最主要的是一盘散沙...马拉火车：火车是工业时代动力的象征，马匹是农业社会动力的象征，此处显然暗讽某国的精英阶层外表上虽然接受了西方工业文明，但骨子里的价值观、政治形态还是封建农业社会的那一套...上海、浦东：“老上海”是上世纪二三十年代民国的缩影，也是权贵资本家的乐园，而“浦东”是邓爷爷改革开放下才有的产物，片尾张麻子的兄弟们坐着片头马邦德的“马拉火车”去了上海，尤其那句“浦东就是上海，上海就是浦东”露骨之极，其暗喻不言而喻...\n\n　　张麻子：一辈子致力于建立一个人人平等、社会公平的新世界的革命者（他来鹅城就为三件事“公平、公平还是他妈的的公平”）。推翻现有的反动阶层只是“万里长征的第一步”，对旧中国维护精英阶层的“道统观”的全面反叛以此建立一个没有剥削、没有压迫的新社会，才是张麻子的最大理想。在精英眼里一脸麻子的“张麻子”不但脸上没有麻子，而且浩然正气的他还有个非常“精英化”的名字——张牧之，牧之、润之，都是“泽披万民”之意，结合姜文演绎的张麻子的一生，显然张麻子就是姜文一直想演绎的毛泽东！\n\n　　张麻子的兄弟：和毛泽东打天下的兄弟们——很久以前和黄四郎一起为“辛亥革命”出过力，但革命成功后因为“惹不起”城里的官老爷们跟着毛上了山、当了匪（因为所代表阶层利益不同、国共分家），此后在毛的带领下经历千辛万苦推翻了“国民党反动派”，和毛一道准备建立一个没有剥削、没有压迫的公平社会，可惜在毛死后兄弟们却背叛了当初的誓言，坐着片头出现的马邦德的“马拉火车”去了“浦东”，从此中国又走了民国时代“权贵资本主义”的老路...\n\n　　六子：以毛岸英为代表的单纯的左派知识分子——众所周知，毛泽东的长子毛岸英在朝鲜战争中的阵亡是毛失去的第六位亲人（墓碑上“六”的手势也暗示这一点），而且在片中张麻子和六子私下以“父子”相称，但在公众面前又是“兄弟”，很符合现实中的角色的定位——当年毛泽东和毛岸英在人伦面前是父子，在志向方面又是同志！毛岸英和很多如陈独秀、瞿秋白之类的知识分子一样，在中国积淀了几千年的政治厚黑学面前幼稚的跟婴孩一般，所以片中的六子为了一份不起眼凉粉被反动势力轻而易举“玩死了”，而且死后完全得不到人民大众的尊重（毛岸英也是如此）！同时，剧中张麻子也对这个群体给予很大期望——让他出国留学学习西方先进的自然科学、感受西方如莫扎特音乐般的人文教育，远离中国几千年无比黑暗的政治。很多人暗传毛送其长子去朝鲜是为了“镀金”，回来好接班，谁知道为了一碗“蛋炒饭”送了命——其实这些人口中的“蛋炒饭”何尝不是六子肚子里那碗“凉粉”呢？！汤师爷的所谓“杀人诛心”就是如此吧！\n\n　　马邦徳及其夫人：一个为钱（葛优扮演的财迷心窍师爷）、一个为权（只要能做“县长夫人”不在乎县长是谁的妓女），他夫妻俩基本就是中国自古以来绝大多数知识分子的典型代表、现在活跃在各个领域善于忽悠大众的“专家”，利用掌握先进知识的优越性，长期和官僚阶层媾和，采取各种高超手段愚昧民众以便“合法化”的去搜刮“穷鬼”的钱财，片中的“假麻子”就是长期搜刮民财常用的道具之一...\n\n　　黄四郎：中国历来反动势力的代表，是集“王权、绅权、族权”为一身的封建势力，比如蒋——从片中可知：他出生豪门、去日本留过学，曾经为辛亥革命做出很大贡献，是千千万万“精英阶层”的代表者，推翻满清后黄四郎没有为广大人民的利益去继续革命，进城后迅速蜕变为骑在人民头上作威作福的“大老爷”（这些经历都与蒋极其相似），而且还是“铁打的老爷”，汤师爷之流仅仅是“流水的县长”，利用自身强大的武装政权和绝对的官僚权威经营着南中国全部的鸦片生意并且还贩卖人口去USA赚“dollar”，成了政治大老板刘都统“三条腿”中最粗的一条（“三条腿”暗指“三座大山”——封建主义、官僚主义、帝国主义）\n\n　　黄四郎的替身：暗指中国所特有“官僚主义权威”——无论是满清皇帝还是蒋政权，仅仅是官僚主义的替身罢了，近代的中国民众一次次的用“无量头颅无量血”换来的“共和”自以为是成功了，实质上却是赶下了一个旧的“官老爷”又迎来一个新的“官老爷”，民众的社会地位、政治地位仍没有实质改变，每次改朝换代死去的仅仅是“替身”罢了，“官僚主义”依然在社会现实以及传统文化中长期存在，这显然不仅仅是所谓西方先进政治体制就能完全解决的...\n\n　　有人说“最了解中国人的是鲁迅，最了解中国的是毛泽东”，张麻子可谓谙熟上层精英阶层和底层劳苦大众的活动心理，在底层人民眼里统治阶层永远都是那么强大、尤其黄府高耸铁门后的神秘感让人不寒而栗，但张麻子很清楚其实在团结起来的人民群众面前，再强大的反动阶层仅仅是“纸老虎”罢了，了解底层民众心里的张麻子用黄四郎“替身”的脑袋欺骗了人民大众，他表面上砍下的仅仅是一个替身的脑袋，但对民众来说却是摧毁了整个反动阶层的“官僚主义威权”，黄四郎让民众惧怕的不是杀人不眨眼的武举人、不是看似高耸的大铁门，而是劳苦大众长期以来对精英阶层顶礼膜拜的奴性罢了，鲁迅笔下反映的旧中国就道出了这一点，这就是中国实行科举制后长期存在于中国、并成为中国发展的社会毒瘤——“官僚主义权威”，可怜的黄四郎“替身”在群众的欢呼中被张麻子砍下了脑袋，同样也砍下了黄四郎平时鱼肉百姓、作威作福的“权威”，此时的鹅城百姓再无顾虑了，铁门后藏着的仅仅是一个纸老虎罢了！\n\n　　在攻下黄府前，张麻子在象征着反动势力权威的大门上打了一个大大的“感叹号”，其用意是表达一个旧时代将要结束了；而让自己兄弟打下了一个“问号”，显然张麻子对自己兄弟们在攻下黄府后会不会蜕变成下一个“黄四郎”是存在很大疑问的，片尾可以看出张麻子的这种疑问显然不是多余的……\n\n　　攻下黄府后，革命似乎成功了，民众拿回了属于自己的财富，而张麻子对财富、美色似乎没有什么兴趣，甚至连身后那把“交椅”也可以让于别人，但黄四郎显然没有张麻子的精神境界，他认为张麻子要么为了取得如他那般的权势地位、要么是为了他黄家五代人搜刮来的财富，而他却告诉黄四郎说：“你跟钱都不重要！没有你，对我很重要！”原来，张麻子是要消灭一切剥削人、压迫人的社会制度啊——这正是毛 建立新中国后所谓的“这仅仅是万里长征的第一步”的背后深意，他要摧毁的不是蒋介石的反动政权，他还要建立一个人人平等、社会公平的新世界，打破中国自古改朝换代、“打江山、坐江山”的历史周期律，这样远大的抱负显然是很多底层民众包括当是很多中共高层是无法理解的，这也是为什么很多民众尤其老帅们很自然的认为“三反五反”、“反右派”甚至“文革”等一系列打击整个“官僚精英阶层”的群众性政治运动，是毛泽东为了自身争权夺利的需要——其实这种推测根本不值一驳，叶剑英承认在长征以后，毛在党内的地位根本无人能撼动了，何况建国后刘、邓等资历差一大截的小辈！\n\n　　本片的结尾很好的呼应了片头，张麻子的兄弟们坐着马邦德的“马拉火车”和花姐就准备去权贵资本家的乐园——上海，寻找新的生活了，此时新的革命者又走了旧的统治者的老路！\n\n　　片尾，攻打黄府时，张麻子曾在黄家大门上打的“问号”成为了现实——\n　　张麻子问众人：“不跟我回山里了？”\n　　兄弟们道：“你腿脚都不利落了，还回山里啊。”\n　　张又问花姐：“你不是要跟我当麻匪到处发钱吗？”\n　　花姐：“今天不是把钱全发光了吗，还有比这更过瘾的？”\n　　张不甘心有问到：“和我在一起不高心吗？”\n　　众人道：“高兴，但不轻松、不轻松……”\n\n　　张麻子的兄弟们在革命成功后，准备和麻子分道扬镳了，建国后，毛 的“亲密”战友们也是感同身受吧：经历了红军反围剿、万里长征、抗日战争、解放战争，跟着毛 打江山、创造历史当然是很刺激很高兴的了……但好不容易打败了蒋介石坐了江山，这时候正应该论功行赏、大块吃肉的时候，打江山不就为了坐江山嘛，不然兄弟们这么多年血风腥雨的革命为了啥啊？！但大哥却让我们再回到清苦的山里当“麻匪”、劫富济贫——再时时刻刻把群众利益放在心里、把为人民服务放在第一位，甚至要和老百姓“同吃、同住、同劳动”保持艰苦朴素的本色，办事情还得看群众脸色、弄不好还要遭群众批斗……这活的也太不轻松了（毛时代的干部就是这样的），还是搭上改革开放的春风去了上海快活啊！\n\n　　到了六十年代毛敏锐的察觉到，有些曾经在战场上出生入死的老革命开始特权享受，放松自己、膨胀了私欲，置人民的利益而不顾，党内特权思想、官僚主义盛行——正如毛所说的“一部分party员不想继续革命了，有些人后退了，反对革命了，为什么呢？作了大官了，要保护大官们的利益。他们有了好房子，有汽车，薪水高，还有服务员，比资本家还厉害”……难道革命了几十年牺牲那么多战友这么短时间官僚主义就“复辟”了？可是此时身边出生入死的战友们没有人再愿意继续革命了，这时他又想到了他为之奋斗一生的人民，从旧中国走过来的中国人民的整体国民素质是令人堪忧的，毛泽东深知中国人在思想上受到宋明伪儒家思想的毒害之深，深知中国的底层民众对自己的要求一直依然是鲁迅笔下的那群事不关己高、高挂起的心态，他觉得只有人民的思想觉悟实质提高了、人民接受了先进的平等理念，只有这样才能有效防止“官僚阶层”走向人民对立面甚至骑在人民头上作威作福，所以毛泽东接见群众时不断强调“要少一点奴性，多一点主人翁的自尊心.”——不然空有所谓“民主”制度的印度为何至今还不能摆脱奴隶社会种姓制度的桎酷？！\n\n　　在这种背景下，晚年的毛泽东决定孤注一掷，发动一场全民性的、自下而上的，以革新文化思想以及打击整个官僚精英阶层为初衷的“文化大革命”，熟读史书的毛泽东显然知道得罪掌握话语权的官僚阶层尤其知识分子，将来会在历史上留下怎样的“恶名”（“我就在二十世纪六十年代当了共产党的钟馗了。事物总是要走向反面的，吹得越高，跌得越重，我是准备跌得粉碎的。”），但我们从毛的诗词中可以明显感觉到他首先是一位理想主义至上的英雄，对于身后名是完全不在乎的，晚年的他又开始了生命里的“第二次长征”——只是这一次，他蓦然回首，再也看不到那支曾经追随他、为了民族的自由和光明而一往无前、浩浩荡荡的革命队伍——夕阳西下、漫漫征途中陪伴他的只有自己孤独的身影……\n\n　　毛死后，理想主义的红旗落地了，没有人再去追求什么所谓的“社会公平”，一切向钱看了，正如他预言的那般“老百姓要吃二遍苦、遭二茬罪” 的。正如张麻子所说“死人有时比活人有用”，权贵们一边把毛泽东作为“无害神像”挂在城楼上、企图透支毛泽东所创造的丰功伟绩所带给他们的历史合法性，一边大搞黑毛和私有化运动、利用工农阶层的血汗来充实自己的腰包，“扛着红旗反红旗”不也是黄四郎的手段吗——\n\n　　在红军革命根据地时期，“朱毛”红军被蒋介石宣传成“共产共妻”、杀人不眨眼的“土匪”；在当下的“盛世中国”，毛泽东被权贵、精英们诅咒其为“暴君”、“屠夫”甚至是“20世纪人类的三大恶魔之一”。精英们恨不能对其挫骨扬灰，说明在受过毛时代不断的全民性政治运动启蒙后的中国人民面前，他们的内心是极度恐慌的，必定鲁迅笔下的中国人在渐渐减少！自古以来，黄四郎们都是先大肆诋毁真革命者为“麻匪”，然后把自己伤天害理的全部罪责推到“张麻子”身上，再以“剿匪”之名搜刮民脂民膏，这才是真正的“杀人诛心”、用心何其险恶！\n\n　　这个在精英眼里满脸麻子的毛润之到底给中国带来了什么“灾难”呢:\n　　在他执政的短短的二十七年间，无论是在朝鲜战争、对印自卫反击、还是苏俄在边境陈兵百万，毛泽东从未向这些强敌屈服\n过，中国通过一系列对外战争、卓有成效的外交行动重新获得了世界的尊重和认可，尤其是毛泽东以众横捭阖的高超战略、超人的胆识斡旋于美苏两强之间，为中国赢得了巨大的政治外交红利，至今受益。\n\n　　在短短的二十七年间，在辽阔的中国大地上，一举消灭了为害千年的匪患，肃清了黑社会帮派势力和一切扰乱社会、残害人民的黑恶势力，社会秩序空前安定。毛时代的犯罪率是中国历史最低的。\n\n　　在短短的二十七年间，在辽阔的中国大地上，彻底扫除了自清末以来全民吸食鸦片的恶习，铲除了危害国民身体、国民精神健康的“陋习”——如童养媳、裹脚、纳妾、男尊女卑等等，民族精神面貌也随之焕然一新；千百年来摧残和迫害妇女的卖淫、嫖娼的社会污泥浊水，被荡涤无存，妓女被改造为自食其力的劳动者，并且给予其应有人格尊严，中国只有在毛时代才真正算彻底消灭了“黄赌毒”。\n\n　　在短短的二十七年间，在辽阔的中国大地上，文化教育事业快速发展，扫除大量文盲，大力普及基础教育，从49年以前全国80%以上的文盲率，到70年代中国大地上新的一代青少年普遍都受过几乎免费的初等教育，中国人从没有把知识的学习如此“草根化”过。\n\n　　在短短的二十七年间，在辽阔的中国大地上，医疗卫生事业快速发展，消灭或基本消灭了多种存在于广大农村的传染病，如鼠疫、霍乱、天花等。在国家物质极其匮乏的年代，依靠合作医疗、赤脚医生、农村三级卫生保健网这“三大法宝”， 为中国数亿农民提供了最基本的医疗服务，并赢得世界赞誉。在27年内中国人口平均寿命从35岁提高到65岁。\n\n　　最为可贵的是，以刚建国时期一个长期积贫积弱、饱受战乱的极端落后的农业国，毛带领中国人民节衣缩食、自力更生在短短27年的时间里，建立成拥有完整轻重工业体系的世界第六大工业国，甚至还在航天核武电子等方面走在了世界前列，走完了西方主要老牌工业国100年才能完成的国家“工业化浪潮”，没有这些辉煌的成就奠基——“伟大”的总设计师用什么去改革开放呢？\n\n　　郁达夫曾说：“没有伟大人物出现的民族，是世界上最可怜的生物群体；有了伟大的人物，而不知拥护、爱戴、崇仰的国家，是没有希望的奴隶之邦。”\n\n　　就是这样一个彻底扭转中国几百年衰败国运、有“再造中华”之功并且享有世界普遍赞誉的伟人，在精英统治者眼中确实满脸麻子、奇丑无比，而且还是“悍匪”（如今暴君、屠夫纷至沓来），因为毛泽东彻底扯下了数千年来官僚阶层愚民术的最后一块遮羞布——群众在打到“官僚权威”、“学术权威”口号下，通过一系列政治运动让官僚和文人彻底丢尽了“脸面”，摧毁了官僚主义在人民群众中积攒了数千年的“权威”——正如毛所说的，“五帝三皇神圣事，骗了无涯过客”。\n\n　　张麻子为民做了主，民众下跪高呼“青天大老爷”，可张麻子鸣枪警醒大家：不能跪，早就没皇帝老子了，哪来的青天大老爷——毛设想的国人正如他诗中说道“春风杨柳万千条,六亿神州尽舜尧”，每个中国人都能有人格尊严、有独立精神的活着……\n\n　　毛泽东的晚年注定是孤独、凄凉的，正如剧中的结尾：昔日的战友尽数背叛了当初“上山”当“土匪”时的誓言，拥着花姐一路欢笑去了上海开始了“新”的生活；而暂时过上安逸生活的鹅城百姓又把“革命”高高挂了起来，并且又乐于“青天大老爷”为自己做主了；只有他仍不服输，和来鹅城前一样——骑着白马、一身戎装落寞的策马奔腾在夕阳中，他要永葆“山匪”的本色。\n\n　　正如尼克松评价道：“无论人们对毛有怎样的看法，谁也否认不了他是一位战斗到最后一息的战士。”，此时想必姜文也明白，唯有片尾李叔同的那首《送别》才能表达出毛泽东此时孤独落寞的心境：\n\n　　长亭外，古道边，芳草碧连天。晚风拂柳笛声残，夕阳山外山。天之涯，地之角，知交半零落。一壶浊酒尽余欢，今宵别梦寒……\n","source":"_posts/看懂了《让子弹飞》就理解了毛泽东和文革(转载).md","raw":"---\ntitle: 看懂了《让子弹飞》就理解了毛泽东和文革(转载)\ndate: 2019-12-05 23:08:41\npermalink: 3\ncategories: 一个人\ntags: 思考\nreward: true\ntoc: true\n---\n\n　　遍观姜文的作品，无论是如《鬼子来了》鞭辟入里的分析国民性格，还是反映“火红”年代所特有的青春期的骚动——《阳光灿烂的日子》，抑或是满篇充满政治隐喻的《太阳照常升起》，他的每部作品都与中国近现代史分不开。不论你持何种态度，不可否认对于20世纪的中国——影响最大的人物无疑是毛泽东了，姜文的作品显然也是绕不开毛泽东的，姜文曾多次说过他一生最崇拜以及最想演绎的角色就是毛泽东，“我演的毛泽东可能是通不过的。我觉得他可以把几万人带着迁徙，又没有补助费，像摩西出埃及一样。这种东西是精神上的，但他也很矛盾，很有悲剧性......我很幸运曾经跟他（毛）生活过一段。他是中国这几千年来能够冒出头儿来的这么三、五人中的其中一个。他跟旁边的人没法比，什么蒋介石，个儿太矬了......现在太多的恩怨，对他，会扭曲了他的精神。”\n<!-- More -->\n　　找准了全片思想落脚点，如果对中国近代史稍有常识，就可读懂片中很多怪异场景的象征意义：鹅城：象征“五四”之前的中国，在片中多次出现的“鹅”显然象征着受精英阶层愚弄摆布数千年的劳苦百姓，它的身上有很多中国劳动人民的特质——自私、麻木、愚昧最主要的是一盘散沙...马拉火车：火车是工业时代动力的象征，马匹是农业社会动力的象征，此处显然暗讽某国的精英阶层外表上虽然接受了西方工业文明，但骨子里的价值观、政治形态还是封建农业社会的那一套...上海、浦东：“老上海”是上世纪二三十年代民国的缩影，也是权贵资本家的乐园，而“浦东”是邓爷爷改革开放下才有的产物，片尾张麻子的兄弟们坐着片头马邦德的“马拉火车”去了上海，尤其那句“浦东就是上海，上海就是浦东”露骨之极，其暗喻不言而喻...\n\n　　张麻子：一辈子致力于建立一个人人平等、社会公平的新世界的革命者（他来鹅城就为三件事“公平、公平还是他妈的的公平”）。推翻现有的反动阶层只是“万里长征的第一步”，对旧中国维护精英阶层的“道统观”的全面反叛以此建立一个没有剥削、没有压迫的新社会，才是张麻子的最大理想。在精英眼里一脸麻子的“张麻子”不但脸上没有麻子，而且浩然正气的他还有个非常“精英化”的名字——张牧之，牧之、润之，都是“泽披万民”之意，结合姜文演绎的张麻子的一生，显然张麻子就是姜文一直想演绎的毛泽东！\n\n　　张麻子的兄弟：和毛泽东打天下的兄弟们——很久以前和黄四郎一起为“辛亥革命”出过力，但革命成功后因为“惹不起”城里的官老爷们跟着毛上了山、当了匪（因为所代表阶层利益不同、国共分家），此后在毛的带领下经历千辛万苦推翻了“国民党反动派”，和毛一道准备建立一个没有剥削、没有压迫的公平社会，可惜在毛死后兄弟们却背叛了当初的誓言，坐着片头出现的马邦德的“马拉火车”去了“浦东”，从此中国又走了民国时代“权贵资本主义”的老路...\n\n　　六子：以毛岸英为代表的单纯的左派知识分子——众所周知，毛泽东的长子毛岸英在朝鲜战争中的阵亡是毛失去的第六位亲人（墓碑上“六”的手势也暗示这一点），而且在片中张麻子和六子私下以“父子”相称，但在公众面前又是“兄弟”，很符合现实中的角色的定位——当年毛泽东和毛岸英在人伦面前是父子，在志向方面又是同志！毛岸英和很多如陈独秀、瞿秋白之类的知识分子一样，在中国积淀了几千年的政治厚黑学面前幼稚的跟婴孩一般，所以片中的六子为了一份不起眼凉粉被反动势力轻而易举“玩死了”，而且死后完全得不到人民大众的尊重（毛岸英也是如此）！同时，剧中张麻子也对这个群体给予很大期望——让他出国留学学习西方先进的自然科学、感受西方如莫扎特音乐般的人文教育，远离中国几千年无比黑暗的政治。很多人暗传毛送其长子去朝鲜是为了“镀金”，回来好接班，谁知道为了一碗“蛋炒饭”送了命——其实这些人口中的“蛋炒饭”何尝不是六子肚子里那碗“凉粉”呢？！汤师爷的所谓“杀人诛心”就是如此吧！\n\n　　马邦徳及其夫人：一个为钱（葛优扮演的财迷心窍师爷）、一个为权（只要能做“县长夫人”不在乎县长是谁的妓女），他夫妻俩基本就是中国自古以来绝大多数知识分子的典型代表、现在活跃在各个领域善于忽悠大众的“专家”，利用掌握先进知识的优越性，长期和官僚阶层媾和，采取各种高超手段愚昧民众以便“合法化”的去搜刮“穷鬼”的钱财，片中的“假麻子”就是长期搜刮民财常用的道具之一...\n\n　　黄四郎：中国历来反动势力的代表，是集“王权、绅权、族权”为一身的封建势力，比如蒋——从片中可知：他出生豪门、去日本留过学，曾经为辛亥革命做出很大贡献，是千千万万“精英阶层”的代表者，推翻满清后黄四郎没有为广大人民的利益去继续革命，进城后迅速蜕变为骑在人民头上作威作福的“大老爷”（这些经历都与蒋极其相似），而且还是“铁打的老爷”，汤师爷之流仅仅是“流水的县长”，利用自身强大的武装政权和绝对的官僚权威经营着南中国全部的鸦片生意并且还贩卖人口去USA赚“dollar”，成了政治大老板刘都统“三条腿”中最粗的一条（“三条腿”暗指“三座大山”——封建主义、官僚主义、帝国主义）\n\n　　黄四郎的替身：暗指中国所特有“官僚主义权威”——无论是满清皇帝还是蒋政权，仅仅是官僚主义的替身罢了，近代的中国民众一次次的用“无量头颅无量血”换来的“共和”自以为是成功了，实质上却是赶下了一个旧的“官老爷”又迎来一个新的“官老爷”，民众的社会地位、政治地位仍没有实质改变，每次改朝换代死去的仅仅是“替身”罢了，“官僚主义”依然在社会现实以及传统文化中长期存在，这显然不仅仅是所谓西方先进政治体制就能完全解决的...\n\n　　有人说“最了解中国人的是鲁迅，最了解中国的是毛泽东”，张麻子可谓谙熟上层精英阶层和底层劳苦大众的活动心理，在底层人民眼里统治阶层永远都是那么强大、尤其黄府高耸铁门后的神秘感让人不寒而栗，但张麻子很清楚其实在团结起来的人民群众面前，再强大的反动阶层仅仅是“纸老虎”罢了，了解底层民众心里的张麻子用黄四郎“替身”的脑袋欺骗了人民大众，他表面上砍下的仅仅是一个替身的脑袋，但对民众来说却是摧毁了整个反动阶层的“官僚主义威权”，黄四郎让民众惧怕的不是杀人不眨眼的武举人、不是看似高耸的大铁门，而是劳苦大众长期以来对精英阶层顶礼膜拜的奴性罢了，鲁迅笔下反映的旧中国就道出了这一点，这就是中国实行科举制后长期存在于中国、并成为中国发展的社会毒瘤——“官僚主义权威”，可怜的黄四郎“替身”在群众的欢呼中被张麻子砍下了脑袋，同样也砍下了黄四郎平时鱼肉百姓、作威作福的“权威”，此时的鹅城百姓再无顾虑了，铁门后藏着的仅仅是一个纸老虎罢了！\n\n　　在攻下黄府前，张麻子在象征着反动势力权威的大门上打了一个大大的“感叹号”，其用意是表达一个旧时代将要结束了；而让自己兄弟打下了一个“问号”，显然张麻子对自己兄弟们在攻下黄府后会不会蜕变成下一个“黄四郎”是存在很大疑问的，片尾可以看出张麻子的这种疑问显然不是多余的……\n\n　　攻下黄府后，革命似乎成功了，民众拿回了属于自己的财富，而张麻子对财富、美色似乎没有什么兴趣，甚至连身后那把“交椅”也可以让于别人，但黄四郎显然没有张麻子的精神境界，他认为张麻子要么为了取得如他那般的权势地位、要么是为了他黄家五代人搜刮来的财富，而他却告诉黄四郎说：“你跟钱都不重要！没有你，对我很重要！”原来，张麻子是要消灭一切剥削人、压迫人的社会制度啊——这正是毛 建立新中国后所谓的“这仅仅是万里长征的第一步”的背后深意，他要摧毁的不是蒋介石的反动政权，他还要建立一个人人平等、社会公平的新世界，打破中国自古改朝换代、“打江山、坐江山”的历史周期律，这样远大的抱负显然是很多底层民众包括当是很多中共高层是无法理解的，这也是为什么很多民众尤其老帅们很自然的认为“三反五反”、“反右派”甚至“文革”等一系列打击整个“官僚精英阶层”的群众性政治运动，是毛泽东为了自身争权夺利的需要——其实这种推测根本不值一驳，叶剑英承认在长征以后，毛在党内的地位根本无人能撼动了，何况建国后刘、邓等资历差一大截的小辈！\n\n　　本片的结尾很好的呼应了片头，张麻子的兄弟们坐着马邦德的“马拉火车”和花姐就准备去权贵资本家的乐园——上海，寻找新的生活了，此时新的革命者又走了旧的统治者的老路！\n\n　　片尾，攻打黄府时，张麻子曾在黄家大门上打的“问号”成为了现实——\n　　张麻子问众人：“不跟我回山里了？”\n　　兄弟们道：“你腿脚都不利落了，还回山里啊。”\n　　张又问花姐：“你不是要跟我当麻匪到处发钱吗？”\n　　花姐：“今天不是把钱全发光了吗，还有比这更过瘾的？”\n　　张不甘心有问到：“和我在一起不高心吗？”\n　　众人道：“高兴，但不轻松、不轻松……”\n\n　　张麻子的兄弟们在革命成功后，准备和麻子分道扬镳了，建国后，毛 的“亲密”战友们也是感同身受吧：经历了红军反围剿、万里长征、抗日战争、解放战争，跟着毛 打江山、创造历史当然是很刺激很高兴的了……但好不容易打败了蒋介石坐了江山，这时候正应该论功行赏、大块吃肉的时候，打江山不就为了坐江山嘛，不然兄弟们这么多年血风腥雨的革命为了啥啊？！但大哥却让我们再回到清苦的山里当“麻匪”、劫富济贫——再时时刻刻把群众利益放在心里、把为人民服务放在第一位，甚至要和老百姓“同吃、同住、同劳动”保持艰苦朴素的本色，办事情还得看群众脸色、弄不好还要遭群众批斗……这活的也太不轻松了（毛时代的干部就是这样的），还是搭上改革开放的春风去了上海快活啊！\n\n　　到了六十年代毛敏锐的察觉到，有些曾经在战场上出生入死的老革命开始特权享受，放松自己、膨胀了私欲，置人民的利益而不顾，党内特权思想、官僚主义盛行——正如毛所说的“一部分party员不想继续革命了，有些人后退了，反对革命了，为什么呢？作了大官了，要保护大官们的利益。他们有了好房子，有汽车，薪水高，还有服务员，比资本家还厉害”……难道革命了几十年牺牲那么多战友这么短时间官僚主义就“复辟”了？可是此时身边出生入死的战友们没有人再愿意继续革命了，这时他又想到了他为之奋斗一生的人民，从旧中国走过来的中国人民的整体国民素质是令人堪忧的，毛泽东深知中国人在思想上受到宋明伪儒家思想的毒害之深，深知中国的底层民众对自己的要求一直依然是鲁迅笔下的那群事不关己高、高挂起的心态，他觉得只有人民的思想觉悟实质提高了、人民接受了先进的平等理念，只有这样才能有效防止“官僚阶层”走向人民对立面甚至骑在人民头上作威作福，所以毛泽东接见群众时不断强调“要少一点奴性，多一点主人翁的自尊心.”——不然空有所谓“民主”制度的印度为何至今还不能摆脱奴隶社会种姓制度的桎酷？！\n\n　　在这种背景下，晚年的毛泽东决定孤注一掷，发动一场全民性的、自下而上的，以革新文化思想以及打击整个官僚精英阶层为初衷的“文化大革命”，熟读史书的毛泽东显然知道得罪掌握话语权的官僚阶层尤其知识分子，将来会在历史上留下怎样的“恶名”（“我就在二十世纪六十年代当了共产党的钟馗了。事物总是要走向反面的，吹得越高，跌得越重，我是准备跌得粉碎的。”），但我们从毛的诗词中可以明显感觉到他首先是一位理想主义至上的英雄，对于身后名是完全不在乎的，晚年的他又开始了生命里的“第二次长征”——只是这一次，他蓦然回首，再也看不到那支曾经追随他、为了民族的自由和光明而一往无前、浩浩荡荡的革命队伍——夕阳西下、漫漫征途中陪伴他的只有自己孤独的身影……\n\n　　毛死后，理想主义的红旗落地了，没有人再去追求什么所谓的“社会公平”，一切向钱看了，正如他预言的那般“老百姓要吃二遍苦、遭二茬罪” 的。正如张麻子所说“死人有时比活人有用”，权贵们一边把毛泽东作为“无害神像”挂在城楼上、企图透支毛泽东所创造的丰功伟绩所带给他们的历史合法性，一边大搞黑毛和私有化运动、利用工农阶层的血汗来充实自己的腰包，“扛着红旗反红旗”不也是黄四郎的手段吗——\n\n　　在红军革命根据地时期，“朱毛”红军被蒋介石宣传成“共产共妻”、杀人不眨眼的“土匪”；在当下的“盛世中国”，毛泽东被权贵、精英们诅咒其为“暴君”、“屠夫”甚至是“20世纪人类的三大恶魔之一”。精英们恨不能对其挫骨扬灰，说明在受过毛时代不断的全民性政治运动启蒙后的中国人民面前，他们的内心是极度恐慌的，必定鲁迅笔下的中国人在渐渐减少！自古以来，黄四郎们都是先大肆诋毁真革命者为“麻匪”，然后把自己伤天害理的全部罪责推到“张麻子”身上，再以“剿匪”之名搜刮民脂民膏，这才是真正的“杀人诛心”、用心何其险恶！\n\n　　这个在精英眼里满脸麻子的毛润之到底给中国带来了什么“灾难”呢:\n　　在他执政的短短的二十七年间，无论是在朝鲜战争、对印自卫反击、还是苏俄在边境陈兵百万，毛泽东从未向这些强敌屈服\n过，中国通过一系列对外战争、卓有成效的外交行动重新获得了世界的尊重和认可，尤其是毛泽东以众横捭阖的高超战略、超人的胆识斡旋于美苏两强之间，为中国赢得了巨大的政治外交红利，至今受益。\n\n　　在短短的二十七年间，在辽阔的中国大地上，一举消灭了为害千年的匪患，肃清了黑社会帮派势力和一切扰乱社会、残害人民的黑恶势力，社会秩序空前安定。毛时代的犯罪率是中国历史最低的。\n\n　　在短短的二十七年间，在辽阔的中国大地上，彻底扫除了自清末以来全民吸食鸦片的恶习，铲除了危害国民身体、国民精神健康的“陋习”——如童养媳、裹脚、纳妾、男尊女卑等等，民族精神面貌也随之焕然一新；千百年来摧残和迫害妇女的卖淫、嫖娼的社会污泥浊水，被荡涤无存，妓女被改造为自食其力的劳动者，并且给予其应有人格尊严，中国只有在毛时代才真正算彻底消灭了“黄赌毒”。\n\n　　在短短的二十七年间，在辽阔的中国大地上，文化教育事业快速发展，扫除大量文盲，大力普及基础教育，从49年以前全国80%以上的文盲率，到70年代中国大地上新的一代青少年普遍都受过几乎免费的初等教育，中国人从没有把知识的学习如此“草根化”过。\n\n　　在短短的二十七年间，在辽阔的中国大地上，医疗卫生事业快速发展，消灭或基本消灭了多种存在于广大农村的传染病，如鼠疫、霍乱、天花等。在国家物质极其匮乏的年代，依靠合作医疗、赤脚医生、农村三级卫生保健网这“三大法宝”， 为中国数亿农民提供了最基本的医疗服务，并赢得世界赞誉。在27年内中国人口平均寿命从35岁提高到65岁。\n\n　　最为可贵的是，以刚建国时期一个长期积贫积弱、饱受战乱的极端落后的农业国，毛带领中国人民节衣缩食、自力更生在短短27年的时间里，建立成拥有完整轻重工业体系的世界第六大工业国，甚至还在航天核武电子等方面走在了世界前列，走完了西方主要老牌工业国100年才能完成的国家“工业化浪潮”，没有这些辉煌的成就奠基——“伟大”的总设计师用什么去改革开放呢？\n\n　　郁达夫曾说：“没有伟大人物出现的民族，是世界上最可怜的生物群体；有了伟大的人物，而不知拥护、爱戴、崇仰的国家，是没有希望的奴隶之邦。”\n\n　　就是这样一个彻底扭转中国几百年衰败国运、有“再造中华”之功并且享有世界普遍赞誉的伟人，在精英统治者眼中确实满脸麻子、奇丑无比，而且还是“悍匪”（如今暴君、屠夫纷至沓来），因为毛泽东彻底扯下了数千年来官僚阶层愚民术的最后一块遮羞布——群众在打到“官僚权威”、“学术权威”口号下，通过一系列政治运动让官僚和文人彻底丢尽了“脸面”，摧毁了官僚主义在人民群众中积攒了数千年的“权威”——正如毛所说的，“五帝三皇神圣事，骗了无涯过客”。\n\n　　张麻子为民做了主，民众下跪高呼“青天大老爷”，可张麻子鸣枪警醒大家：不能跪，早就没皇帝老子了，哪来的青天大老爷——毛设想的国人正如他诗中说道“春风杨柳万千条,六亿神州尽舜尧”，每个中国人都能有人格尊严、有独立精神的活着……\n\n　　毛泽东的晚年注定是孤独、凄凉的，正如剧中的结尾：昔日的战友尽数背叛了当初“上山”当“土匪”时的誓言，拥着花姐一路欢笑去了上海开始了“新”的生活；而暂时过上安逸生活的鹅城百姓又把“革命”高高挂了起来，并且又乐于“青天大老爷”为自己做主了；只有他仍不服输，和来鹅城前一样——骑着白马、一身戎装落寞的策马奔腾在夕阳中，他要永葆“山匪”的本色。\n\n　　正如尼克松评价道：“无论人们对毛有怎样的看法，谁也否认不了他是一位战斗到最后一息的战士。”，此时想必姜文也明白，唯有片尾李叔同的那首《送别》才能表达出毛泽东此时孤独落寞的心境：\n\n　　长亭外，古道边，芳草碧连天。晚风拂柳笛声残，夕阳山外山。天之涯，地之角，知交半零落。一壶浊酒尽余欢，今宵别梦寒……\n","slug":"3","published":1,"updated":"2020-01-07T07:49:29.769Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck541morg000iecfw8cql3jnq","content":"<p>　　遍观姜文的作品，无论是如《鬼子来了》鞭辟入里的分析国民性格，还是反映“火红”年代所特有的青春期的骚动——《阳光灿烂的日子》，抑或是满篇充满政治隐喻的《太阳照常升起》，他的每部作品都与中国近现代史分不开。不论你持何种态度，不可否认对于20世纪的中国——影响最大的人物无疑是毛泽东了，姜文的作品显然也是绕不开毛泽东的，姜文曾多次说过他一生最崇拜以及最想演绎的角色就是毛泽东，“我演的毛泽东可能是通不过的。我觉得他可以把几万人带着迁徙，又没有补助费，像摩西出埃及一样。这种东西是精神上的，但他也很矛盾，很有悲剧性……我很幸运曾经跟他（毛）生活过一段。他是中国这几千年来能够冒出头儿来的这么三、五人中的其中一个。他跟旁边的人没法比，什么蒋介石，个儿太矬了……现在太多的恩怨，对他，会扭曲了他的精神。”</p>\n<a id=\"more\"></a>\n<p>　　找准了全片思想落脚点，如果对中国近代史稍有常识，就可读懂片中很多怪异场景的象征意义：鹅城：象征“五四”之前的中国，在片中多次出现的“鹅”显然象征着受精英阶层愚弄摆布数千年的劳苦百姓，它的身上有很多中国劳动人民的特质——自私、麻木、愚昧最主要的是一盘散沙…马拉火车：火车是工业时代动力的象征，马匹是农业社会动力的象征，此处显然暗讽某国的精英阶层外表上虽然接受了西方工业文明，但骨子里的价值观、政治形态还是封建农业社会的那一套…上海、浦东：“老上海”是上世纪二三十年代民国的缩影，也是权贵资本家的乐园，而“浦东”是邓爷爷改革开放下才有的产物，片尾张麻子的兄弟们坐着片头马邦德的“马拉火车”去了上海，尤其那句“浦东就是上海，上海就是浦东”露骨之极，其暗喻不言而喻…</p>\n<p>　　张麻子：一辈子致力于建立一个人人平等、社会公平的新世界的革命者（他来鹅城就为三件事“公平、公平还是他妈的的公平”）。推翻现有的反动阶层只是“万里长征的第一步”，对旧中国维护精英阶层的“道统观”的全面反叛以此建立一个没有剥削、没有压迫的新社会，才是张麻子的最大理想。在精英眼里一脸麻子的“张麻子”不但脸上没有麻子，而且浩然正气的他还有个非常“精英化”的名字——张牧之，牧之、润之，都是“泽披万民”之意，结合姜文演绎的张麻子的一生，显然张麻子就是姜文一直想演绎的毛泽东！</p>\n<p>　　张麻子的兄弟：和毛泽东打天下的兄弟们——很久以前和黄四郎一起为“辛亥革命”出过力，但革命成功后因为“惹不起”城里的官老爷们跟着毛上了山、当了匪（因为所代表阶层利益不同、国共分家），此后在毛的带领下经历千辛万苦推翻了“国民党反动派”，和毛一道准备建立一个没有剥削、没有压迫的公平社会，可惜在毛死后兄弟们却背叛了当初的誓言，坐着片头出现的马邦德的“马拉火车”去了“浦东”，从此中国又走了民国时代“权贵资本主义”的老路…</p>\n<p>　　六子：以毛岸英为代表的单纯的左派知识分子——众所周知，毛泽东的长子毛岸英在朝鲜战争中的阵亡是毛失去的第六位亲人（墓碑上“六”的手势也暗示这一点），而且在片中张麻子和六子私下以“父子”相称，但在公众面前又是“兄弟”，很符合现实中的角色的定位——当年毛泽东和毛岸英在人伦面前是父子，在志向方面又是同志！毛岸英和很多如陈独秀、瞿秋白之类的知识分子一样，在中国积淀了几千年的政治厚黑学面前幼稚的跟婴孩一般，所以片中的六子为了一份不起眼凉粉被反动势力轻而易举“玩死了”，而且死后完全得不到人民大众的尊重（毛岸英也是如此）！同时，剧中张麻子也对这个群体给予很大期望——让他出国留学学习西方先进的自然科学、感受西方如莫扎特音乐般的人文教育，远离中国几千年无比黑暗的政治。很多人暗传毛送其长子去朝鲜是为了“镀金”，回来好接班，谁知道为了一碗“蛋炒饭”送了命——其实这些人口中的“蛋炒饭”何尝不是六子肚子里那碗“凉粉”呢？！汤师爷的所谓“杀人诛心”就是如此吧！</p>\n<p>　　马邦徳及其夫人：一个为钱（葛优扮演的财迷心窍师爷）、一个为权（只要能做“县长夫人”不在乎县长是谁的妓女），他夫妻俩基本就是中国自古以来绝大多数知识分子的典型代表、现在活跃在各个领域善于忽悠大众的“专家”，利用掌握先进知识的优越性，长期和官僚阶层媾和，采取各种高超手段愚昧民众以便“合法化”的去搜刮“穷鬼”的钱财，片中的“假麻子”就是长期搜刮民财常用的道具之一…</p>\n<p>　　黄四郎：中国历来反动势力的代表，是集“王权、绅权、族权”为一身的封建势力，比如蒋——从片中可知：他出生豪门、去日本留过学，曾经为辛亥革命做出很大贡献，是千千万万“精英阶层”的代表者，推翻满清后黄四郎没有为广大人民的利益去继续革命，进城后迅速蜕变为骑在人民头上作威作福的“大老爷”（这些经历都与蒋极其相似），而且还是“铁打的老爷”，汤师爷之流仅仅是“流水的县长”，利用自身强大的武装政权和绝对的官僚权威经营着南中国全部的鸦片生意并且还贩卖人口去USA赚“dollar”，成了政治大老板刘都统“三条腿”中最粗的一条（“三条腿”暗指“三座大山”——封建主义、官僚主义、帝国主义）</p>\n<p>　　黄四郎的替身：暗指中国所特有“官僚主义权威”——无论是满清皇帝还是蒋政权，仅仅是官僚主义的替身罢了，近代的中国民众一次次的用“无量头颅无量血”换来的“共和”自以为是成功了，实质上却是赶下了一个旧的“官老爷”又迎来一个新的“官老爷”，民众的社会地位、政治地位仍没有实质改变，每次改朝换代死去的仅仅是“替身”罢了，“官僚主义”依然在社会现实以及传统文化中长期存在，这显然不仅仅是所谓西方先进政治体制就能完全解决的…</p>\n<p>　　有人说“最了解中国人的是鲁迅，最了解中国的是毛泽东”，张麻子可谓谙熟上层精英阶层和底层劳苦大众的活动心理，在底层人民眼里统治阶层永远都是那么强大、尤其黄府高耸铁门后的神秘感让人不寒而栗，但张麻子很清楚其实在团结起来的人民群众面前，再强大的反动阶层仅仅是“纸老虎”罢了，了解底层民众心里的张麻子用黄四郎“替身”的脑袋欺骗了人民大众，他表面上砍下的仅仅是一个替身的脑袋，但对民众来说却是摧毁了整个反动阶层的“官僚主义威权”，黄四郎让民众惧怕的不是杀人不眨眼的武举人、不是看似高耸的大铁门，而是劳苦大众长期以来对精英阶层顶礼膜拜的奴性罢了，鲁迅笔下反映的旧中国就道出了这一点，这就是中国实行科举制后长期存在于中国、并成为中国发展的社会毒瘤——“官僚主义权威”，可怜的黄四郎“替身”在群众的欢呼中被张麻子砍下了脑袋，同样也砍下了黄四郎平时鱼肉百姓、作威作福的“权威”，此时的鹅城百姓再无顾虑了，铁门后藏着的仅仅是一个纸老虎罢了！</p>\n<p>　　在攻下黄府前，张麻子在象征着反动势力权威的大门上打了一个大大的“感叹号”，其用意是表达一个旧时代将要结束了；而让自己兄弟打下了一个“问号”，显然张麻子对自己兄弟们在攻下黄府后会不会蜕变成下一个“黄四郎”是存在很大疑问的，片尾可以看出张麻子的这种疑问显然不是多余的……</p>\n<p>　　攻下黄府后，革命似乎成功了，民众拿回了属于自己的财富，而张麻子对财富、美色似乎没有什么兴趣，甚至连身后那把“交椅”也可以让于别人，但黄四郎显然没有张麻子的精神境界，他认为张麻子要么为了取得如他那般的权势地位、要么是为了他黄家五代人搜刮来的财富，而他却告诉黄四郎说：“你跟钱都不重要！没有你，对我很重要！”原来，张麻子是要消灭一切剥削人、压迫人的社会制度啊——这正是毛 建立新中国后所谓的“这仅仅是万里长征的第一步”的背后深意，他要摧毁的不是蒋介石的反动政权，他还要建立一个人人平等、社会公平的新世界，打破中国自古改朝换代、“打江山、坐江山”的历史周期律，这样远大的抱负显然是很多底层民众包括当是很多中共高层是无法理解的，这也是为什么很多民众尤其老帅们很自然的认为“三反五反”、“反右派”甚至“文革”等一系列打击整个“官僚精英阶层”的群众性政治运动，是毛泽东为了自身争权夺利的需要——其实这种推测根本不值一驳，叶剑英承认在长征以后，毛在党内的地位根本无人能撼动了，何况建国后刘、邓等资历差一大截的小辈！</p>\n<p>　　本片的结尾很好的呼应了片头，张麻子的兄弟们坐着马邦德的“马拉火车”和花姐就准备去权贵资本家的乐园——上海，寻找新的生活了，此时新的革命者又走了旧的统治者的老路！</p>\n<p>　　片尾，攻打黄府时，张麻子曾在黄家大门上打的“问号”成为了现实——<br>　　张麻子问众人：“不跟我回山里了？”<br>　　兄弟们道：“你腿脚都不利落了，还回山里啊。”<br>　　张又问花姐：“你不是要跟我当麻匪到处发钱吗？”<br>　　花姐：“今天不是把钱全发光了吗，还有比这更过瘾的？”<br>　　张不甘心有问到：“和我在一起不高心吗？”<br>　　众人道：“高兴，但不轻松、不轻松……”</p>\n<p>　　张麻子的兄弟们在革命成功后，准备和麻子分道扬镳了，建国后，毛 的“亲密”战友们也是感同身受吧：经历了红军反围剿、万里长征、抗日战争、解放战争，跟着毛 打江山、创造历史当然是很刺激很高兴的了……但好不容易打败了蒋介石坐了江山，这时候正应该论功行赏、大块吃肉的时候，打江山不就为了坐江山嘛，不然兄弟们这么多年血风腥雨的革命为了啥啊？！但大哥却让我们再回到清苦的山里当“麻匪”、劫富济贫——再时时刻刻把群众利益放在心里、把为人民服务放在第一位，甚至要和老百姓“同吃、同住、同劳动”保持艰苦朴素的本色，办事情还得看群众脸色、弄不好还要遭群众批斗……这活的也太不轻松了（毛时代的干部就是这样的），还是搭上改革开放的春风去了上海快活啊！</p>\n<p>　　到了六十年代毛敏锐的察觉到，有些曾经在战场上出生入死的老革命开始特权享受，放松自己、膨胀了私欲，置人民的利益而不顾，党内特权思想、官僚主义盛行——正如毛所说的“一部分party员不想继续革命了，有些人后退了，反对革命了，为什么呢？作了大官了，要保护大官们的利益。他们有了好房子，有汽车，薪水高，还有服务员，比资本家还厉害”……难道革命了几十年牺牲那么多战友这么短时间官僚主义就“复辟”了？可是此时身边出生入死的战友们没有人再愿意继续革命了，这时他又想到了他为之奋斗一生的人民，从旧中国走过来的中国人民的整体国民素质是令人堪忧的，毛泽东深知中国人在思想上受到宋明伪儒家思想的毒害之深，深知中国的底层民众对自己的要求一直依然是鲁迅笔下的那群事不关己高、高挂起的心态，他觉得只有人民的思想觉悟实质提高了、人民接受了先进的平等理念，只有这样才能有效防止“官僚阶层”走向人民对立面甚至骑在人民头上作威作福，所以毛泽东接见群众时不断强调“要少一点奴性，多一点主人翁的自尊心.”——不然空有所谓“民主”制度的印度为何至今还不能摆脱奴隶社会种姓制度的桎酷？！</p>\n<p>　　在这种背景下，晚年的毛泽东决定孤注一掷，发动一场全民性的、自下而上的，以革新文化思想以及打击整个官僚精英阶层为初衷的“文化大革命”，熟读史书的毛泽东显然知道得罪掌握话语权的官僚阶层尤其知识分子，将来会在历史上留下怎样的“恶名”（“我就在二十世纪六十年代当了共产党的钟馗了。事物总是要走向反面的，吹得越高，跌得越重，我是准备跌得粉碎的。”），但我们从毛的诗词中可以明显感觉到他首先是一位理想主义至上的英雄，对于身后名是完全不在乎的，晚年的他又开始了生命里的“第二次长征”——只是这一次，他蓦然回首，再也看不到那支曾经追随他、为了民族的自由和光明而一往无前、浩浩荡荡的革命队伍——夕阳西下、漫漫征途中陪伴他的只有自己孤独的身影……</p>\n<p>　　毛死后，理想主义的红旗落地了，没有人再去追求什么所谓的“社会公平”，一切向钱看了，正如他预言的那般“老百姓要吃二遍苦、遭二茬罪” 的。正如张麻子所说“死人有时比活人有用”，权贵们一边把毛泽东作为“无害神像”挂在城楼上、企图透支毛泽东所创造的丰功伟绩所带给他们的历史合法性，一边大搞黑毛和私有化运动、利用工农阶层的血汗来充实自己的腰包，“扛着红旗反红旗”不也是黄四郎的手段吗——</p>\n<p>　　在红军革命根据地时期，“朱毛”红军被蒋介石宣传成“共产共妻”、杀人不眨眼的“土匪”；在当下的“盛世中国”，毛泽东被权贵、精英们诅咒其为“暴君”、“屠夫”甚至是“20世纪人类的三大恶魔之一”。精英们恨不能对其挫骨扬灰，说明在受过毛时代不断的全民性政治运动启蒙后的中国人民面前，他们的内心是极度恐慌的，必定鲁迅笔下的中国人在渐渐减少！自古以来，黄四郎们都是先大肆诋毁真革命者为“麻匪”，然后把自己伤天害理的全部罪责推到“张麻子”身上，再以“剿匪”之名搜刮民脂民膏，这才是真正的“杀人诛心”、用心何其险恶！</p>\n<p>　　这个在精英眼里满脸麻子的毛润之到底给中国带来了什么“灾难”呢:<br>　　在他执政的短短的二十七年间，无论是在朝鲜战争、对印自卫反击、还是苏俄在边境陈兵百万，毛泽东从未向这些强敌屈服<br>过，中国通过一系列对外战争、卓有成效的外交行动重新获得了世界的尊重和认可，尤其是毛泽东以众横捭阖的高超战略、超人的胆识斡旋于美苏两强之间，为中国赢得了巨大的政治外交红利，至今受益。</p>\n<p>　　在短短的二十七年间，在辽阔的中国大地上，一举消灭了为害千年的匪患，肃清了黑社会帮派势力和一切扰乱社会、残害人民的黑恶势力，社会秩序空前安定。毛时代的犯罪率是中国历史最低的。</p>\n<p>　　在短短的二十七年间，在辽阔的中国大地上，彻底扫除了自清末以来全民吸食鸦片的恶习，铲除了危害国民身体、国民精神健康的“陋习”——如童养媳、裹脚、纳妾、男尊女卑等等，民族精神面貌也随之焕然一新；千百年来摧残和迫害妇女的卖淫、嫖娼的社会污泥浊水，被荡涤无存，妓女被改造为自食其力的劳动者，并且给予其应有人格尊严，中国只有在毛时代才真正算彻底消灭了“黄赌毒”。</p>\n<p>　　在短短的二十七年间，在辽阔的中国大地上，文化教育事业快速发展，扫除大量文盲，大力普及基础教育，从49年以前全国80%以上的文盲率，到70年代中国大地上新的一代青少年普遍都受过几乎免费的初等教育，中国人从没有把知识的学习如此“草根化”过。</p>\n<p>　　在短短的二十七年间，在辽阔的中国大地上，医疗卫生事业快速发展，消灭或基本消灭了多种存在于广大农村的传染病，如鼠疫、霍乱、天花等。在国家物质极其匮乏的年代，依靠合作医疗、赤脚医生、农村三级卫生保健网这“三大法宝”， 为中国数亿农民提供了最基本的医疗服务，并赢得世界赞誉。在27年内中国人口平均寿命从35岁提高到65岁。</p>\n<p>　　最为可贵的是，以刚建国时期一个长期积贫积弱、饱受战乱的极端落后的农业国，毛带领中国人民节衣缩食、自力更生在短短27年的时间里，建立成拥有完整轻重工业体系的世界第六大工业国，甚至还在航天核武电子等方面走在了世界前列，走完了西方主要老牌工业国100年才能完成的国家“工业化浪潮”，没有这些辉煌的成就奠基——“伟大”的总设计师用什么去改革开放呢？</p>\n<p>　　郁达夫曾说：“没有伟大人物出现的民族，是世界上最可怜的生物群体；有了伟大的人物，而不知拥护、爱戴、崇仰的国家，是没有希望的奴隶之邦。”</p>\n<p>　　就是这样一个彻底扭转中国几百年衰败国运、有“再造中华”之功并且享有世界普遍赞誉的伟人，在精英统治者眼中确实满脸麻子、奇丑无比，而且还是“悍匪”（如今暴君、屠夫纷至沓来），因为毛泽东彻底扯下了数千年来官僚阶层愚民术的最后一块遮羞布——群众在打到“官僚权威”、“学术权威”口号下，通过一系列政治运动让官僚和文人彻底丢尽了“脸面”，摧毁了官僚主义在人民群众中积攒了数千年的“权威”——正如毛所说的，“五帝三皇神圣事，骗了无涯过客”。</p>\n<p>　　张麻子为民做了主，民众下跪高呼“青天大老爷”，可张麻子鸣枪警醒大家：不能跪，早就没皇帝老子了，哪来的青天大老爷——毛设想的国人正如他诗中说道“春风杨柳万千条,六亿神州尽舜尧”，每个中国人都能有人格尊严、有独立精神的活着……</p>\n<p>　　毛泽东的晚年注定是孤独、凄凉的，正如剧中的结尾：昔日的战友尽数背叛了当初“上山”当“土匪”时的誓言，拥着花姐一路欢笑去了上海开始了“新”的生活；而暂时过上安逸生活的鹅城百姓又把“革命”高高挂了起来，并且又乐于“青天大老爷”为自己做主了；只有他仍不服输，和来鹅城前一样——骑着白马、一身戎装落寞的策马奔腾在夕阳中，他要永葆“山匪”的本色。</p>\n<p>　　正如尼克松评价道：“无论人们对毛有怎样的看法，谁也否认不了他是一位战斗到最后一息的战士。”，此时想必姜文也明白，唯有片尾李叔同的那首《送别》才能表达出毛泽东此时孤独落寞的心境：</p>\n<p>　　长亭外，古道边，芳草碧连天。晚风拂柳笛声残，夕阳山外山。天之涯，地之角，知交半零落。一壶浊酒尽余欢，今宵别梦寒……</p>\n","site":{"data":{}},"excerpt":"<p>　　遍观姜文的作品，无论是如《鬼子来了》鞭辟入里的分析国民性格，还是反映“火红”年代所特有的青春期的骚动——《阳光灿烂的日子》，抑或是满篇充满政治隐喻的《太阳照常升起》，他的每部作品都与中国近现代史分不开。不论你持何种态度，不可否认对于20世纪的中国——影响最大的人物无疑是毛泽东了，姜文的作品显然也是绕不开毛泽东的，姜文曾多次说过他一生最崇拜以及最想演绎的角色就是毛泽东，“我演的毛泽东可能是通不过的。我觉得他可以把几万人带着迁徙，又没有补助费，像摩西出埃及一样。这种东西是精神上的，但他也很矛盾，很有悲剧性……我很幸运曾经跟他（毛）生活过一段。他是中国这几千年来能够冒出头儿来的这么三、五人中的其中一个。他跟旁边的人没法比，什么蒋介石，个儿太矬了……现在太多的恩怨，对他，会扭曲了他的精神。”</p>","more":"<p>　　找准了全片思想落脚点，如果对中国近代史稍有常识，就可读懂片中很多怪异场景的象征意义：鹅城：象征“五四”之前的中国，在片中多次出现的“鹅”显然象征着受精英阶层愚弄摆布数千年的劳苦百姓，它的身上有很多中国劳动人民的特质——自私、麻木、愚昧最主要的是一盘散沙…马拉火车：火车是工业时代动力的象征，马匹是农业社会动力的象征，此处显然暗讽某国的精英阶层外表上虽然接受了西方工业文明，但骨子里的价值观、政治形态还是封建农业社会的那一套…上海、浦东：“老上海”是上世纪二三十年代民国的缩影，也是权贵资本家的乐园，而“浦东”是邓爷爷改革开放下才有的产物，片尾张麻子的兄弟们坐着片头马邦德的“马拉火车”去了上海，尤其那句“浦东就是上海，上海就是浦东”露骨之极，其暗喻不言而喻…</p>\n<p>　　张麻子：一辈子致力于建立一个人人平等、社会公平的新世界的革命者（他来鹅城就为三件事“公平、公平还是他妈的的公平”）。推翻现有的反动阶层只是“万里长征的第一步”，对旧中国维护精英阶层的“道统观”的全面反叛以此建立一个没有剥削、没有压迫的新社会，才是张麻子的最大理想。在精英眼里一脸麻子的“张麻子”不但脸上没有麻子，而且浩然正气的他还有个非常“精英化”的名字——张牧之，牧之、润之，都是“泽披万民”之意，结合姜文演绎的张麻子的一生，显然张麻子就是姜文一直想演绎的毛泽东！</p>\n<p>　　张麻子的兄弟：和毛泽东打天下的兄弟们——很久以前和黄四郎一起为“辛亥革命”出过力，但革命成功后因为“惹不起”城里的官老爷们跟着毛上了山、当了匪（因为所代表阶层利益不同、国共分家），此后在毛的带领下经历千辛万苦推翻了“国民党反动派”，和毛一道准备建立一个没有剥削、没有压迫的公平社会，可惜在毛死后兄弟们却背叛了当初的誓言，坐着片头出现的马邦德的“马拉火车”去了“浦东”，从此中国又走了民国时代“权贵资本主义”的老路…</p>\n<p>　　六子：以毛岸英为代表的单纯的左派知识分子——众所周知，毛泽东的长子毛岸英在朝鲜战争中的阵亡是毛失去的第六位亲人（墓碑上“六”的手势也暗示这一点），而且在片中张麻子和六子私下以“父子”相称，但在公众面前又是“兄弟”，很符合现实中的角色的定位——当年毛泽东和毛岸英在人伦面前是父子，在志向方面又是同志！毛岸英和很多如陈独秀、瞿秋白之类的知识分子一样，在中国积淀了几千年的政治厚黑学面前幼稚的跟婴孩一般，所以片中的六子为了一份不起眼凉粉被反动势力轻而易举“玩死了”，而且死后完全得不到人民大众的尊重（毛岸英也是如此）！同时，剧中张麻子也对这个群体给予很大期望——让他出国留学学习西方先进的自然科学、感受西方如莫扎特音乐般的人文教育，远离中国几千年无比黑暗的政治。很多人暗传毛送其长子去朝鲜是为了“镀金”，回来好接班，谁知道为了一碗“蛋炒饭”送了命——其实这些人口中的“蛋炒饭”何尝不是六子肚子里那碗“凉粉”呢？！汤师爷的所谓“杀人诛心”就是如此吧！</p>\n<p>　　马邦徳及其夫人：一个为钱（葛优扮演的财迷心窍师爷）、一个为权（只要能做“县长夫人”不在乎县长是谁的妓女），他夫妻俩基本就是中国自古以来绝大多数知识分子的典型代表、现在活跃在各个领域善于忽悠大众的“专家”，利用掌握先进知识的优越性，长期和官僚阶层媾和，采取各种高超手段愚昧民众以便“合法化”的去搜刮“穷鬼”的钱财，片中的“假麻子”就是长期搜刮民财常用的道具之一…</p>\n<p>　　黄四郎：中国历来反动势力的代表，是集“王权、绅权、族权”为一身的封建势力，比如蒋——从片中可知：他出生豪门、去日本留过学，曾经为辛亥革命做出很大贡献，是千千万万“精英阶层”的代表者，推翻满清后黄四郎没有为广大人民的利益去继续革命，进城后迅速蜕变为骑在人民头上作威作福的“大老爷”（这些经历都与蒋极其相似），而且还是“铁打的老爷”，汤师爷之流仅仅是“流水的县长”，利用自身强大的武装政权和绝对的官僚权威经营着南中国全部的鸦片生意并且还贩卖人口去USA赚“dollar”，成了政治大老板刘都统“三条腿”中最粗的一条（“三条腿”暗指“三座大山”——封建主义、官僚主义、帝国主义）</p>\n<p>　　黄四郎的替身：暗指中国所特有“官僚主义权威”——无论是满清皇帝还是蒋政权，仅仅是官僚主义的替身罢了，近代的中国民众一次次的用“无量头颅无量血”换来的“共和”自以为是成功了，实质上却是赶下了一个旧的“官老爷”又迎来一个新的“官老爷”，民众的社会地位、政治地位仍没有实质改变，每次改朝换代死去的仅仅是“替身”罢了，“官僚主义”依然在社会现实以及传统文化中长期存在，这显然不仅仅是所谓西方先进政治体制就能完全解决的…</p>\n<p>　　有人说“最了解中国人的是鲁迅，最了解中国的是毛泽东”，张麻子可谓谙熟上层精英阶层和底层劳苦大众的活动心理，在底层人民眼里统治阶层永远都是那么强大、尤其黄府高耸铁门后的神秘感让人不寒而栗，但张麻子很清楚其实在团结起来的人民群众面前，再强大的反动阶层仅仅是“纸老虎”罢了，了解底层民众心里的张麻子用黄四郎“替身”的脑袋欺骗了人民大众，他表面上砍下的仅仅是一个替身的脑袋，但对民众来说却是摧毁了整个反动阶层的“官僚主义威权”，黄四郎让民众惧怕的不是杀人不眨眼的武举人、不是看似高耸的大铁门，而是劳苦大众长期以来对精英阶层顶礼膜拜的奴性罢了，鲁迅笔下反映的旧中国就道出了这一点，这就是中国实行科举制后长期存在于中国、并成为中国发展的社会毒瘤——“官僚主义权威”，可怜的黄四郎“替身”在群众的欢呼中被张麻子砍下了脑袋，同样也砍下了黄四郎平时鱼肉百姓、作威作福的“权威”，此时的鹅城百姓再无顾虑了，铁门后藏着的仅仅是一个纸老虎罢了！</p>\n<p>　　在攻下黄府前，张麻子在象征着反动势力权威的大门上打了一个大大的“感叹号”，其用意是表达一个旧时代将要结束了；而让自己兄弟打下了一个“问号”，显然张麻子对自己兄弟们在攻下黄府后会不会蜕变成下一个“黄四郎”是存在很大疑问的，片尾可以看出张麻子的这种疑问显然不是多余的……</p>\n<p>　　攻下黄府后，革命似乎成功了，民众拿回了属于自己的财富，而张麻子对财富、美色似乎没有什么兴趣，甚至连身后那把“交椅”也可以让于别人，但黄四郎显然没有张麻子的精神境界，他认为张麻子要么为了取得如他那般的权势地位、要么是为了他黄家五代人搜刮来的财富，而他却告诉黄四郎说：“你跟钱都不重要！没有你，对我很重要！”原来，张麻子是要消灭一切剥削人、压迫人的社会制度啊——这正是毛 建立新中国后所谓的“这仅仅是万里长征的第一步”的背后深意，他要摧毁的不是蒋介石的反动政权，他还要建立一个人人平等、社会公平的新世界，打破中国自古改朝换代、“打江山、坐江山”的历史周期律，这样远大的抱负显然是很多底层民众包括当是很多中共高层是无法理解的，这也是为什么很多民众尤其老帅们很自然的认为“三反五反”、“反右派”甚至“文革”等一系列打击整个“官僚精英阶层”的群众性政治运动，是毛泽东为了自身争权夺利的需要——其实这种推测根本不值一驳，叶剑英承认在长征以后，毛在党内的地位根本无人能撼动了，何况建国后刘、邓等资历差一大截的小辈！</p>\n<p>　　本片的结尾很好的呼应了片头，张麻子的兄弟们坐着马邦德的“马拉火车”和花姐就准备去权贵资本家的乐园——上海，寻找新的生活了，此时新的革命者又走了旧的统治者的老路！</p>\n<p>　　片尾，攻打黄府时，张麻子曾在黄家大门上打的“问号”成为了现实——<br>　　张麻子问众人：“不跟我回山里了？”<br>　　兄弟们道：“你腿脚都不利落了，还回山里啊。”<br>　　张又问花姐：“你不是要跟我当麻匪到处发钱吗？”<br>　　花姐：“今天不是把钱全发光了吗，还有比这更过瘾的？”<br>　　张不甘心有问到：“和我在一起不高心吗？”<br>　　众人道：“高兴，但不轻松、不轻松……”</p>\n<p>　　张麻子的兄弟们在革命成功后，准备和麻子分道扬镳了，建国后，毛 的“亲密”战友们也是感同身受吧：经历了红军反围剿、万里长征、抗日战争、解放战争，跟着毛 打江山、创造历史当然是很刺激很高兴的了……但好不容易打败了蒋介石坐了江山，这时候正应该论功行赏、大块吃肉的时候，打江山不就为了坐江山嘛，不然兄弟们这么多年血风腥雨的革命为了啥啊？！但大哥却让我们再回到清苦的山里当“麻匪”、劫富济贫——再时时刻刻把群众利益放在心里、把为人民服务放在第一位，甚至要和老百姓“同吃、同住、同劳动”保持艰苦朴素的本色，办事情还得看群众脸色、弄不好还要遭群众批斗……这活的也太不轻松了（毛时代的干部就是这样的），还是搭上改革开放的春风去了上海快活啊！</p>\n<p>　　到了六十年代毛敏锐的察觉到，有些曾经在战场上出生入死的老革命开始特权享受，放松自己、膨胀了私欲，置人民的利益而不顾，党内特权思想、官僚主义盛行——正如毛所说的“一部分party员不想继续革命了，有些人后退了，反对革命了，为什么呢？作了大官了，要保护大官们的利益。他们有了好房子，有汽车，薪水高，还有服务员，比资本家还厉害”……难道革命了几十年牺牲那么多战友这么短时间官僚主义就“复辟”了？可是此时身边出生入死的战友们没有人再愿意继续革命了，这时他又想到了他为之奋斗一生的人民，从旧中国走过来的中国人民的整体国民素质是令人堪忧的，毛泽东深知中国人在思想上受到宋明伪儒家思想的毒害之深，深知中国的底层民众对自己的要求一直依然是鲁迅笔下的那群事不关己高、高挂起的心态，他觉得只有人民的思想觉悟实质提高了、人民接受了先进的平等理念，只有这样才能有效防止“官僚阶层”走向人民对立面甚至骑在人民头上作威作福，所以毛泽东接见群众时不断强调“要少一点奴性，多一点主人翁的自尊心.”——不然空有所谓“民主”制度的印度为何至今还不能摆脱奴隶社会种姓制度的桎酷？！</p>\n<p>　　在这种背景下，晚年的毛泽东决定孤注一掷，发动一场全民性的、自下而上的，以革新文化思想以及打击整个官僚精英阶层为初衷的“文化大革命”，熟读史书的毛泽东显然知道得罪掌握话语权的官僚阶层尤其知识分子，将来会在历史上留下怎样的“恶名”（“我就在二十世纪六十年代当了共产党的钟馗了。事物总是要走向反面的，吹得越高，跌得越重，我是准备跌得粉碎的。”），但我们从毛的诗词中可以明显感觉到他首先是一位理想主义至上的英雄，对于身后名是完全不在乎的，晚年的他又开始了生命里的“第二次长征”——只是这一次，他蓦然回首，再也看不到那支曾经追随他、为了民族的自由和光明而一往无前、浩浩荡荡的革命队伍——夕阳西下、漫漫征途中陪伴他的只有自己孤独的身影……</p>\n<p>　　毛死后，理想主义的红旗落地了，没有人再去追求什么所谓的“社会公平”，一切向钱看了，正如他预言的那般“老百姓要吃二遍苦、遭二茬罪” 的。正如张麻子所说“死人有时比活人有用”，权贵们一边把毛泽东作为“无害神像”挂在城楼上、企图透支毛泽东所创造的丰功伟绩所带给他们的历史合法性，一边大搞黑毛和私有化运动、利用工农阶层的血汗来充实自己的腰包，“扛着红旗反红旗”不也是黄四郎的手段吗——</p>\n<p>　　在红军革命根据地时期，“朱毛”红军被蒋介石宣传成“共产共妻”、杀人不眨眼的“土匪”；在当下的“盛世中国”，毛泽东被权贵、精英们诅咒其为“暴君”、“屠夫”甚至是“20世纪人类的三大恶魔之一”。精英们恨不能对其挫骨扬灰，说明在受过毛时代不断的全民性政治运动启蒙后的中国人民面前，他们的内心是极度恐慌的，必定鲁迅笔下的中国人在渐渐减少！自古以来，黄四郎们都是先大肆诋毁真革命者为“麻匪”，然后把自己伤天害理的全部罪责推到“张麻子”身上，再以“剿匪”之名搜刮民脂民膏，这才是真正的“杀人诛心”、用心何其险恶！</p>\n<p>　　这个在精英眼里满脸麻子的毛润之到底给中国带来了什么“灾难”呢:<br>　　在他执政的短短的二十七年间，无论是在朝鲜战争、对印自卫反击、还是苏俄在边境陈兵百万，毛泽东从未向这些强敌屈服<br>过，中国通过一系列对外战争、卓有成效的外交行动重新获得了世界的尊重和认可，尤其是毛泽东以众横捭阖的高超战略、超人的胆识斡旋于美苏两强之间，为中国赢得了巨大的政治外交红利，至今受益。</p>\n<p>　　在短短的二十七年间，在辽阔的中国大地上，一举消灭了为害千年的匪患，肃清了黑社会帮派势力和一切扰乱社会、残害人民的黑恶势力，社会秩序空前安定。毛时代的犯罪率是中国历史最低的。</p>\n<p>　　在短短的二十七年间，在辽阔的中国大地上，彻底扫除了自清末以来全民吸食鸦片的恶习，铲除了危害国民身体、国民精神健康的“陋习”——如童养媳、裹脚、纳妾、男尊女卑等等，民族精神面貌也随之焕然一新；千百年来摧残和迫害妇女的卖淫、嫖娼的社会污泥浊水，被荡涤无存，妓女被改造为自食其力的劳动者，并且给予其应有人格尊严，中国只有在毛时代才真正算彻底消灭了“黄赌毒”。</p>\n<p>　　在短短的二十七年间，在辽阔的中国大地上，文化教育事业快速发展，扫除大量文盲，大力普及基础教育，从49年以前全国80%以上的文盲率，到70年代中国大地上新的一代青少年普遍都受过几乎免费的初等教育，中国人从没有把知识的学习如此“草根化”过。</p>\n<p>　　在短短的二十七年间，在辽阔的中国大地上，医疗卫生事业快速发展，消灭或基本消灭了多种存在于广大农村的传染病，如鼠疫、霍乱、天花等。在国家物质极其匮乏的年代，依靠合作医疗、赤脚医生、农村三级卫生保健网这“三大法宝”， 为中国数亿农民提供了最基本的医疗服务，并赢得世界赞誉。在27年内中国人口平均寿命从35岁提高到65岁。</p>\n<p>　　最为可贵的是，以刚建国时期一个长期积贫积弱、饱受战乱的极端落后的农业国，毛带领中国人民节衣缩食、自力更生在短短27年的时间里，建立成拥有完整轻重工业体系的世界第六大工业国，甚至还在航天核武电子等方面走在了世界前列，走完了西方主要老牌工业国100年才能完成的国家“工业化浪潮”，没有这些辉煌的成就奠基——“伟大”的总设计师用什么去改革开放呢？</p>\n<p>　　郁达夫曾说：“没有伟大人物出现的民族，是世界上最可怜的生物群体；有了伟大的人物，而不知拥护、爱戴、崇仰的国家，是没有希望的奴隶之邦。”</p>\n<p>　　就是这样一个彻底扭转中国几百年衰败国运、有“再造中华”之功并且享有世界普遍赞誉的伟人，在精英统治者眼中确实满脸麻子、奇丑无比，而且还是“悍匪”（如今暴君、屠夫纷至沓来），因为毛泽东彻底扯下了数千年来官僚阶层愚民术的最后一块遮羞布——群众在打到“官僚权威”、“学术权威”口号下，通过一系列政治运动让官僚和文人彻底丢尽了“脸面”，摧毁了官僚主义在人民群众中积攒了数千年的“权威”——正如毛所说的，“五帝三皇神圣事，骗了无涯过客”。</p>\n<p>　　张麻子为民做了主，民众下跪高呼“青天大老爷”，可张麻子鸣枪警醒大家：不能跪，早就没皇帝老子了，哪来的青天大老爷——毛设想的国人正如他诗中说道“春风杨柳万千条,六亿神州尽舜尧”，每个中国人都能有人格尊严、有独立精神的活着……</p>\n<p>　　毛泽东的晚年注定是孤独、凄凉的，正如剧中的结尾：昔日的战友尽数背叛了当初“上山”当“土匪”时的誓言，拥着花姐一路欢笑去了上海开始了“新”的生活；而暂时过上安逸生活的鹅城百姓又把“革命”高高挂了起来，并且又乐于“青天大老爷”为自己做主了；只有他仍不服输，和来鹅城前一样——骑着白马、一身戎装落寞的策马奔腾在夕阳中，他要永葆“山匪”的本色。</p>\n<p>　　正如尼克松评价道：“无论人们对毛有怎样的看法，谁也否认不了他是一位战斗到最后一息的战士。”，此时想必姜文也明白，唯有片尾李叔同的那首《送别》才能表达出毛泽东此时孤独落寞的心境：</p>\n<p>　　长亭外，古道边，芳草碧连天。晚风拂柳笛声残，夕阳山外山。天之涯，地之角，知交半零落。一壶浊酒尽余欢，今宵别梦寒……</p>"},{"title":"绕过校园网Web认证","date":"2019-12-10T13:34:58.000Z","reward":true,"toc":true,"_content":"\n>该文章最初于2017年11月08日发布在[博客园](https://www.cnblogs.com/nkqlhqc/p/7805837.html)\n当初我还在上大一，掌握的计算机知识非常少，只是为了好玩，实现了自己的某个小想法。如今两年过去了，这篇文章已经有三万多人次的阅读量，我也很欣慰。现将该篇文章同步到我的个人博客中，以勉励自己，时刻保持一个好奇心。\n\n相信很多高校学生都有用WEB认证方式接入校园网的经历。\n\n　　拿我所在的大学为例，我们大学的校园网由联通公司承建，当我连上寝室的无线路由器后，浏览器会自动弹出一个由卓智公司开发的认证界面，如下图：\n<!-- More -->\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-01.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-01.png\" alt=\"\" /></a>\n\n　　如果买了联通公司的流量，会取得一个账号和密码，输入账号密码登陆后就能享用无线了，当然啦，对于爱折腾的人来说，总要想点方法绕过这个认证，不为别的，只为实现内心的一个想法。所以我就在各大技术论坛查询了一些绕过web认证的方法。网上有很多人给出了方法，这些方法大同小异，基本原理都一样，但是呢，难免有疏漏和难懂的地方。所以，接下来，我就对这个问题做一次系统的介绍。\n\n### 原理解释\n\n　　当我们连上校园网的无线路由器后，虽然上不了网，但是我们的计算机却分配到了IP地址（那么为什么要给我们分配IP呢？很好回答啦，不分配IP地址web认证就实现不了呀！）此时若我们进行一些上网的操作，例如访问百度主页，那么计算机的数据包将从TCP443端口上发出，校园网网关就会拦截从这个端口上发出的数据包。同理从其它端口上发出的数据包也会遭到拦截。\n\n　　**但是有一个神奇的端口，从这个端口发出的数据包不会遭到网关拦截，它就是UDP53端口。对计算机网络稍微了解的朋友应该知道在UDP53端口上运行的协议是DNS协议（域名解析协议），也就是说我们现在可以正常查询网站域名对应的IP地址。**\n\n例如用Windows自带的nslookup命令查询百度的IP地址时会返回一个正确的结果：\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-02.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-02.png\" alt=\"\" /></a>\n\n　　<strong>既然UDP53端口的数据包可以通过网关，那么我们可以在本地运行一个程序将其它端口的数据包伪装组成UDP53端口的数据包，然后发送到本地域名服务器，那么网关就不会进行拦截了，数据包就顺利的通过了网关，可是发送出去的数据报如何返回呢？这就需要我们做进一步的设置。</strong>\n\n　　接下来我们需要一个VPS（云服务器）和一个域名，我了便于叙述，我给这个云服务器起名为V，域名起名为Y。我们伪装的DNS数据包要查询的域名就是Y，本地域名服务器接收到这个伪装后的数据包后，由于它无法解析这个域名Y，便将数据包进行转发，让能够解析Y的域名服务器进行解析，接下来我们将Y设置一个NS记录，用来指定Y由哪个域名服务器来进行解析，我们指定的域名服务器就是前面提到的V，所以接下来数据包会被发送到V中。此时我们在V中运行一个程序，对伪装的数据包进行还原，还原后的数据包再发送出去，这样当V接收到响应数据包后，V上运行的程序会再次对其进行伪装，伪装成一个DNS响应数据包，这个DNS响应数据包会沿着上述相反的路径发送回我们的计算机，我们的计算机再次对这个DNS响应数据包进行还原，到现在，我们真正想要得到的数据包已经到手了。也许上面的叙述有点绕，我放一张图大家就能明白了：\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-03.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-03.png\" alt=\"\" /></a>\n\n好了，要是看了图没明白也没有关系，只要按照下面的步骤做就可以了。\n\n　　Windows上与Linux上实现方法不同，就伪装数据包的程序而言，在windows平台上推荐使用dns2tcp这个软件，而在linux平台上推荐使用iodine这个软件，关于iodine的使用，我会再写一篇文章，所以下面主要讲一下dns2tcp的使用，也就是在windows上实现绕过WEB认证，linux系统用户请移步我的另一篇文章\n\n### 安装软件\n\n　　在本地计算机上安装dns2tcp这个软件，它的作用是对数据包进行伪装与还原。\n\n　　附Windows版下载地址：[https://pan.baidu.com/s/1y1OSPjCyLZ97P0B58Bukzw](https://pan.baidu.com/s/1y1OSPjCyLZ97P0B58Bukzw \"https://pan.baidu.com/s/1y1OSPjCyLZ97P0B58Bukzw\")   提取码：w198\n\n### 配置虚拟主机\n\n　　申请一个VPS，国内VPS服务商众多，什么阿里云啦，腾讯云啦，百度云啦。在这里我给大家推荐由世纪互联运营的微软Azure云服务器，1元体验一个月，申请与部署方式很简单，而且服务器配置与带宽很高，可惜的是就能使用一个月，其实学服务器开发的大学朋友们也可以申请一个练练手，毕竟这是一次难得的实践机会嘛！\n\n附微软Azure云服务器申请地址：[https://www.azure.cn/pricing/1rmb-trial-full/](https://www.azure.cn/pricing/1rmb-trial-full/ \"https://www.azure.cn/pricing/1rmb-trial-full/\")\n\n　　有关申请与部署服务器的细节，我就不再赘述了，按照流程走就行。有不懂的地方可以参看微软给的文档和视频教程。\n\n　　下面这个操作尤为重要，部署成功服务器后，务必参照微软的文档为服务器添加入站与出站规则，也就是哪些类型的数据包可以进出你的服务器，那些类型的数据包会被防火墙拦截，这个步骤决定着伪装的数据包是否能够进入到我们的VBS\n\n将TCP80，TCP443，UDP53端口的数据设置为允许入站与出站，如下图所示：\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-13.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-13.png\" alt=\"\" /></a>\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-14.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-14.png\" alt=\"\" /></a>\n\n申请成功后，微软会给你一个公网IP，这个公网IP一定要牢记，接下来需要用到,现在假定你得到的公网IP为140.205.32.13\n\n### 配置域名\n\n　　申请一个域名，推荐到阿里云申请，因为便宜，我申请的.top国际顶级域名第一年才1块钱。\n　　附申请地址：[https://wanwang.aliyun.com/domain/yumingheji](https://wanwang.aliyun.com/domain/yumingheji \"https://wanwang.aliyun.com/domain/yumingheji\")\n\n　　申请过程请严格按照人家的流程，不过要提醒一点的是务必要用真实信息，否则人家会封掉你的域名。\n\n　　现在假定你申请到了一个域名，假如你申请到的域名为aliyun.top,你需要进入阿里云的域名控制台，为其添加两条记录。\n\n　　第一条为NS记录，主机记录填一个自己喜欢的名称，记录值为解析该域名的域名，记录值要牢记，下面用的到。\n\n　　假设你添加的NS记录名称为fq, 记录值为dns.aliyun.top。\n\n　　再为申请到的域名添加一个A记录，A记录的主机记录是NS记录的记录值，A记录的记录值是你所申请到的VPS的公网IP，如下表：\n\n| 记录类型 | 主机记录 | 记录值 |\n| ------------ | ------------ | ------------ |\n| NS |  fq | dns.alibaba.top |\n|  A  | dns | 140.205.32.13 |\n\n\n　　当本地域名服务器无法解析我们伪装的数据包后，便将数据包发送给NS记录指定的服务器dns.aliyun.top, 而dns.aliyun.top的IP地址已经在A记录中给出了，所以刚才原理没看懂的朋友朋友们现在应该知道为什么本地域名服务器会将数据包发送到我们的VPS中了吧\n\n### 启动代理\n\n　　windows系统用户在计算机上安装一个名为xshell的软件，它用来连接我们的VPS。\n　　附下载地址：[http://www.downxia.com/downinfo/150560.html?fromm](http://www.downxia.com/downinfo/150560.html?fromm \"http://www.downxia.com/downinfo/150560.html?fromm\")\n\n　　下载后安装，安装时选择“家庭/学校 ”版，商业版要钱，家庭版其实就能满足我们的需求了。\n\n　　安装成功后，依次点击点击\"文件\"->\"新建\"。名称随意，协议选择SSH，主机名填你的VBS公网IP，端口号填22，添完后点击连接；\n\n　　等一会弹出一个输入用户名的窗口，输入你部署服务器时设置的用户名，输入完成后点击记住用户名，点击确定。在弹出的新窗口中输入你部署服务器时设置的密码，输入完成后点击确定，不出意外，你将会连接到你的VBS,如下图：\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-04.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-04.png\" alt=\"\" /></a>\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-05.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-05.png\" alt=\"\" /></a>\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-06.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-06.png\" alt=\"\" /></a>\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-08.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-08.png\" alt=\"\" /></a>\n\n接下来在Xshell中输入sudo apt-get install dns2tcp，敲回车，这条命令用来安装dns2tcp这个软件，很快就会安装完毕。\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-07.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-07.png\" alt=\"\" /></a>\n\n【注】没用过Linux的用户可能看不懂这些Linux命令，但是不懂没关系，跟着我做就行了。\n\n#### 配置dns2tcp：\n\n再次敲入命令：`sudo vim /etc/dns2tcpd.conf` ，用vim编辑器将其中的内容替换为以下内容：\n\n>listen = 10.0.0.4     #这里写你的云服务器的内网IP\n>port = 53\n>user = nobody\n>chroot = /tmp\n>domain = dns.aliyun.top         #这里写你设置的NS记录值\n>resources = ssh:127.0.0.1:22,socks:127.0.0.1:1082,http:127.0.0.1:3128\n\n下面创建后台进程，运行dns2tcp，依次键入并执行如下命令：\n`screen -S dns2tcpd`　　　　　　　　　  #创建后台会话\n`dns2tcpd -f /etc/dns2tcpd.conf -F -d 2`　  #启动dns2tcp\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-09.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-09.png\" alt=\"\" /></a>\n\n当出现上图显示的内容时，说明dns2tcp启动成功了，此时按下Ctrl + a+d键，让dns2tcp进程后台执行，再关闭与服务器的连接就行了\n\n#### windows客户端配置：\n\n打开CMD，键入并执行如下命令 ： \n`dns2tcpc -r ssh -z dns.aliyun.top 140.205.32.13  -l 8888 -d 2`\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-10.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-10.png\" alt=\"\" /></a>\n\n当出现上图显示的内容时，代表会话已经建立了，此时最小化这个窗口，**记住千万不要关闭它！！！**\n\n>-r 后接服务名称<ssh/socks/http中的任意一个>\n>-z 后接你设置的NS记录,和你的VPS公网ip\n>-l 后接本地端口，随便一个常用端口就行\n>-d 开启 Debug\n\n现在假设你完全按照我给出的流程走的，离成功只有一步之遥了，下面用Xshell转换Socks4/5通用代理：\n　　在xshell中仿照上面新建会话：IP地址为127.0.0.1，端口为8888 ；然后点击隧道，类型选择socks4/5，端口填1080，输入完成后点击确定，若不出意外，此时CMD中会出现大量信息，这些信息代表通过dns2tcp的数据包，这就表明你的电脑已经在和服务器传输数据了。而xshell中又会提示你登录到你的服务器，仿照上文输入用户名和密码（最好选择记住用户名和密码，这样下次就不用那么麻烦了），点击确定并成功登录到你的服务器后，最小化xshell，**记住，此时千万不要关闭xshell！！！**\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-12.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-12.png\" alt=\"\" /></a>\n\n　打开Internet选项，依次选择\"连接\"->\"局域网设置\"->\"为LAN使用代理服务器\"->\"高级\"\n\n　在socks/套接字输入框中，要使用的代理服务器地址填127.0.0.1，端口填1080，然后点击确定。\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-11.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-11.png\" alt=\"\" /></a>\n\n**到此，大功告成，打开你的浏览器试试吧！！！**\n\n### 附录\n\n#### screen命令的使用：\n\n*screen命令用来创建后台进程，进程运行时，便于我们能继续做其它工作。*\n\n|   操作 | 命令  |\n| ------------ | ------------ |\n| 创建screen会话  | screen -S dns2tcpd   |\n| 启动dns2tcp | sudo dns2tcpd -f /etc/dns2tcpd.conf -F -d 2   |\n| 暂时离开快捷键   | Ctrl + a + d |\n| 恢复screen会话  |  screen -r dns2tcpd  |\n| 列出当前的会话列表  |  screen -ls   |\n| 强行终止dns2tcp进程 | screen -S dns2tcpd -X quit |\n\n\n#### 常见DNS记录的含义：\n\n|  记录 | 说明  |\n| ------------ | ------------ |\n|A记录  |  用来指定主机名或域名对应的IP地址记录，通俗来说A记录就是服务器的IP,域名绑定A记录就是告诉DNS,当你输入域名的时候给你引导向设置在DNS的A记录所对应的服务器。 |\n| NS记录 | 域名服务器记录，用来指定该域名由哪个DNS服务器来进行解析,简单的说，NS记录是指定由哪个DNS服务器解析你的域名。 |\n| MX记录 | 邮件交换记录，它指向一个邮件服务器，用于电子邮件系统发邮件时根据收信人的地址后缀来定位邮件服务器。  |\n| CNAME记录 |别名记录，允许您将多个名字映射到同一台计算机。通常用于同时提供WWW和MAIL服务的计算机。|\n","source":"_posts/绕过校园网Web认证.md","raw":"---\ntitle: 绕过校园网Web认证\ndate: 2019-12-10 21:34:58\npermalink: 8\ncategories: 好玩的事\ntags: 兴趣\nreward: true\ntoc: true\n---\n\n>该文章最初于2017年11月08日发布在[博客园](https://www.cnblogs.com/nkqlhqc/p/7805837.html)\n当初我还在上大一，掌握的计算机知识非常少，只是为了好玩，实现了自己的某个小想法。如今两年过去了，这篇文章已经有三万多人次的阅读量，我也很欣慰。现将该篇文章同步到我的个人博客中，以勉励自己，时刻保持一个好奇心。\n\n相信很多高校学生都有用WEB认证方式接入校园网的经历。\n\n　　拿我所在的大学为例，我们大学的校园网由联通公司承建，当我连上寝室的无线路由器后，浏览器会自动弹出一个由卓智公司开发的认证界面，如下图：\n<!-- More -->\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-01.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-01.png\" alt=\"\" /></a>\n\n　　如果买了联通公司的流量，会取得一个账号和密码，输入账号密码登陆后就能享用无线了，当然啦，对于爱折腾的人来说，总要想点方法绕过这个认证，不为别的，只为实现内心的一个想法。所以我就在各大技术论坛查询了一些绕过web认证的方法。网上有很多人给出了方法，这些方法大同小异，基本原理都一样，但是呢，难免有疏漏和难懂的地方。所以，接下来，我就对这个问题做一次系统的介绍。\n\n### 原理解释\n\n　　当我们连上校园网的无线路由器后，虽然上不了网，但是我们的计算机却分配到了IP地址（那么为什么要给我们分配IP呢？很好回答啦，不分配IP地址web认证就实现不了呀！）此时若我们进行一些上网的操作，例如访问百度主页，那么计算机的数据包将从TCP443端口上发出，校园网网关就会拦截从这个端口上发出的数据包。同理从其它端口上发出的数据包也会遭到拦截。\n\n　　**但是有一个神奇的端口，从这个端口发出的数据包不会遭到网关拦截，它就是UDP53端口。对计算机网络稍微了解的朋友应该知道在UDP53端口上运行的协议是DNS协议（域名解析协议），也就是说我们现在可以正常查询网站域名对应的IP地址。**\n\n例如用Windows自带的nslookup命令查询百度的IP地址时会返回一个正确的结果：\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-02.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-02.png\" alt=\"\" /></a>\n\n　　<strong>既然UDP53端口的数据包可以通过网关，那么我们可以在本地运行一个程序将其它端口的数据包伪装组成UDP53端口的数据包，然后发送到本地域名服务器，那么网关就不会进行拦截了，数据包就顺利的通过了网关，可是发送出去的数据报如何返回呢？这就需要我们做进一步的设置。</strong>\n\n　　接下来我们需要一个VPS（云服务器）和一个域名，我了便于叙述，我给这个云服务器起名为V，域名起名为Y。我们伪装的DNS数据包要查询的域名就是Y，本地域名服务器接收到这个伪装后的数据包后，由于它无法解析这个域名Y，便将数据包进行转发，让能够解析Y的域名服务器进行解析，接下来我们将Y设置一个NS记录，用来指定Y由哪个域名服务器来进行解析，我们指定的域名服务器就是前面提到的V，所以接下来数据包会被发送到V中。此时我们在V中运行一个程序，对伪装的数据包进行还原，还原后的数据包再发送出去，这样当V接收到响应数据包后，V上运行的程序会再次对其进行伪装，伪装成一个DNS响应数据包，这个DNS响应数据包会沿着上述相反的路径发送回我们的计算机，我们的计算机再次对这个DNS响应数据包进行还原，到现在，我们真正想要得到的数据包已经到手了。也许上面的叙述有点绕，我放一张图大家就能明白了：\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-03.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-03.png\" alt=\"\" /></a>\n\n好了，要是看了图没明白也没有关系，只要按照下面的步骤做就可以了。\n\n　　Windows上与Linux上实现方法不同，就伪装数据包的程序而言，在windows平台上推荐使用dns2tcp这个软件，而在linux平台上推荐使用iodine这个软件，关于iodine的使用，我会再写一篇文章，所以下面主要讲一下dns2tcp的使用，也就是在windows上实现绕过WEB认证，linux系统用户请移步我的另一篇文章\n\n### 安装软件\n\n　　在本地计算机上安装dns2tcp这个软件，它的作用是对数据包进行伪装与还原。\n\n　　附Windows版下载地址：[https://pan.baidu.com/s/1y1OSPjCyLZ97P0B58Bukzw](https://pan.baidu.com/s/1y1OSPjCyLZ97P0B58Bukzw \"https://pan.baidu.com/s/1y1OSPjCyLZ97P0B58Bukzw\")   提取码：w198\n\n### 配置虚拟主机\n\n　　申请一个VPS，国内VPS服务商众多，什么阿里云啦，腾讯云啦，百度云啦。在这里我给大家推荐由世纪互联运营的微软Azure云服务器，1元体验一个月，申请与部署方式很简单，而且服务器配置与带宽很高，可惜的是就能使用一个月，其实学服务器开发的大学朋友们也可以申请一个练练手，毕竟这是一次难得的实践机会嘛！\n\n附微软Azure云服务器申请地址：[https://www.azure.cn/pricing/1rmb-trial-full/](https://www.azure.cn/pricing/1rmb-trial-full/ \"https://www.azure.cn/pricing/1rmb-trial-full/\")\n\n　　有关申请与部署服务器的细节，我就不再赘述了，按照流程走就行。有不懂的地方可以参看微软给的文档和视频教程。\n\n　　下面这个操作尤为重要，部署成功服务器后，务必参照微软的文档为服务器添加入站与出站规则，也就是哪些类型的数据包可以进出你的服务器，那些类型的数据包会被防火墙拦截，这个步骤决定着伪装的数据包是否能够进入到我们的VBS\n\n将TCP80，TCP443，UDP53端口的数据设置为允许入站与出站，如下图所示：\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-13.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-13.png\" alt=\"\" /></a>\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-14.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-14.png\" alt=\"\" /></a>\n\n申请成功后，微软会给你一个公网IP，这个公网IP一定要牢记，接下来需要用到,现在假定你得到的公网IP为140.205.32.13\n\n### 配置域名\n\n　　申请一个域名，推荐到阿里云申请，因为便宜，我申请的.top国际顶级域名第一年才1块钱。\n　　附申请地址：[https://wanwang.aliyun.com/domain/yumingheji](https://wanwang.aliyun.com/domain/yumingheji \"https://wanwang.aliyun.com/domain/yumingheji\")\n\n　　申请过程请严格按照人家的流程，不过要提醒一点的是务必要用真实信息，否则人家会封掉你的域名。\n\n　　现在假定你申请到了一个域名，假如你申请到的域名为aliyun.top,你需要进入阿里云的域名控制台，为其添加两条记录。\n\n　　第一条为NS记录，主机记录填一个自己喜欢的名称，记录值为解析该域名的域名，记录值要牢记，下面用的到。\n\n　　假设你添加的NS记录名称为fq, 记录值为dns.aliyun.top。\n\n　　再为申请到的域名添加一个A记录，A记录的主机记录是NS记录的记录值，A记录的记录值是你所申请到的VPS的公网IP，如下表：\n\n| 记录类型 | 主机记录 | 记录值 |\n| ------------ | ------------ | ------------ |\n| NS |  fq | dns.alibaba.top |\n|  A  | dns | 140.205.32.13 |\n\n\n　　当本地域名服务器无法解析我们伪装的数据包后，便将数据包发送给NS记录指定的服务器dns.aliyun.top, 而dns.aliyun.top的IP地址已经在A记录中给出了，所以刚才原理没看懂的朋友朋友们现在应该知道为什么本地域名服务器会将数据包发送到我们的VPS中了吧\n\n### 启动代理\n\n　　windows系统用户在计算机上安装一个名为xshell的软件，它用来连接我们的VPS。\n　　附下载地址：[http://www.downxia.com/downinfo/150560.html?fromm](http://www.downxia.com/downinfo/150560.html?fromm \"http://www.downxia.com/downinfo/150560.html?fromm\")\n\n　　下载后安装，安装时选择“家庭/学校 ”版，商业版要钱，家庭版其实就能满足我们的需求了。\n\n　　安装成功后，依次点击点击\"文件\"->\"新建\"。名称随意，协议选择SSH，主机名填你的VBS公网IP，端口号填22，添完后点击连接；\n\n　　等一会弹出一个输入用户名的窗口，输入你部署服务器时设置的用户名，输入完成后点击记住用户名，点击确定。在弹出的新窗口中输入你部署服务器时设置的密码，输入完成后点击确定，不出意外，你将会连接到你的VBS,如下图：\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-04.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-04.png\" alt=\"\" /></a>\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-05.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-05.png\" alt=\"\" /></a>\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-06.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-06.png\" alt=\"\" /></a>\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-08.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-08.png\" alt=\"\" /></a>\n\n接下来在Xshell中输入sudo apt-get install dns2tcp，敲回车，这条命令用来安装dns2tcp这个软件，很快就会安装完毕。\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-07.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-07.png\" alt=\"\" /></a>\n\n【注】没用过Linux的用户可能看不懂这些Linux命令，但是不懂没关系，跟着我做就行了。\n\n#### 配置dns2tcp：\n\n再次敲入命令：`sudo vim /etc/dns2tcpd.conf` ，用vim编辑器将其中的内容替换为以下内容：\n\n>listen = 10.0.0.4     #这里写你的云服务器的内网IP\n>port = 53\n>user = nobody\n>chroot = /tmp\n>domain = dns.aliyun.top         #这里写你设置的NS记录值\n>resources = ssh:127.0.0.1:22,socks:127.0.0.1:1082,http:127.0.0.1:3128\n\n下面创建后台进程，运行dns2tcp，依次键入并执行如下命令：\n`screen -S dns2tcpd`　　　　　　　　　  #创建后台会话\n`dns2tcpd -f /etc/dns2tcpd.conf -F -d 2`　  #启动dns2tcp\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-09.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-09.png\" alt=\"\" /></a>\n\n当出现上图显示的内容时，说明dns2tcp启动成功了，此时按下Ctrl + a+d键，让dns2tcp进程后台执行，再关闭与服务器的连接就行了\n\n#### windows客户端配置：\n\n打开CMD，键入并执行如下命令 ： \n`dns2tcpc -r ssh -z dns.aliyun.top 140.205.32.13  -l 8888 -d 2`\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-10.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-10.png\" alt=\"\" /></a>\n\n当出现上图显示的内容时，代表会话已经建立了，此时最小化这个窗口，**记住千万不要关闭它！！！**\n\n>-r 后接服务名称<ssh/socks/http中的任意一个>\n>-z 后接你设置的NS记录,和你的VPS公网ip\n>-l 后接本地端口，随便一个常用端口就行\n>-d 开启 Debug\n\n现在假设你完全按照我给出的流程走的，离成功只有一步之遥了，下面用Xshell转换Socks4/5通用代理：\n　　在xshell中仿照上面新建会话：IP地址为127.0.0.1，端口为8888 ；然后点击隧道，类型选择socks4/5，端口填1080，输入完成后点击确定，若不出意外，此时CMD中会出现大量信息，这些信息代表通过dns2tcp的数据包，这就表明你的电脑已经在和服务器传输数据了。而xshell中又会提示你登录到你的服务器，仿照上文输入用户名和密码（最好选择记住用户名和密码，这样下次就不用那么麻烦了），点击确定并成功登录到你的服务器后，最小化xshell，**记住，此时千万不要关闭xshell！！！**\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-12.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-12.png\" alt=\"\" /></a>\n\n　打开Internet选项，依次选择\"连接\"->\"局域网设置\"->\"为LAN使用代理服务器\"->\"高级\"\n\n　在socks/套接字输入框中，要使用的代理服务器地址填127.0.0.1，端口填1080，然后点击确定。\n\n<a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-11.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-11.png\" alt=\"\" /></a>\n\n**到此，大功告成，打开你的浏览器试试吧！！！**\n\n### 附录\n\n#### screen命令的使用：\n\n*screen命令用来创建后台进程，进程运行时，便于我们能继续做其它工作。*\n\n|   操作 | 命令  |\n| ------------ | ------------ |\n| 创建screen会话  | screen -S dns2tcpd   |\n| 启动dns2tcp | sudo dns2tcpd -f /etc/dns2tcpd.conf -F -d 2   |\n| 暂时离开快捷键   | Ctrl + a + d |\n| 恢复screen会话  |  screen -r dns2tcpd  |\n| 列出当前的会话列表  |  screen -ls   |\n| 强行终止dns2tcp进程 | screen -S dns2tcpd -X quit |\n\n\n#### 常见DNS记录的含义：\n\n|  记录 | 说明  |\n| ------------ | ------------ |\n|A记录  |  用来指定主机名或域名对应的IP地址记录，通俗来说A记录就是服务器的IP,域名绑定A记录就是告诉DNS,当你输入域名的时候给你引导向设置在DNS的A记录所对应的服务器。 |\n| NS记录 | 域名服务器记录，用来指定该域名由哪个DNS服务器来进行解析,简单的说，NS记录是指定由哪个DNS服务器解析你的域名。 |\n| MX记录 | 邮件交换记录，它指向一个邮件服务器，用于电子邮件系统发邮件时根据收信人的地址后缀来定位邮件服务器。  |\n| CNAME记录 |别名记录，允许您将多个名字映射到同一台计算机。通常用于同时提供WWW和MAIL服务的计算机。|\n","slug":"8","published":1,"updated":"2020-01-07T07:47:45.953Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck541morh000kecfw9su6clac","content":"<blockquote>\n<p>该文章最初于2017年11月08日发布在<a href=\"https://www.cnblogs.com/nkqlhqc/p/7805837.html\">博客园</a><br>当初我还在上大一，掌握的计算机知识非常少，只是为了好玩，实现了自己的某个小想法。如今两年过去了，这篇文章已经有三万多人次的阅读量，我也很欣慰。现将该篇文章同步到我的个人博客中，以勉励自己，时刻保持一个好奇心。</p>\n</blockquote>\n<p>相信很多高校学生都有用WEB认证方式接入校园网的经历。</p>\n<p>　　拿我所在的大学为例，我们大学的校园网由联通公司承建，当我连上寝室的无线路由器后，浏览器会自动弹出一个由卓智公司开发的认证界面，如下图：</p>\n<a id=\"more\"></a>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-01.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-01.png\" alt=\"\" /></a></p>\n<p>　　如果买了联通公司的流量，会取得一个账号和密码，输入账号密码登陆后就能享用无线了，当然啦，对于爱折腾的人来说，总要想点方法绕过这个认证，不为别的，只为实现内心的一个想法。所以我就在各大技术论坛查询了一些绕过web认证的方法。网上有很多人给出了方法，这些方法大同小异，基本原理都一样，但是呢，难免有疏漏和难懂的地方。所以，接下来，我就对这个问题做一次系统的介绍。</p>\n<h3 id=\"原理解释\"><a href=\"#原理解释\" class=\"headerlink\" title=\"原理解释\"></a>原理解释</h3><p>　　当我们连上校园网的无线路由器后，虽然上不了网，但是我们的计算机却分配到了IP地址（那么为什么要给我们分配IP呢？很好回答啦，不分配IP地址web认证就实现不了呀！）此时若我们进行一些上网的操作，例如访问百度主页，那么计算机的数据包将从TCP443端口上发出，校园网网关就会拦截从这个端口上发出的数据包。同理从其它端口上发出的数据包也会遭到拦截。</p>\n<p>　　<strong>但是有一个神奇的端口，从这个端口发出的数据包不会遭到网关拦截，它就是UDP53端口。对计算机网络稍微了解的朋友应该知道在UDP53端口上运行的协议是DNS协议（域名解析协议），也就是说我们现在可以正常查询网站域名对应的IP地址。</strong></p>\n<p>例如用Windows自带的nslookup命令查询百度的IP地址时会返回一个正确的结果：</p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-02.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-02.png\" alt=\"\" /></a></p>\n<p>　　<strong>既然UDP53端口的数据包可以通过网关，那么我们可以在本地运行一个程序将其它端口的数据包伪装组成UDP53端口的数据包，然后发送到本地域名服务器，那么网关就不会进行拦截了，数据包就顺利的通过了网关，可是发送出去的数据报如何返回呢？这就需要我们做进一步的设置。</strong></p>\n<p>　　接下来我们需要一个VPS（云服务器）和一个域名，我了便于叙述，我给这个云服务器起名为V，域名起名为Y。我们伪装的DNS数据包要查询的域名就是Y，本地域名服务器接收到这个伪装后的数据包后，由于它无法解析这个域名Y，便将数据包进行转发，让能够解析Y的域名服务器进行解析，接下来我们将Y设置一个NS记录，用来指定Y由哪个域名服务器来进行解析，我们指定的域名服务器就是前面提到的V，所以接下来数据包会被发送到V中。此时我们在V中运行一个程序，对伪装的数据包进行还原，还原后的数据包再发送出去，这样当V接收到响应数据包后，V上运行的程序会再次对其进行伪装，伪装成一个DNS响应数据包，这个DNS响应数据包会沿着上述相反的路径发送回我们的计算机，我们的计算机再次对这个DNS响应数据包进行还原，到现在，我们真正想要得到的数据包已经到手了。也许上面的叙述有点绕，我放一张图大家就能明白了：</p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-03.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-03.png\" alt=\"\" /></a></p>\n<p>好了，要是看了图没明白也没有关系，只要按照下面的步骤做就可以了。</p>\n<p>　　Windows上与Linux上实现方法不同，就伪装数据包的程序而言，在windows平台上推荐使用dns2tcp这个软件，而在linux平台上推荐使用iodine这个软件，关于iodine的使用，我会再写一篇文章，所以下面主要讲一下dns2tcp的使用，也就是在windows上实现绕过WEB认证，linux系统用户请移步我的另一篇文章</p>\n<h3 id=\"安装软件\"><a href=\"#安装软件\" class=\"headerlink\" title=\"安装软件\"></a>安装软件</h3><p>　　在本地计算机上安装dns2tcp这个软件，它的作用是对数据包进行伪装与还原。</p>\n<p>　　附Windows版下载地址：<a href=\"https://pan.baidu.com/s/1y1OSPjCyLZ97P0B58Bukzw\" title=\"https://pan.baidu.com/s/1y1OSPjCyLZ97P0B58Bukzw\">https://pan.baidu.com/s/1y1OSPjCyLZ97P0B58Bukzw</a>   提取码：w198</p>\n<h3 id=\"配置虚拟主机\"><a href=\"#配置虚拟主机\" class=\"headerlink\" title=\"配置虚拟主机\"></a>配置虚拟主机</h3><p>　　申请一个VPS，国内VPS服务商众多，什么阿里云啦，腾讯云啦，百度云啦。在这里我给大家推荐由世纪互联运营的微软Azure云服务器，1元体验一个月，申请与部署方式很简单，而且服务器配置与带宽很高，可惜的是就能使用一个月，其实学服务器开发的大学朋友们也可以申请一个练练手，毕竟这是一次难得的实践机会嘛！</p>\n<p>附微软Azure云服务器申请地址：<a href=\"https://www.azure.cn/pricing/1rmb-trial-full/\" title=\"https://www.azure.cn/pricing/1rmb-trial-full/\">https://www.azure.cn/pricing/1rmb-trial-full/</a></p>\n<p>　　有关申请与部署服务器的细节，我就不再赘述了，按照流程走就行。有不懂的地方可以参看微软给的文档和视频教程。</p>\n<p>　　下面这个操作尤为重要，部署成功服务器后，务必参照微软的文档为服务器添加入站与出站规则，也就是哪些类型的数据包可以进出你的服务器，那些类型的数据包会被防火墙拦截，这个步骤决定着伪装的数据包是否能够进入到我们的VBS</p>\n<p>将TCP80，TCP443，UDP53端口的数据设置为允许入站与出站，如下图所示：</p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-13.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-13.png\" alt=\"\" /></a></p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-14.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-14.png\" alt=\"\" /></a></p>\n<p>申请成功后，微软会给你一个公网IP，这个公网IP一定要牢记，接下来需要用到,现在假定你得到的公网IP为140.205.32.13</p>\n<h3 id=\"配置域名\"><a href=\"#配置域名\" class=\"headerlink\" title=\"配置域名\"></a>配置域名</h3><p>　　申请一个域名，推荐到阿里云申请，因为便宜，我申请的.top国际顶级域名第一年才1块钱。<br>　　附申请地址：<a href=\"https://wanwang.aliyun.com/domain/yumingheji\" title=\"https://wanwang.aliyun.com/domain/yumingheji\">https://wanwang.aliyun.com/domain/yumingheji</a></p>\n<p>　　申请过程请严格按照人家的流程，不过要提醒一点的是务必要用真实信息，否则人家会封掉你的域名。</p>\n<p>　　现在假定你申请到了一个域名，假如你申请到的域名为aliyun.top,你需要进入阿里云的域名控制台，为其添加两条记录。</p>\n<p>　　第一条为NS记录，主机记录填一个自己喜欢的名称，记录值为解析该域名的域名，记录值要牢记，下面用的到。</p>\n<p>　　假设你添加的NS记录名称为fq, 记录值为dns.aliyun.top。</p>\n<p>　　再为申请到的域名添加一个A记录，A记录的主机记录是NS记录的记录值，A记录的记录值是你所申请到的VPS的公网IP，如下表：</p>\n<table>\n<thead>\n<tr>\n<th>记录类型</th>\n<th>主机记录</th>\n<th>记录值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>NS</td>\n<td>fq</td>\n<td>dns.alibaba.top</td>\n</tr>\n<tr>\n<td>A</td>\n<td>dns</td>\n<td>140.205.32.13</td>\n</tr>\n</tbody></table>\n<p>　　当本地域名服务器无法解析我们伪装的数据包后，便将数据包发送给NS记录指定的服务器dns.aliyun.top, 而dns.aliyun.top的IP地址已经在A记录中给出了，所以刚才原理没看懂的朋友朋友们现在应该知道为什么本地域名服务器会将数据包发送到我们的VPS中了吧</p>\n<h3 id=\"启动代理\"><a href=\"#启动代理\" class=\"headerlink\" title=\"启动代理\"></a>启动代理</h3><p>　　windows系统用户在计算机上安装一个名为xshell的软件，它用来连接我们的VPS。<br>　　附下载地址：<a href=\"http://www.downxia.com/downinfo/150560.html?fromm\" title=\"http://www.downxia.com/downinfo/150560.html?fromm\">http://www.downxia.com/downinfo/150560.html?fromm</a></p>\n<p>　　下载后安装，安装时选择“家庭/学校 ”版，商业版要钱，家庭版其实就能满足我们的需求了。</p>\n<p>　　安装成功后，依次点击点击”文件”-&gt;”新建”。名称随意，协议选择SSH，主机名填你的VBS公网IP，端口号填22，添完后点击连接；</p>\n<p>　　等一会弹出一个输入用户名的窗口，输入你部署服务器时设置的用户名，输入完成后点击记住用户名，点击确定。在弹出的新窗口中输入你部署服务器时设置的密码，输入完成后点击确定，不出意外，你将会连接到你的VBS,如下图：</p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-04.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-04.png\" alt=\"\" /></a></p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-05.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-05.png\" alt=\"\" /></a></p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-06.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-06.png\" alt=\"\" /></a></p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-08.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-08.png\" alt=\"\" /></a></p>\n<p>接下来在Xshell中输入sudo apt-get install dns2tcp，敲回车，这条命令用来安装dns2tcp这个软件，很快就会安装完毕。</p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-07.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-07.png\" alt=\"\" /></a></p>\n<p>【注】没用过Linux的用户可能看不懂这些Linux命令，但是不懂没关系，跟着我做就行了。</p>\n<h4 id=\"配置dns2tcp：\"><a href=\"#配置dns2tcp：\" class=\"headerlink\" title=\"配置dns2tcp：\"></a>配置dns2tcp：</h4><p>再次敲入命令：<code>sudo vim /etc/dns2tcpd.conf</code> ，用vim编辑器将其中的内容替换为以下内容：</p>\n<blockquote>\n<p>listen = 10.0.0.4     #这里写你的云服务器的内网IP<br>port = 53<br>user = nobody<br>chroot = /tmp<br>domain = dns.aliyun.top         #这里写你设置的NS记录值<br>resources = ssh:127.0.0.1:22,socks:127.0.0.1:1082,http:127.0.0.1:3128</p>\n</blockquote>\n<p>下面创建后台进程，运行dns2tcp，依次键入并执行如下命令：<br><code>screen -S dns2tcpd</code>　　　　　　　　　  #创建后台会话<br><code>dns2tcpd -f /etc/dns2tcpd.conf -F -d 2</code>　  #启动dns2tcp</p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-09.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-09.png\" alt=\"\" /></a></p>\n<p>当出现上图显示的内容时，说明dns2tcp启动成功了，此时按下Ctrl + a+d键，让dns2tcp进程后台执行，再关闭与服务器的连接就行了</p>\n<h4 id=\"windows客户端配置：\"><a href=\"#windows客户端配置：\" class=\"headerlink\" title=\"windows客户端配置：\"></a>windows客户端配置：</h4><p>打开CMD，键入并执行如下命令 ：<br><code>dns2tcpc -r ssh -z dns.aliyun.top 140.205.32.13  -l 8888 -d 2</code></p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-10.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-10.png\" alt=\"\" /></a></p>\n<p>当出现上图显示的内容时，代表会话已经建立了，此时最小化这个窗口，<strong>记住千万不要关闭它！！！</strong></p>\n<blockquote>\n<p>-r 后接服务名称&lt;ssh/socks/http中的任意一个&gt;<br>-z 后接你设置的NS记录,和你的VPS公网ip<br>-l 后接本地端口，随便一个常用端口就行<br>-d 开启 Debug</p>\n</blockquote>\n<p>现在假设你完全按照我给出的流程走的，离成功只有一步之遥了，下面用Xshell转换Socks4/5通用代理：<br>　　在xshell中仿照上面新建会话：IP地址为127.0.0.1，端口为8888 ；然后点击隧道，类型选择socks4/5，端口填1080，输入完成后点击确定，若不出意外，此时CMD中会出现大量信息，这些信息代表通过dns2tcp的数据包，这就表明你的电脑已经在和服务器传输数据了。而xshell中又会提示你登录到你的服务器，仿照上文输入用户名和密码（最好选择记住用户名和密码，这样下次就不用那么麻烦了），点击确定并成功登录到你的服务器后，最小化xshell，<strong>记住，此时千万不要关闭xshell！！！</strong></p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-12.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-12.png\" alt=\"\" /></a></p>\n<p>　打开Internet选项，依次选择”连接”-&gt;”局域网设置”-&gt;”为LAN使用代理服务器”-&gt;”高级”</p>\n<p>　在socks/套接字输入框中，要使用的代理服务器地址填127.0.0.1，端口填1080，然后点击确定。</p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-11.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-11.png\" alt=\"\" /></a></p>\n<p><strong>到此，大功告成，打开你的浏览器试试吧！！！</strong></p>\n<h3 id=\"附录\"><a href=\"#附录\" class=\"headerlink\" title=\"附录\"></a>附录</h3><h4 id=\"screen命令的使用：\"><a href=\"#screen命令的使用：\" class=\"headerlink\" title=\"screen命令的使用：\"></a>screen命令的使用：</h4><p><em>screen命令用来创建后台进程，进程运行时，便于我们能继续做其它工作。</em></p>\n<table>\n<thead>\n<tr>\n<th>操作</th>\n<th>命令</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>创建screen会话</td>\n<td>screen -S dns2tcpd</td>\n</tr>\n<tr>\n<td>启动dns2tcp</td>\n<td>sudo dns2tcpd -f /etc/dns2tcpd.conf -F -d 2</td>\n</tr>\n<tr>\n<td>暂时离开快捷键</td>\n<td>Ctrl + a + d</td>\n</tr>\n<tr>\n<td>恢复screen会话</td>\n<td>screen -r dns2tcpd</td>\n</tr>\n<tr>\n<td>列出当前的会话列表</td>\n<td>screen -ls</td>\n</tr>\n<tr>\n<td>强行终止dns2tcp进程</td>\n<td>screen -S dns2tcpd -X quit</td>\n</tr>\n</tbody></table>\n<h4 id=\"常见DNS记录的含义：\"><a href=\"#常见DNS记录的含义：\" class=\"headerlink\" title=\"常见DNS记录的含义：\"></a>常见DNS记录的含义：</h4><table>\n<thead>\n<tr>\n<th>记录</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>A记录</td>\n<td>用来指定主机名或域名对应的IP地址记录，通俗来说A记录就是服务器的IP,域名绑定A记录就是告诉DNS,当你输入域名的时候给你引导向设置在DNS的A记录所对应的服务器。</td>\n</tr>\n<tr>\n<td>NS记录</td>\n<td>域名服务器记录，用来指定该域名由哪个DNS服务器来进行解析,简单的说，NS记录是指定由哪个DNS服务器解析你的域名。</td>\n</tr>\n<tr>\n<td>MX记录</td>\n<td>邮件交换记录，它指向一个邮件服务器，用于电子邮件系统发邮件时根据收信人的地址后缀来定位邮件服务器。</td>\n</tr>\n<tr>\n<td>CNAME记录</td>\n<td>别名记录，允许您将多个名字映射到同一台计算机。通常用于同时提供WWW和MAIL服务的计算机。</td>\n</tr>\n</tbody></table>\n","site":{"data":{}},"excerpt":"<blockquote>\n<p>该文章最初于2017年11月08日发布在<a href=\"https://www.cnblogs.com/nkqlhqc/p/7805837.html\">博客园</a><br>当初我还在上大一，掌握的计算机知识非常少，只是为了好玩，实现了自己的某个小想法。如今两年过去了，这篇文章已经有三万多人次的阅读量，我也很欣慰。现将该篇文章同步到我的个人博客中，以勉励自己，时刻保持一个好奇心。</p>\n</blockquote>\n<p>相信很多高校学生都有用WEB认证方式接入校园网的经历。</p>\n<p>　　拿我所在的大学为例，我们大学的校园网由联通公司承建，当我连上寝室的无线路由器后，浏览器会自动弹出一个由卓智公司开发的认证界面，如下图：</p>","more":"<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-01.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-01.png\" alt=\"\" /></a></p>\n<p>　　如果买了联通公司的流量，会取得一个账号和密码，输入账号密码登陆后就能享用无线了，当然啦，对于爱折腾的人来说，总要想点方法绕过这个认证，不为别的，只为实现内心的一个想法。所以我就在各大技术论坛查询了一些绕过web认证的方法。网上有很多人给出了方法，这些方法大同小异，基本原理都一样，但是呢，难免有疏漏和难懂的地方。所以，接下来，我就对这个问题做一次系统的介绍。</p>\n<h3 id=\"原理解释\"><a href=\"#原理解释\" class=\"headerlink\" title=\"原理解释\"></a>原理解释</h3><p>　　当我们连上校园网的无线路由器后，虽然上不了网，但是我们的计算机却分配到了IP地址（那么为什么要给我们分配IP呢？很好回答啦，不分配IP地址web认证就实现不了呀！）此时若我们进行一些上网的操作，例如访问百度主页，那么计算机的数据包将从TCP443端口上发出，校园网网关就会拦截从这个端口上发出的数据包。同理从其它端口上发出的数据包也会遭到拦截。</p>\n<p>　　<strong>但是有一个神奇的端口，从这个端口发出的数据包不会遭到网关拦截，它就是UDP53端口。对计算机网络稍微了解的朋友应该知道在UDP53端口上运行的协议是DNS协议（域名解析协议），也就是说我们现在可以正常查询网站域名对应的IP地址。</strong></p>\n<p>例如用Windows自带的nslookup命令查询百度的IP地址时会返回一个正确的结果：</p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-02.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-02.png\" alt=\"\" /></a></p>\n<p>　　<strong>既然UDP53端口的数据包可以通过网关，那么我们可以在本地运行一个程序将其它端口的数据包伪装组成UDP53端口的数据包，然后发送到本地域名服务器，那么网关就不会进行拦截了，数据包就顺利的通过了网关，可是发送出去的数据报如何返回呢？这就需要我们做进一步的设置。</strong></p>\n<p>　　接下来我们需要一个VPS（云服务器）和一个域名，我了便于叙述，我给这个云服务器起名为V，域名起名为Y。我们伪装的DNS数据包要查询的域名就是Y，本地域名服务器接收到这个伪装后的数据包后，由于它无法解析这个域名Y，便将数据包进行转发，让能够解析Y的域名服务器进行解析，接下来我们将Y设置一个NS记录，用来指定Y由哪个域名服务器来进行解析，我们指定的域名服务器就是前面提到的V，所以接下来数据包会被发送到V中。此时我们在V中运行一个程序，对伪装的数据包进行还原，还原后的数据包再发送出去，这样当V接收到响应数据包后，V上运行的程序会再次对其进行伪装，伪装成一个DNS响应数据包，这个DNS响应数据包会沿着上述相反的路径发送回我们的计算机，我们的计算机再次对这个DNS响应数据包进行还原，到现在，我们真正想要得到的数据包已经到手了。也许上面的叙述有点绕，我放一张图大家就能明白了：</p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-03.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-03.png\" alt=\"\" /></a></p>\n<p>好了，要是看了图没明白也没有关系，只要按照下面的步骤做就可以了。</p>\n<p>　　Windows上与Linux上实现方法不同，就伪装数据包的程序而言，在windows平台上推荐使用dns2tcp这个软件，而在linux平台上推荐使用iodine这个软件，关于iodine的使用，我会再写一篇文章，所以下面主要讲一下dns2tcp的使用，也就是在windows上实现绕过WEB认证，linux系统用户请移步我的另一篇文章</p>\n<h3 id=\"安装软件\"><a href=\"#安装软件\" class=\"headerlink\" title=\"安装软件\"></a>安装软件</h3><p>　　在本地计算机上安装dns2tcp这个软件，它的作用是对数据包进行伪装与还原。</p>\n<p>　　附Windows版下载地址：<a href=\"https://pan.baidu.com/s/1y1OSPjCyLZ97P0B58Bukzw\" title=\"https://pan.baidu.com/s/1y1OSPjCyLZ97P0B58Bukzw\">https://pan.baidu.com/s/1y1OSPjCyLZ97P0B58Bukzw</a>   提取码：w198</p>\n<h3 id=\"配置虚拟主机\"><a href=\"#配置虚拟主机\" class=\"headerlink\" title=\"配置虚拟主机\"></a>配置虚拟主机</h3><p>　　申请一个VPS，国内VPS服务商众多，什么阿里云啦，腾讯云啦，百度云啦。在这里我给大家推荐由世纪互联运营的微软Azure云服务器，1元体验一个月，申请与部署方式很简单，而且服务器配置与带宽很高，可惜的是就能使用一个月，其实学服务器开发的大学朋友们也可以申请一个练练手，毕竟这是一次难得的实践机会嘛！</p>\n<p>附微软Azure云服务器申请地址：<a href=\"https://www.azure.cn/pricing/1rmb-trial-full/\" title=\"https://www.azure.cn/pricing/1rmb-trial-full/\">https://www.azure.cn/pricing/1rmb-trial-full/</a></p>\n<p>　　有关申请与部署服务器的细节，我就不再赘述了，按照流程走就行。有不懂的地方可以参看微软给的文档和视频教程。</p>\n<p>　　下面这个操作尤为重要，部署成功服务器后，务必参照微软的文档为服务器添加入站与出站规则，也就是哪些类型的数据包可以进出你的服务器，那些类型的数据包会被防火墙拦截，这个步骤决定着伪装的数据包是否能够进入到我们的VBS</p>\n<p>将TCP80，TCP443，UDP53端口的数据设置为允许入站与出站，如下图所示：</p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-13.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-13.png\" alt=\"\" /></a></p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-14.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-14.png\" alt=\"\" /></a></p>\n<p>申请成功后，微软会给你一个公网IP，这个公网IP一定要牢记，接下来需要用到,现在假定你得到的公网IP为140.205.32.13</p>\n<h3 id=\"配置域名\"><a href=\"#配置域名\" class=\"headerlink\" title=\"配置域名\"></a>配置域名</h3><p>　　申请一个域名，推荐到阿里云申请，因为便宜，我申请的.top国际顶级域名第一年才1块钱。<br>　　附申请地址：<a href=\"https://wanwang.aliyun.com/domain/yumingheji\" title=\"https://wanwang.aliyun.com/domain/yumingheji\">https://wanwang.aliyun.com/domain/yumingheji</a></p>\n<p>　　申请过程请严格按照人家的流程，不过要提醒一点的是务必要用真实信息，否则人家会封掉你的域名。</p>\n<p>　　现在假定你申请到了一个域名，假如你申请到的域名为aliyun.top,你需要进入阿里云的域名控制台，为其添加两条记录。</p>\n<p>　　第一条为NS记录，主机记录填一个自己喜欢的名称，记录值为解析该域名的域名，记录值要牢记，下面用的到。</p>\n<p>　　假设你添加的NS记录名称为fq, 记录值为dns.aliyun.top。</p>\n<p>　　再为申请到的域名添加一个A记录，A记录的主机记录是NS记录的记录值，A记录的记录值是你所申请到的VPS的公网IP，如下表：</p>\n<table>\n<thead>\n<tr>\n<th>记录类型</th>\n<th>主机记录</th>\n<th>记录值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>NS</td>\n<td>fq</td>\n<td>dns.alibaba.top</td>\n</tr>\n<tr>\n<td>A</td>\n<td>dns</td>\n<td>140.205.32.13</td>\n</tr>\n</tbody></table>\n<p>　　当本地域名服务器无法解析我们伪装的数据包后，便将数据包发送给NS记录指定的服务器dns.aliyun.top, 而dns.aliyun.top的IP地址已经在A记录中给出了，所以刚才原理没看懂的朋友朋友们现在应该知道为什么本地域名服务器会将数据包发送到我们的VPS中了吧</p>\n<h3 id=\"启动代理\"><a href=\"#启动代理\" class=\"headerlink\" title=\"启动代理\"></a>启动代理</h3><p>　　windows系统用户在计算机上安装一个名为xshell的软件，它用来连接我们的VPS。<br>　　附下载地址：<a href=\"http://www.downxia.com/downinfo/150560.html?fromm\" title=\"http://www.downxia.com/downinfo/150560.html?fromm\">http://www.downxia.com/downinfo/150560.html?fromm</a></p>\n<p>　　下载后安装，安装时选择“家庭/学校 ”版，商业版要钱，家庭版其实就能满足我们的需求了。</p>\n<p>　　安装成功后，依次点击点击”文件”-&gt;”新建”。名称随意，协议选择SSH，主机名填你的VBS公网IP，端口号填22，添完后点击连接；</p>\n<p>　　等一会弹出一个输入用户名的窗口，输入你部署服务器时设置的用户名，输入完成后点击记住用户名，点击确定。在弹出的新窗口中输入你部署服务器时设置的密码，输入完成后点击确定，不出意外，你将会连接到你的VBS,如下图：</p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-04.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-04.png\" alt=\"\" /></a></p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-05.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-05.png\" alt=\"\" /></a></p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-06.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-06.png\" alt=\"\" /></a></p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-08.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-08.png\" alt=\"\" /></a></p>\n<p>接下来在Xshell中输入sudo apt-get install dns2tcp，敲回车，这条命令用来安装dns2tcp这个软件，很快就会安装完毕。</p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-07.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-07.png\" alt=\"\" /></a></p>\n<p>【注】没用过Linux的用户可能看不懂这些Linux命令，但是不懂没关系，跟着我做就行了。</p>\n<h4 id=\"配置dns2tcp：\"><a href=\"#配置dns2tcp：\" class=\"headerlink\" title=\"配置dns2tcp：\"></a>配置dns2tcp：</h4><p>再次敲入命令：<code>sudo vim /etc/dns2tcpd.conf</code> ，用vim编辑器将其中的内容替换为以下内容：</p>\n<blockquote>\n<p>listen = 10.0.0.4     #这里写你的云服务器的内网IP<br>port = 53<br>user = nobody<br>chroot = /tmp<br>domain = dns.aliyun.top         #这里写你设置的NS记录值<br>resources = ssh:127.0.0.1:22,socks:127.0.0.1:1082,http:127.0.0.1:3128</p>\n</blockquote>\n<p>下面创建后台进程，运行dns2tcp，依次键入并执行如下命令：<br><code>screen -S dns2tcpd</code>　　　　　　　　　  #创建后台会话<br><code>dns2tcpd -f /etc/dns2tcpd.conf -F -d 2</code>　  #启动dns2tcp</p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-09.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-09.png\" alt=\"\" /></a></p>\n<p>当出现上图显示的内容时，说明dns2tcp启动成功了，此时按下Ctrl + a+d键，让dns2tcp进程后台执行，再关闭与服务器的连接就行了</p>\n<h4 id=\"windows客户端配置：\"><a href=\"#windows客户端配置：\" class=\"headerlink\" title=\"windows客户端配置：\"></a>windows客户端配置：</h4><p>打开CMD，键入并执行如下命令 ：<br><code>dns2tcpc -r ssh -z dns.aliyun.top 140.205.32.13  -l 8888 -d 2</code></p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-10.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-10.png\" alt=\"\" /></a></p>\n<p>当出现上图显示的内容时，代表会话已经建立了，此时最小化这个窗口，<strong>记住千万不要关闭它！！！</strong></p>\n<blockquote>\n<p>-r 后接服务名称&lt;ssh/socks/http中的任意一个&gt;<br>-z 后接你设置的NS记录,和你的VPS公网ip<br>-l 后接本地端口，随便一个常用端口就行<br>-d 开启 Debug</p>\n</blockquote>\n<p>现在假设你完全按照我给出的流程走的，离成功只有一步之遥了，下面用Xshell转换Socks4/5通用代理：<br>　　在xshell中仿照上面新建会话：IP地址为127.0.0.1，端口为8888 ；然后点击隧道，类型选择socks4/5，端口填1080，输入完成后点击确定，若不出意外，此时CMD中会出现大量信息，这些信息代表通过dns2tcp的数据包，这就表明你的电脑已经在和服务器传输数据了。而xshell中又会提示你登录到你的服务器，仿照上文输入用户名和密码（最好选择记住用户名和密码，这样下次就不用那么麻烦了），点击确定并成功登录到你的服务器后，最小化xshell，<strong>记住，此时千万不要关闭xshell！！！</strong></p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-12.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-12.png\" alt=\"\" /></a></p>\n<p>　打开Internet选项，依次选择”连接”-&gt;”局域网设置”-&gt;”为LAN使用代理服务器”-&gt;”高级”</p>\n<p>　在socks/套接字输入框中，要使用的代理服务器地址填127.0.0.1，端口填1080，然后点击确定。</p>\n<p><a href=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-11.png\"><img src=\"https://blog.zizaixian.top/wp-content/uploads/2019/10/AR589-11.png\" alt=\"\" /></a></p>\n<p><strong>到此，大功告成，打开你的浏览器试试吧！！！</strong></p>\n<h3 id=\"附录\"><a href=\"#附录\" class=\"headerlink\" title=\"附录\"></a>附录</h3><h4 id=\"screen命令的使用：\"><a href=\"#screen命令的使用：\" class=\"headerlink\" title=\"screen命令的使用：\"></a>screen命令的使用：</h4><p><em>screen命令用来创建后台进程，进程运行时，便于我们能继续做其它工作。</em></p>\n<table>\n<thead>\n<tr>\n<th>操作</th>\n<th>命令</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>创建screen会话</td>\n<td>screen -S dns2tcpd</td>\n</tr>\n<tr>\n<td>启动dns2tcp</td>\n<td>sudo dns2tcpd -f /etc/dns2tcpd.conf -F -d 2</td>\n</tr>\n<tr>\n<td>暂时离开快捷键</td>\n<td>Ctrl + a + d</td>\n</tr>\n<tr>\n<td>恢复screen会话</td>\n<td>screen -r dns2tcpd</td>\n</tr>\n<tr>\n<td>列出当前的会话列表</td>\n<td>screen -ls</td>\n</tr>\n<tr>\n<td>强行终止dns2tcp进程</td>\n<td>screen -S dns2tcpd -X quit</td>\n</tr>\n</tbody></table>\n<h4 id=\"常见DNS记录的含义：\"><a href=\"#常见DNS记录的含义：\" class=\"headerlink\" title=\"常见DNS记录的含义：\"></a>常见DNS记录的含义：</h4><table>\n<thead>\n<tr>\n<th>记录</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>A记录</td>\n<td>用来指定主机名或域名对应的IP地址记录，通俗来说A记录就是服务器的IP,域名绑定A记录就是告诉DNS,当你输入域名的时候给你引导向设置在DNS的A记录所对应的服务器。</td>\n</tr>\n<tr>\n<td>NS记录</td>\n<td>域名服务器记录，用来指定该域名由哪个DNS服务器来进行解析,简单的说，NS记录是指定由哪个DNS服务器解析你的域名。</td>\n</tr>\n<tr>\n<td>MX记录</td>\n<td>邮件交换记录，它指向一个邮件服务器，用于电子邮件系统发邮件时根据收信人的地址后缀来定位邮件服务器。</td>\n</tr>\n<tr>\n<td>CNAME记录</td>\n<td>别名记录，允许您将多个名字映射到同一台计算机。通常用于同时提供WWW和MAIL服务的计算机。</td>\n</tr>\n</tbody></table>"},{"title":"高度自适应的输入框","reward":true,"date":"2019-12-10T14:15:19.000Z","toc":true,"_content":"\n　　有时候我们需要一个高度能随内容自动增加的输入框，`input` 显然不行，因为 `input` 里的文字是不换行的。文本域 `textarea` 里的文字倒是换行的，可一旦文字内容超过其高度，`textarea` 就会增加一个烦人的滚动条，这是很影响视觉的，就如同下面：\n<!-- More -->\n```html\n<textarea cols=\"30\" rows=\"3\"></textarea>\n```\n<textarea cols=\"30\" rows=\"3\"></textarea>\n\n　　那么有没有办法制作一个高度能随文字内容自动增加的输入框呢？答案是肯定的，下面介绍两种方式。\n\n### 方式一\n\n　　这种方式依然使用 `textarea`, 主要思想是我们将 `textarea` 放入一个容器中，同时在这个容器中放入一个隐藏的 div (visibility: hidden), 监听 `textarea` 的输入事件并将其中的文字动态的同步到隐藏的div中，这样div 就可以撑开容器，这时设置 `textarea` 的高度为 100% 并将其定位到容器的左上角，那么 `textarea` 的高度自然就是其中文字内容的高度了。\n\n>`visibility` 是一个CSS属性，用来在不更改文档的布局的前提下显示或隐藏元素，它有三个可能的取值：\n>1. `visible` 元素正常显示(默认值)；\n>2. `hidden` 隐藏元素，但是其他元素的布局不改变，相当于此元素变成透明。\n> 　　若将其子元素设为 visibility: visible，则该子元素依然可见；\n>3. `collapse` 用于表格的行、列、列组和行组，隐藏表格的行或列，并且不占用任何空间。\n\n```html\n   <!-- demo-1.html -->\n\n   <div class=\"container\">\n      <div></div>\n      <textarea placeholder=\"输入消息...\"></textarea> \n   </div>\n   \n   <style>\n      .container {\n         width: 500px;\n         position: relative;\n      }\n      .container div {         \n         visibility: hidden;\n         /** 避免初始化时容器没有高度 */\n         padding: 8px 0px;\n      }\n      .container textarea {\n         width: 100%;\n         height: 100%;\n         position: absolute;\n         top: 0px;\n         padding: 0px;\n         /** 必须设置为 content-box !!! */ \n         box-sizing: content-box;\n      }\n   </style>\n\n   <script>\n      const textarea = document.querySelector('.container textarea');\n      const div = document.querySelector('.container div');\n      textarea.addEventListener('input', (e) => {\n         div.innerText = e.target.value;\n      });\n   </script>\n```\n<a name=\"demo-1\">尝试输入一些文字吧：</a>\n   <div class=\"container-0\"><div></div><textarea placeholder=\"输入消息...\"></textarea></div>\n   \n   <style>\n      .container-0 {\n         width: 500px;\n         position: relative;\n      }\n      .container-0 div {\n         visibility: hidden;\n         padding: 8px 0px;\n      }\n      .container-0 textarea {\n         width: 100%;\n         height: 100%;\n         position: absolute;\n         top: 0px;\n         padding: 0px;\n         box-sizing: content-box;\n      }\n   </style>\n\n   <script>\n      (function() {\n         const textarea = document.querySelector('.container-0 textarea');\n         const div = document.querySelector('.container-0 div');\n         textarea.addEventListener('input', (e) => {\n            div.innerText = e.target.value;\n         });\n      })();\n   </script>\n\n\n　　你可能已经注意到了，当我们输入文字时，输入框的高度显然要比文字内容高许多，伴随着输入文字的增多。高度差会越来越大，这是因为隐藏 `div` 与 文本域 `textarea` 内字体的尺寸与行高是不同的， `div` 内的字体尺寸与行高要比 `textarea` 内的大，所以 `div` 撑开的容器高度自然要高于 `textarea` 内的文字内容高度。要解决这个问题，统一它们的字体尺寸与行高就可以了。(注：`div` 的字体尺寸与行高默认继承自父元素)\n\n```html\n   <!-- demo-1.html -->\n\n   <div class=\"container\">\n      <div></div>\n      <textarea placeholder=\"输入消息...\"></textarea> \n   </div>\n\n   <style>\n      .container {\n         width: 500px;\n         position: relative;\n         font-size: 14px;\n         line-height: 16px;\n      }\n      .container div {\n         visibility: hidden;\n         /** 避免初始化时容器没有高度 */\n         padding: 8px 0px;\n      }\n      .container textarea {\n         width: 100%;\n         height: 100%;\n         position: absolute;\n         top: 0px;\n         padding: 0px;\n         /** 必须设置为 content-box !!! */\n         box-sizing: content-box;\n         /** 设置字体尺寸与行高继承自父元素 */\n         font-size: inherit;\n         line-height: inherit;\n         /* 去掉右下角的调整大小的标志 */\n         resize: none;\n      }\n   </style>\n   <script>\n      const textarea = document.querySelector('.container textarea');\n      const div = document.querySelector('.container div');\n      textarea.addEventListener('input', (e) => {\n         div.innerText = e.target.value;\n      });\n   </script>\n```\n<a name=\"demo-2\">尝试输入一些文字吧：</a>\n   <div class=\"container-1\"><div></div><textarea placeholder=\"输入消息...\"></textarea></div>\n\n   <style>\n      .container-1 {\n         width: 500px;\n         position: relative;\n         font-size: 14px;\n         line-height: 16px;\n      }\n      .container-1 div {\n         visibility: hidden;\n         padding: 8px 0px;\n      }\n      .container-1 textarea {\n         width: 100%;\n         height: 100%;\n         position: absolute;\n         top: 0px;\n         padding: 0px;\n         box-sizing: content-box;\n         font-size: inherit;\n         line-height: inherit;\n         resize: none;\n      }\n   </style>\n   <script>\n      (function(){\n         const textarea = document.querySelector('.container-1 textarea');\n         const div = document.querySelector('.container-1 div');\n         textarea.addEventListener('input', (e) => {\n            div.innerText = e.target.value;\n         });\n      })();\n   </script>\n\n　　这样一来高度就一致了。这种方式虽然可以较好的实现高度自适应的输入框，但实现起来总感觉很粗糙，下面这种方式就明显简单多了。\n\n### 方式二\n\n　　像 `div`, `p`, `blockquote` 这样的元素默认是不可编辑的，但我们可以将其 `contenteditable` 属性设置为 `true`, 使其变为可编辑的。\n\n>`contenteditable`是一个全局属性，用于指示元素是否可被用户编辑，该属性必须采用以下值之一：\n>1. `true` 或者 '空字符串', 表示该元素是可编辑的；\n>2. `false`, 表示该元素是不可编辑的。\n>3. 如果未设置此属性，则其默认值将从其父元素继承。\n\n```html\n  <div class=\"container\" contenteditable=\"true\"></div>\n\n  <style>\n    .container {\n      width: 500px;\n      font-size: 14px;\n      line-height: 16px;\n      border: solid 1px #999;\n    }\n  </style>\n```\n<a name=\"demo-3\">尝试输入一些文字吧：</a>\n  <div class=\"container-2\" contenteditable=\"true\"></div>\n  <style>.container-2 {width: 500px;font-size: 14px;line-height: 16px;border: solid 1px #999}\n  </style>\n\n　　是不是很简单呢？ 我们也可以使用CSS伪类 [:empty](https://developer.mozilla.org/zh-CN/docs/Web/CSS/:empty), [:focus](https://developer.mozilla.org/zh-CN/docs/Web/CSS/:focus),  实现`placeholder` 那样的效果\n\n```html\n<style>\n.container {\n  width: 500px;\n  font-size: 14px;\n  line-height: 16px;\n  border: solid 1px #999;\n}\n.container:empty::before {\n  content: \"输入消息...\";\n  color: #999999;\n}\n.container:focus::before {\n  content: none;\n}\n</style>\n```\n<a name=\"demo-4\">尝试输入一些文字吧：</a>\n\n  <div class=\"container-3\" contenteditable=\"true\"></div>\n  <style>\n    .container-3 {\n      width: 500px;\n      font-size: 14px;\n      line-height: 16px;\n      border: solid 1px #999;\n    }\n    .container-3:empty::before {\n      content: \"输入消息...\";\n      color: #999999;\n    }\n    .container-3:focus::before {\n      content: none;\n    }\n  </style>\n\n\n　　如果你使用 Vue.js, 我们也可以它封装为一个Vue组件：\n\n```html\n<template>\n    <div\n      class=\"msg-input\"\n      contenteditable=\"true\"\n      @input=\"changeText\"\n    >{{ innerText }}</div>\n</template>\n\n<script>\nexport default{\n  name: \"MsgInput\",\n  props: ['value'],\n  \n  data: function() {\n    return {\n      innerText: this.value,\n    }\n  },\n  \n  methods: {\n    changeText() {\n      this.$emit('input', this.$el.innerText);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.msg-input {\n  width: 500px;\n  font-size: 14px;\n  line-height: 16px;\n  border: solid 1px #999;\n}\n.msg-input:empty::before {\n  content: \"输入消息...\";\n  color: #999999;\n}\n.msg-input:focus::before {\n  content: none;\n}\n</style>\n```\n\n接下来在父组件中引用这个组件：\n\n```html\n<template>\n  <div>\n    <MsgInput v-model=\"msg\"/>\n  </div>\n</template>\n\n<script>\nimport MsgInput from \"/MsgInput.vue\";\n\nexport default {\n  name: \"MsgToolkit\",\n  data: function() {\n    return {\n      msg: ''\n    }\n  },\n\n  components: {\n    MsgInput\n  },\n}\n</script>\n```\n\n　　父组件为子组件使用 `v-model` 指令，将子组件的 `value` 与 父组件的 `msg` 双向绑定在一起。当输入事件发生后，子组件调用changeText方法，触发一个 `input` 事件，父组件监听到此事件，将事件传递过来的数据同步到 `msg` 上，由于数据是双向绑定的，子组件的 `value` 值也会相应发生变化。更过原理请参考 [自定义组件的-v-model](https://cn.vuejs.org/v2/guide/components-custom-events.html#自定义组件的-v-model)\n\n*该篇博客内的代码已同步到[Github](https://github.com/zsimline/mxsyx-public/tree/master/code/archive-10)*\n\n参考资料：\n  [1]. MDN文档 https://developer.mozilla.org/zh-CN/docs/Web/HTML/Global_attributes/contenteditable\n  [2]. MDN文档 https://developer.mozilla.org/zh-CN/docs/Web/CSS/visibility\n  [3]. MDN文档 https://developer.mozilla.org/zh-CN/docs/Web/CSS/:empty\n  [4]. MDN文档 https://developer.mozilla.org/zh-CN/docs/Web/CSS/:focus\n  [5]. Vue.js官方文档 https://cn.vuejs.org/v2/guide/components-custom-events.html#自定义组件的-v-model\n","source":"_posts/自适应高度的输入框.md","raw":"---\ntitle: 高度自适应的输入框\nreward: true\ndate: 2019-12-10 22:15:19\npermalink: 10\ncategories: VueJS\ntags:\ntoc: true\n---\n\n　　有时候我们需要一个高度能随内容自动增加的输入框，`input` 显然不行，因为 `input` 里的文字是不换行的。文本域 `textarea` 里的文字倒是换行的，可一旦文字内容超过其高度，`textarea` 就会增加一个烦人的滚动条，这是很影响视觉的，就如同下面：\n<!-- More -->\n```html\n<textarea cols=\"30\" rows=\"3\"></textarea>\n```\n<textarea cols=\"30\" rows=\"3\"></textarea>\n\n　　那么有没有办法制作一个高度能随文字内容自动增加的输入框呢？答案是肯定的，下面介绍两种方式。\n\n### 方式一\n\n　　这种方式依然使用 `textarea`, 主要思想是我们将 `textarea` 放入一个容器中，同时在这个容器中放入一个隐藏的 div (visibility: hidden), 监听 `textarea` 的输入事件并将其中的文字动态的同步到隐藏的div中，这样div 就可以撑开容器，这时设置 `textarea` 的高度为 100% 并将其定位到容器的左上角，那么 `textarea` 的高度自然就是其中文字内容的高度了。\n\n>`visibility` 是一个CSS属性，用来在不更改文档的布局的前提下显示或隐藏元素，它有三个可能的取值：\n>1. `visible` 元素正常显示(默认值)；\n>2. `hidden` 隐藏元素，但是其他元素的布局不改变，相当于此元素变成透明。\n> 　　若将其子元素设为 visibility: visible，则该子元素依然可见；\n>3. `collapse` 用于表格的行、列、列组和行组，隐藏表格的行或列，并且不占用任何空间。\n\n```html\n   <!-- demo-1.html -->\n\n   <div class=\"container\">\n      <div></div>\n      <textarea placeholder=\"输入消息...\"></textarea> \n   </div>\n   \n   <style>\n      .container {\n         width: 500px;\n         position: relative;\n      }\n      .container div {         \n         visibility: hidden;\n         /** 避免初始化时容器没有高度 */\n         padding: 8px 0px;\n      }\n      .container textarea {\n         width: 100%;\n         height: 100%;\n         position: absolute;\n         top: 0px;\n         padding: 0px;\n         /** 必须设置为 content-box !!! */ \n         box-sizing: content-box;\n      }\n   </style>\n\n   <script>\n      const textarea = document.querySelector('.container textarea');\n      const div = document.querySelector('.container div');\n      textarea.addEventListener('input', (e) => {\n         div.innerText = e.target.value;\n      });\n   </script>\n```\n<a name=\"demo-1\">尝试输入一些文字吧：</a>\n   <div class=\"container-0\"><div></div><textarea placeholder=\"输入消息...\"></textarea></div>\n   \n   <style>\n      .container-0 {\n         width: 500px;\n         position: relative;\n      }\n      .container-0 div {\n         visibility: hidden;\n         padding: 8px 0px;\n      }\n      .container-0 textarea {\n         width: 100%;\n         height: 100%;\n         position: absolute;\n         top: 0px;\n         padding: 0px;\n         box-sizing: content-box;\n      }\n   </style>\n\n   <script>\n      (function() {\n         const textarea = document.querySelector('.container-0 textarea');\n         const div = document.querySelector('.container-0 div');\n         textarea.addEventListener('input', (e) => {\n            div.innerText = e.target.value;\n         });\n      })();\n   </script>\n\n\n　　你可能已经注意到了，当我们输入文字时，输入框的高度显然要比文字内容高许多，伴随着输入文字的增多。高度差会越来越大，这是因为隐藏 `div` 与 文本域 `textarea` 内字体的尺寸与行高是不同的， `div` 内的字体尺寸与行高要比 `textarea` 内的大，所以 `div` 撑开的容器高度自然要高于 `textarea` 内的文字内容高度。要解决这个问题，统一它们的字体尺寸与行高就可以了。(注：`div` 的字体尺寸与行高默认继承自父元素)\n\n```html\n   <!-- demo-1.html -->\n\n   <div class=\"container\">\n      <div></div>\n      <textarea placeholder=\"输入消息...\"></textarea> \n   </div>\n\n   <style>\n      .container {\n         width: 500px;\n         position: relative;\n         font-size: 14px;\n         line-height: 16px;\n      }\n      .container div {\n         visibility: hidden;\n         /** 避免初始化时容器没有高度 */\n         padding: 8px 0px;\n      }\n      .container textarea {\n         width: 100%;\n         height: 100%;\n         position: absolute;\n         top: 0px;\n         padding: 0px;\n         /** 必须设置为 content-box !!! */\n         box-sizing: content-box;\n         /** 设置字体尺寸与行高继承自父元素 */\n         font-size: inherit;\n         line-height: inherit;\n         /* 去掉右下角的调整大小的标志 */\n         resize: none;\n      }\n   </style>\n   <script>\n      const textarea = document.querySelector('.container textarea');\n      const div = document.querySelector('.container div');\n      textarea.addEventListener('input', (e) => {\n         div.innerText = e.target.value;\n      });\n   </script>\n```\n<a name=\"demo-2\">尝试输入一些文字吧：</a>\n   <div class=\"container-1\"><div></div><textarea placeholder=\"输入消息...\"></textarea></div>\n\n   <style>\n      .container-1 {\n         width: 500px;\n         position: relative;\n         font-size: 14px;\n         line-height: 16px;\n      }\n      .container-1 div {\n         visibility: hidden;\n         padding: 8px 0px;\n      }\n      .container-1 textarea {\n         width: 100%;\n         height: 100%;\n         position: absolute;\n         top: 0px;\n         padding: 0px;\n         box-sizing: content-box;\n         font-size: inherit;\n         line-height: inherit;\n         resize: none;\n      }\n   </style>\n   <script>\n      (function(){\n         const textarea = document.querySelector('.container-1 textarea');\n         const div = document.querySelector('.container-1 div');\n         textarea.addEventListener('input', (e) => {\n            div.innerText = e.target.value;\n         });\n      })();\n   </script>\n\n　　这样一来高度就一致了。这种方式虽然可以较好的实现高度自适应的输入框，但实现起来总感觉很粗糙，下面这种方式就明显简单多了。\n\n### 方式二\n\n　　像 `div`, `p`, `blockquote` 这样的元素默认是不可编辑的，但我们可以将其 `contenteditable` 属性设置为 `true`, 使其变为可编辑的。\n\n>`contenteditable`是一个全局属性，用于指示元素是否可被用户编辑，该属性必须采用以下值之一：\n>1. `true` 或者 '空字符串', 表示该元素是可编辑的；\n>2. `false`, 表示该元素是不可编辑的。\n>3. 如果未设置此属性，则其默认值将从其父元素继承。\n\n```html\n  <div class=\"container\" contenteditable=\"true\"></div>\n\n  <style>\n    .container {\n      width: 500px;\n      font-size: 14px;\n      line-height: 16px;\n      border: solid 1px #999;\n    }\n  </style>\n```\n<a name=\"demo-3\">尝试输入一些文字吧：</a>\n  <div class=\"container-2\" contenteditable=\"true\"></div>\n  <style>.container-2 {width: 500px;font-size: 14px;line-height: 16px;border: solid 1px #999}\n  </style>\n\n　　是不是很简单呢？ 我们也可以使用CSS伪类 [:empty](https://developer.mozilla.org/zh-CN/docs/Web/CSS/:empty), [:focus](https://developer.mozilla.org/zh-CN/docs/Web/CSS/:focus),  实现`placeholder` 那样的效果\n\n```html\n<style>\n.container {\n  width: 500px;\n  font-size: 14px;\n  line-height: 16px;\n  border: solid 1px #999;\n}\n.container:empty::before {\n  content: \"输入消息...\";\n  color: #999999;\n}\n.container:focus::before {\n  content: none;\n}\n</style>\n```\n<a name=\"demo-4\">尝试输入一些文字吧：</a>\n\n  <div class=\"container-3\" contenteditable=\"true\"></div>\n  <style>\n    .container-3 {\n      width: 500px;\n      font-size: 14px;\n      line-height: 16px;\n      border: solid 1px #999;\n    }\n    .container-3:empty::before {\n      content: \"输入消息...\";\n      color: #999999;\n    }\n    .container-3:focus::before {\n      content: none;\n    }\n  </style>\n\n\n　　如果你使用 Vue.js, 我们也可以它封装为一个Vue组件：\n\n```html\n<template>\n    <div\n      class=\"msg-input\"\n      contenteditable=\"true\"\n      @input=\"changeText\"\n    >{{ innerText }}</div>\n</template>\n\n<script>\nexport default{\n  name: \"MsgInput\",\n  props: ['value'],\n  \n  data: function() {\n    return {\n      innerText: this.value,\n    }\n  },\n  \n  methods: {\n    changeText() {\n      this.$emit('input', this.$el.innerText);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.msg-input {\n  width: 500px;\n  font-size: 14px;\n  line-height: 16px;\n  border: solid 1px #999;\n}\n.msg-input:empty::before {\n  content: \"输入消息...\";\n  color: #999999;\n}\n.msg-input:focus::before {\n  content: none;\n}\n</style>\n```\n\n接下来在父组件中引用这个组件：\n\n```html\n<template>\n  <div>\n    <MsgInput v-model=\"msg\"/>\n  </div>\n</template>\n\n<script>\nimport MsgInput from \"/MsgInput.vue\";\n\nexport default {\n  name: \"MsgToolkit\",\n  data: function() {\n    return {\n      msg: ''\n    }\n  },\n\n  components: {\n    MsgInput\n  },\n}\n</script>\n```\n\n　　父组件为子组件使用 `v-model` 指令，将子组件的 `value` 与 父组件的 `msg` 双向绑定在一起。当输入事件发生后，子组件调用changeText方法，触发一个 `input` 事件，父组件监听到此事件，将事件传递过来的数据同步到 `msg` 上，由于数据是双向绑定的，子组件的 `value` 值也会相应发生变化。更过原理请参考 [自定义组件的-v-model](https://cn.vuejs.org/v2/guide/components-custom-events.html#自定义组件的-v-model)\n\n*该篇博客内的代码已同步到[Github](https://github.com/zsimline/mxsyx-public/tree/master/code/archive-10)*\n\n参考资料：\n  [1]. MDN文档 https://developer.mozilla.org/zh-CN/docs/Web/HTML/Global_attributes/contenteditable\n  [2]. MDN文档 https://developer.mozilla.org/zh-CN/docs/Web/CSS/visibility\n  [3]. MDN文档 https://developer.mozilla.org/zh-CN/docs/Web/CSS/:empty\n  [4]. MDN文档 https://developer.mozilla.org/zh-CN/docs/Web/CSS/:focus\n  [5]. Vue.js官方文档 https://cn.vuejs.org/v2/guide/components-custom-events.html#自定义组件的-v-model\n","slug":"10","published":1,"updated":"2020-01-07T15:41:59.409Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck541mork000necfwf1x84ik8","content":"<p>　　有时候我们需要一个高度能随内容自动增加的输入框，<code>input</code> 显然不行，因为 <code>input</code> 里的文字是不换行的。文本域 <code>textarea</code> 里的文字倒是换行的，可一旦文字内容超过其高度，<code>textarea</code> 就会增加一个烦人的滚动条，这是很影响视觉的，就如同下面：</p>\n<a id=\"more\"></a>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">textarea</span> <span class=\"attr\">cols</span>=<span class=\"string\">\"30\"</span> <span class=\"attr\">rows</span>=<span class=\"string\">\"3\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">textarea</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><textarea cols=\"30\" rows=\"3\"></textarea></p>\n<p>　　那么有没有办法制作一个高度能随文字内容自动增加的输入框呢？答案是肯定的，下面介绍两种方式。</p>\n<h3 id=\"方式一\"><a href=\"#方式一\" class=\"headerlink\" title=\"方式一\"></a>方式一</h3><p>　　这种方式依然使用 <code>textarea</code>, 主要思想是我们将 <code>textarea</code> 放入一个容器中，同时在这个容器中放入一个隐藏的 div (visibility: hidden), 监听 <code>textarea</code> 的输入事件并将其中的文字动态的同步到隐藏的div中，这样div 就可以撑开容器，这时设置 <code>textarea</code> 的高度为 100% 并将其定位到容器的左上角，那么 <code>textarea</code> 的高度自然就是其中文字内容的高度了。</p>\n<blockquote>\n<p><code>visibility</code> 是一个CSS属性，用来在不更改文档的布局的前提下显示或隐藏元素，它有三个可能的取值：</p>\n<ol>\n<li><code>visible</code> 元素正常显示(默认值)；</li>\n<li><code>hidden</code> 隐藏元素，但是其他元素的布局不改变，相当于此元素变成透明。<br>　　若将其子元素设为 visibility: visible，则该子元素依然可见；</li>\n<li><code>collapse</code> 用于表格的行、列、列组和行组，隐藏表格的行或列，并且不占用任何空间。</li>\n</ol>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- demo-1.html --&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"container\"</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">textarea</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">\"输入消息...\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">textarea</span>&gt;</span> </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\">   <span class=\"selector-class\">.container</span> &#123;</span></span><br><span class=\"line\">      width: 500px;</span><br><span class=\"line\">      position: relative;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"><span class=\"css\">   <span class=\"selector-class\">.container</span> <span class=\"selector-tag\">div</span> &#123;         </span></span><br><span class=\"line\">      visibility: hidden;</span><br><span class=\"line\"><span class=\"css\">      <span class=\"comment\">/** 避免初始化时容器没有高度 */</span></span></span><br><span class=\"line\">      padding: 8px 0px;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"><span class=\"css\">   <span class=\"selector-class\">.container</span> <span class=\"selector-tag\">textarea</span> &#123;</span></span><br><span class=\"line\">      width: 100%;</span><br><span class=\"line\">      height: 100%;</span><br><span class=\"line\">      position: absolute;</span><br><span class=\"line\">      top: 0px;</span><br><span class=\"line\">      padding: 0px;</span><br><span class=\"line\"><span class=\"css\">      <span class=\"comment\">/** 必须设置为 content-box !!! */</span> </span></span><br><span class=\"line\">      box-sizing: content-box;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\">   <span class=\"keyword\">const</span> textarea = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">'.container textarea'</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">   <span class=\"keyword\">const</span> div = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">'.container div'</span>);</span></span><br><span class=\"line\"><span class=\"actionscript\">   textarea.addEventListener(<span class=\"string\">'input'</span>, (e) =&gt; &#123;</span></span><br><span class=\"line\">      div.innerText = e.target.value;</span><br><span class=\"line\">   &#125;);</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><a name=\"demo-1\">尝试输入一些文字吧：</a><br>   <div class=\"container-0\"><div></div><textarea placeholder=\"输入消息...\"></textarea></div></p>\n   <style>\n      .container-0 {\n         width: 500px;\n         position: relative;\n      }\n      .container-0 div {\n         visibility: hidden;\n         padding: 8px 0px;\n      }\n      .container-0 textarea {\n         width: 100%;\n         height: 100%;\n         position: absolute;\n         top: 0px;\n         padding: 0px;\n         box-sizing: content-box;\n      }\n   </style>\n\n   <script>\n      (function() {\n         const textarea = document.querySelector('.container-0 textarea');\n         const div = document.querySelector('.container-0 div');\n         textarea.addEventListener('input', (e) => {\n            div.innerText = e.target.value;\n         });\n      })();\n   </script>\n\n\n<p>　　你可能已经注意到了，当我们输入文字时，输入框的高度显然要比文字内容高许多，伴随着输入文字的增多。高度差会越来越大，这是因为隐藏 <code>div</code> 与 文本域 <code>textarea</code> 内字体的尺寸与行高是不同的， <code>div</code> 内的字体尺寸与行高要比 <code>textarea</code> 内的大，所以 <code>div</code> 撑开的容器高度自然要高于 <code>textarea</code> 内的文字内容高度。要解决这个问题，统一它们的字体尺寸与行高就可以了。(注：<code>div</code> 的字体尺寸与行高默认继承自父元素)</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- demo-1.html --&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"container\"</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">textarea</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">\"输入消息...\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">textarea</span>&gt;</span> </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\">   <span class=\"selector-class\">.container</span> &#123;</span></span><br><span class=\"line\">      width: 500px;</span><br><span class=\"line\">      position: relative;</span><br><span class=\"line\">      font-size: 14px;</span><br><span class=\"line\">      line-height: 16px;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"><span class=\"css\">   <span class=\"selector-class\">.container</span> <span class=\"selector-tag\">div</span> &#123;</span></span><br><span class=\"line\">      visibility: hidden;</span><br><span class=\"line\"><span class=\"css\">      <span class=\"comment\">/** 避免初始化时容器没有高度 */</span></span></span><br><span class=\"line\">      padding: 8px 0px;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"><span class=\"css\">   <span class=\"selector-class\">.container</span> <span class=\"selector-tag\">textarea</span> &#123;</span></span><br><span class=\"line\">      width: 100%;</span><br><span class=\"line\">      height: 100%;</span><br><span class=\"line\">      position: absolute;</span><br><span class=\"line\">      top: 0px;</span><br><span class=\"line\">      padding: 0px;</span><br><span class=\"line\"><span class=\"css\">      <span class=\"comment\">/** 必须设置为 content-box !!! */</span></span></span><br><span class=\"line\">      box-sizing: content-box;</span><br><span class=\"line\"><span class=\"css\">      <span class=\"comment\">/** 设置字体尺寸与行高继承自父元素 */</span></span></span><br><span class=\"line\">      font-size: inherit;</span><br><span class=\"line\">      line-height: inherit;</span><br><span class=\"line\"><span class=\"css\">      <span class=\"comment\">/* 去掉右下角的调整大小的标志 */</span></span></span><br><span class=\"line\">      resize: none;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\">   <span class=\"keyword\">const</span> textarea = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">'.container textarea'</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">   <span class=\"keyword\">const</span> div = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">'.container div'</span>);</span></span><br><span class=\"line\"><span class=\"actionscript\">   textarea.addEventListener(<span class=\"string\">'input'</span>, (e) =&gt; &#123;</span></span><br><span class=\"line\">      div.innerText = e.target.value;</span><br><span class=\"line\">   &#125;);</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><a name=\"demo-2\">尝试输入一些文字吧：</a><br>   <div class=\"container-1\"><div></div><textarea placeholder=\"输入消息...\"></textarea></div></p>\n   <style>\n      .container-1 {\n         width: 500px;\n         position: relative;\n         font-size: 14px;\n         line-height: 16px;\n      }\n      .container-1 div {\n         visibility: hidden;\n         padding: 8px 0px;\n      }\n      .container-1 textarea {\n         width: 100%;\n         height: 100%;\n         position: absolute;\n         top: 0px;\n         padding: 0px;\n         box-sizing: content-box;\n         font-size: inherit;\n         line-height: inherit;\n         resize: none;\n      }\n   </style>\n   <script>\n      (function(){\n         const textarea = document.querySelector('.container-1 textarea');\n         const div = document.querySelector('.container-1 div');\n         textarea.addEventListener('input', (e) => {\n            div.innerText = e.target.value;\n         });\n      })();\n   </script>\n\n<p>　　这样一来高度就一致了。这种方式虽然可以较好的实现高度自适应的输入框，但实现起来总感觉很粗糙，下面这种方式就明显简单多了。</p>\n<h3 id=\"方式二\"><a href=\"#方式二\" class=\"headerlink\" title=\"方式二\"></a>方式二</h3><p>　　像 <code>div</code>, <code>p</code>, <code>blockquote</code> 这样的元素默认是不可编辑的，但我们可以将其 <code>contenteditable</code> 属性设置为 <code>true</code>, 使其变为可编辑的。</p>\n<blockquote>\n<p><code>contenteditable</code>是一个全局属性，用于指示元素是否可被用户编辑，该属性必须采用以下值之一：</p>\n<ol>\n<li><code>true</code> 或者 ‘空字符串’, 表示该元素是可编辑的；</li>\n<li><code>false</code>, 表示该元素是不可编辑的。</li>\n<li>如果未设置此属性，则其默认值将从其父元素继承。</li>\n</ol>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"container\"</span> <span class=\"attr\">contenteditable</span>=<span class=\"string\">\"true\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.container</span> &#123;</span></span><br><span class=\"line\">    width: 500px;</span><br><span class=\"line\">    font-size: 14px;</span><br><span class=\"line\">    line-height: 16px;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">border</span>: <span class=\"selector-tag\">solid</span> 1<span class=\"selector-tag\">px</span> <span class=\"selector-id\">#999</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><a name=\"demo-3\">尝试输入一些文字吧：</a><br>  <div class=\"container-2\" contenteditable=\"true\"></div><br>  <style>.container-2 {width: 500px;font-size: 14px;line-height: 16px;border: solid 1px #999}<br>  </style></p>\n<p>　　是不是很简单呢？ 我们也可以使用CSS伪类 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/:empty\">:empty</a>, <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/:focus\">:focus</a>,  实现<code>placeholder</code> 那样的效果</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.container</span> &#123;</span></span><br><span class=\"line\">  width: 500px;</span><br><span class=\"line\">  font-size: 14px;</span><br><span class=\"line\">  line-height: 16px;</span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-tag\">border</span>: <span class=\"selector-tag\">solid</span> 1<span class=\"selector-tag\">px</span> <span class=\"selector-id\">#999</span>;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.container</span><span class=\"selector-pseudo\">:empty</span><span class=\"selector-pseudo\">::before</span> &#123;</span></span><br><span class=\"line\">  content: \"输入消息...\";</span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-tag\">color</span>: <span class=\"selector-id\">#999999</span>;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.container</span><span class=\"selector-pseudo\">:focus</span><span class=\"selector-pseudo\">::before</span> &#123;</span></span><br><span class=\"line\">  content: none;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><a name=\"demo-4\">尝试输入一些文字吧：</a></p>\n  <div class=\"container-3\" contenteditable=\"true\"></div>\n  <style>\n    .container-3 {\n      width: 500px;\n      font-size: 14px;\n      line-height: 16px;\n      border: solid 1px #999;\n    }\n    .container-3:empty::before {\n      content: \"输入消息...\";\n      color: #999999;\n    }\n    .container-3:focus::before {\n      content: none;\n    }\n  </style>\n\n\n<p>　　如果你使用 Vue.js, 我们也可以它封装为一个Vue组件：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">class</span>=<span class=\"string\">\"msg-input\"</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">contenteditable</span>=<span class=\"string\">\"true\"</span></span></span><br><span class=\"line\"><span class=\"tag\">      @<span class=\"attr\">input</span>=<span class=\"string\">\"changeText\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    &gt;</span>&#123;&#123; innerText &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span>&#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">  name: <span class=\"string\">\"MsgInput\"</span>,</span></span><br><span class=\"line\"><span class=\"actionscript\">  props: [<span class=\"string\">'value'</span>],</span></span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"actionscript\">  data: <span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">()</span> </span>&#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">    <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">      innerText: <span class=\"keyword\">this</span>.value,</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  </span><br><span class=\"line\">  methods: &#123;</span><br><span class=\"line\">    changeText() &#123;</span><br><span class=\"line\"><span class=\"actionscript\">      <span class=\"keyword\">this</span>.$emit(<span class=\"string\">'input'</span>, <span class=\"keyword\">this</span>.$el.innerText);</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span> <span class=\"attr\">scoped</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.msg-input</span> &#123;</span></span><br><span class=\"line\">  width: 500px;</span><br><span class=\"line\">  font-size: 14px;</span><br><span class=\"line\">  line-height: 16px;</span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-tag\">border</span>: <span class=\"selector-tag\">solid</span> 1<span class=\"selector-tag\">px</span> <span class=\"selector-id\">#999</span>;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.msg-input</span><span class=\"selector-pseudo\">:empty</span><span class=\"selector-pseudo\">::before</span> &#123;</span></span><br><span class=\"line\">  content: \"输入消息...\";</span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-tag\">color</span>: <span class=\"selector-id\">#999999</span>;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.msg-input</span><span class=\"selector-pseudo\">:focus</span><span class=\"selector-pseudo\">::before</span> &#123;</span></span><br><span class=\"line\">  content: none;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>接下来在父组件中引用这个组件：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">MsgInput</span> <span class=\"attr\">v-model</span>=<span class=\"string\">\"msg\"</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">import</span> MsgInput <span class=\"keyword\">from</span> <span class=\"string\">\"/MsgInput.vue\"</span>;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">  name: <span class=\"string\">\"MsgToolkit\"</span>,</span></span><br><span class=\"line\"><span class=\"actionscript\">  data: <span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">()</span> </span>&#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">    <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">      msg: <span class=\"string\">''</span></span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  components: &#123;</span><br><span class=\"line\">    MsgInput</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>　　父组件为子组件使用 <code>v-model</code> 指令，将子组件的 <code>value</code> 与 父组件的 <code>msg</code> 双向绑定在一起。当输入事件发生后，子组件调用changeText方法，触发一个 <code>input</code> 事件，父组件监听到此事件，将事件传递过来的数据同步到 <code>msg</code> 上，由于数据是双向绑定的，子组件的 <code>value</code> 值也会相应发生变化。更过原理请参考 <a href=\"https://cn.vuejs.org/v2/guide/components-custom-events.html#自定义组件的-v-model\">自定义组件的-v-model</a></p>\n<p><em>该篇博客内的代码已同步到<a href=\"https://github.com/zsimline/mxsyx-public/tree/master/code/archive-10\">Github</a></em></p>\n<p>参考资料：<br>  [1]. MDN文档 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/HTML/Global_attributes/contenteditable\">https://developer.mozilla.org/zh-CN/docs/Web/HTML/Global_attributes/contenteditable</a><br>  [2]. MDN文档 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/visibility\">https://developer.mozilla.org/zh-CN/docs/Web/CSS/visibility</a><br>  [3]. MDN文档 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/:empty\">https://developer.mozilla.org/zh-CN/docs/Web/CSS/:empty</a><br>  [4]. MDN文档 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/:focus\">https://developer.mozilla.org/zh-CN/docs/Web/CSS/:focus</a><br>  [5]. Vue.js官方文档 <a href=\"https://cn.vuejs.org/v2/guide/components-custom-events.html#自定义组件的-v-model\">https://cn.vuejs.org/v2/guide/components-custom-events.html#自定义组件的-v-model</a></p>\n","site":{"data":{}},"excerpt":"<p>　　有时候我们需要一个高度能随内容自动增加的输入框，<code>input</code> 显然不行，因为 <code>input</code> 里的文字是不换行的。文本域 <code>textarea</code> 里的文字倒是换行的，可一旦文字内容超过其高度，<code>textarea</code> 就会增加一个烦人的滚动条，这是很影响视觉的，就如同下面：</p>","more":"<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">textarea</span> <span class=\"attr\">cols</span>=<span class=\"string\">\"30\"</span> <span class=\"attr\">rows</span>=<span class=\"string\">\"3\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">textarea</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><textarea cols=\"30\" rows=\"3\"></textarea></p>\n<p>　　那么有没有办法制作一个高度能随文字内容自动增加的输入框呢？答案是肯定的，下面介绍两种方式。</p>\n<h3 id=\"方式一\"><a href=\"#方式一\" class=\"headerlink\" title=\"方式一\"></a>方式一</h3><p>　　这种方式依然使用 <code>textarea</code>, 主要思想是我们将 <code>textarea</code> 放入一个容器中，同时在这个容器中放入一个隐藏的 div (visibility: hidden), 监听 <code>textarea</code> 的输入事件并将其中的文字动态的同步到隐藏的div中，这样div 就可以撑开容器，这时设置 <code>textarea</code> 的高度为 100% 并将其定位到容器的左上角，那么 <code>textarea</code> 的高度自然就是其中文字内容的高度了。</p>\n<blockquote>\n<p><code>visibility</code> 是一个CSS属性，用来在不更改文档的布局的前提下显示或隐藏元素，它有三个可能的取值：</p>\n<ol>\n<li><code>visible</code> 元素正常显示(默认值)；</li>\n<li><code>hidden</code> 隐藏元素，但是其他元素的布局不改变，相当于此元素变成透明。<br>　　若将其子元素设为 visibility: visible，则该子元素依然可见；</li>\n<li><code>collapse</code> 用于表格的行、列、列组和行组，隐藏表格的行或列，并且不占用任何空间。</li>\n</ol>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- demo-1.html --&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"container\"</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">textarea</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">\"输入消息...\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">textarea</span>&gt;</span> </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\">   <span class=\"selector-class\">.container</span> &#123;</span></span><br><span class=\"line\">      width: 500px;</span><br><span class=\"line\">      position: relative;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"><span class=\"css\">   <span class=\"selector-class\">.container</span> <span class=\"selector-tag\">div</span> &#123;         </span></span><br><span class=\"line\">      visibility: hidden;</span><br><span class=\"line\"><span class=\"css\">      <span class=\"comment\">/** 避免初始化时容器没有高度 */</span></span></span><br><span class=\"line\">      padding: 8px 0px;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"><span class=\"css\">   <span class=\"selector-class\">.container</span> <span class=\"selector-tag\">textarea</span> &#123;</span></span><br><span class=\"line\">      width: 100%;</span><br><span class=\"line\">      height: 100%;</span><br><span class=\"line\">      position: absolute;</span><br><span class=\"line\">      top: 0px;</span><br><span class=\"line\">      padding: 0px;</span><br><span class=\"line\"><span class=\"css\">      <span class=\"comment\">/** 必须设置为 content-box !!! */</span> </span></span><br><span class=\"line\">      box-sizing: content-box;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\">   <span class=\"keyword\">const</span> textarea = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">'.container textarea'</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">   <span class=\"keyword\">const</span> div = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">'.container div'</span>);</span></span><br><span class=\"line\"><span class=\"actionscript\">   textarea.addEventListener(<span class=\"string\">'input'</span>, (e) =&gt; &#123;</span></span><br><span class=\"line\">      div.innerText = e.target.value;</span><br><span class=\"line\">   &#125;);</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><a name=\"demo-1\">尝试输入一些文字吧：</a><br>   <div class=\"container-0\"><div></div><textarea placeholder=\"输入消息...\"></textarea></div></p>\n   <style>\n      .container-0 {\n         width: 500px;\n         position: relative;\n      }\n      .container-0 div {\n         visibility: hidden;\n         padding: 8px 0px;\n      }\n      .container-0 textarea {\n         width: 100%;\n         height: 100%;\n         position: absolute;\n         top: 0px;\n         padding: 0px;\n         box-sizing: content-box;\n      }\n   </style>\n\n   <script>\n      (function() {\n         const textarea = document.querySelector('.container-0 textarea');\n         const div = document.querySelector('.container-0 div');\n         textarea.addEventListener('input', (e) => {\n            div.innerText = e.target.value;\n         });\n      })();\n   </script>\n\n\n<p>　　你可能已经注意到了，当我们输入文字时，输入框的高度显然要比文字内容高许多，伴随着输入文字的增多。高度差会越来越大，这是因为隐藏 <code>div</code> 与 文本域 <code>textarea</code> 内字体的尺寸与行高是不同的， <code>div</code> 内的字体尺寸与行高要比 <code>textarea</code> 内的大，所以 <code>div</code> 撑开的容器高度自然要高于 <code>textarea</code> 内的文字内容高度。要解决这个问题，统一它们的字体尺寸与行高就可以了。(注：<code>div</code> 的字体尺寸与行高默认继承自父元素)</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- demo-1.html --&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"container\"</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">textarea</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">\"输入消息...\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">textarea</span>&gt;</span> </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\">   <span class=\"selector-class\">.container</span> &#123;</span></span><br><span class=\"line\">      width: 500px;</span><br><span class=\"line\">      position: relative;</span><br><span class=\"line\">      font-size: 14px;</span><br><span class=\"line\">      line-height: 16px;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"><span class=\"css\">   <span class=\"selector-class\">.container</span> <span class=\"selector-tag\">div</span> &#123;</span></span><br><span class=\"line\">      visibility: hidden;</span><br><span class=\"line\"><span class=\"css\">      <span class=\"comment\">/** 避免初始化时容器没有高度 */</span></span></span><br><span class=\"line\">      padding: 8px 0px;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"><span class=\"css\">   <span class=\"selector-class\">.container</span> <span class=\"selector-tag\">textarea</span> &#123;</span></span><br><span class=\"line\">      width: 100%;</span><br><span class=\"line\">      height: 100%;</span><br><span class=\"line\">      position: absolute;</span><br><span class=\"line\">      top: 0px;</span><br><span class=\"line\">      padding: 0px;</span><br><span class=\"line\"><span class=\"css\">      <span class=\"comment\">/** 必须设置为 content-box !!! */</span></span></span><br><span class=\"line\">      box-sizing: content-box;</span><br><span class=\"line\"><span class=\"css\">      <span class=\"comment\">/** 设置字体尺寸与行高继承自父元素 */</span></span></span><br><span class=\"line\">      font-size: inherit;</span><br><span class=\"line\">      line-height: inherit;</span><br><span class=\"line\"><span class=\"css\">      <span class=\"comment\">/* 去掉右下角的调整大小的标志 */</span></span></span><br><span class=\"line\">      resize: none;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\">   <span class=\"keyword\">const</span> textarea = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">'.container textarea'</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">   <span class=\"keyword\">const</span> div = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">'.container div'</span>);</span></span><br><span class=\"line\"><span class=\"actionscript\">   textarea.addEventListener(<span class=\"string\">'input'</span>, (e) =&gt; &#123;</span></span><br><span class=\"line\">      div.innerText = e.target.value;</span><br><span class=\"line\">   &#125;);</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><a name=\"demo-2\">尝试输入一些文字吧：</a><br>   <div class=\"container-1\"><div></div><textarea placeholder=\"输入消息...\"></textarea></div></p>\n   <style>\n      .container-1 {\n         width: 500px;\n         position: relative;\n         font-size: 14px;\n         line-height: 16px;\n      }\n      .container-1 div {\n         visibility: hidden;\n         padding: 8px 0px;\n      }\n      .container-1 textarea {\n         width: 100%;\n         height: 100%;\n         position: absolute;\n         top: 0px;\n         padding: 0px;\n         box-sizing: content-box;\n         font-size: inherit;\n         line-height: inherit;\n         resize: none;\n      }\n   </style>\n   <script>\n      (function(){\n         const textarea = document.querySelector('.container-1 textarea');\n         const div = document.querySelector('.container-1 div');\n         textarea.addEventListener('input', (e) => {\n            div.innerText = e.target.value;\n         });\n      })();\n   </script>\n\n<p>　　这样一来高度就一致了。这种方式虽然可以较好的实现高度自适应的输入框，但实现起来总感觉很粗糙，下面这种方式就明显简单多了。</p>\n<h3 id=\"方式二\"><a href=\"#方式二\" class=\"headerlink\" title=\"方式二\"></a>方式二</h3><p>　　像 <code>div</code>, <code>p</code>, <code>blockquote</code> 这样的元素默认是不可编辑的，但我们可以将其 <code>contenteditable</code> 属性设置为 <code>true</code>, 使其变为可编辑的。</p>\n<blockquote>\n<p><code>contenteditable</code>是一个全局属性，用于指示元素是否可被用户编辑，该属性必须采用以下值之一：</p>\n<ol>\n<li><code>true</code> 或者 ‘空字符串’, 表示该元素是可编辑的；</li>\n<li><code>false</code>, 表示该元素是不可编辑的。</li>\n<li>如果未设置此属性，则其默认值将从其父元素继承。</li>\n</ol>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"container\"</span> <span class=\"attr\">contenteditable</span>=<span class=\"string\">\"true\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-class\">.container</span> &#123;</span></span><br><span class=\"line\">    width: 500px;</span><br><span class=\"line\">    font-size: 14px;</span><br><span class=\"line\">    line-height: 16px;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-tag\">border</span>: <span class=\"selector-tag\">solid</span> 1<span class=\"selector-tag\">px</span> <span class=\"selector-id\">#999</span>;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><a name=\"demo-3\">尝试输入一些文字吧：</a><br>  <div class=\"container-2\" contenteditable=\"true\"></div><br>  <style>.container-2 {width: 500px;font-size: 14px;line-height: 16px;border: solid 1px #999}<br>  </style></p>\n<p>　　是不是很简单呢？ 我们也可以使用CSS伪类 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/:empty\">:empty</a>, <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/:focus\">:focus</a>,  实现<code>placeholder</code> 那样的效果</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.container</span> &#123;</span></span><br><span class=\"line\">  width: 500px;</span><br><span class=\"line\">  font-size: 14px;</span><br><span class=\"line\">  line-height: 16px;</span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-tag\">border</span>: <span class=\"selector-tag\">solid</span> 1<span class=\"selector-tag\">px</span> <span class=\"selector-id\">#999</span>;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.container</span><span class=\"selector-pseudo\">:empty</span><span class=\"selector-pseudo\">::before</span> &#123;</span></span><br><span class=\"line\">  content: \"输入消息...\";</span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-tag\">color</span>: <span class=\"selector-id\">#999999</span>;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.container</span><span class=\"selector-pseudo\">:focus</span><span class=\"selector-pseudo\">::before</span> &#123;</span></span><br><span class=\"line\">  content: none;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><a name=\"demo-4\">尝试输入一些文字吧：</a></p>\n  <div class=\"container-3\" contenteditable=\"true\"></div>\n  <style>\n    .container-3 {\n      width: 500px;\n      font-size: 14px;\n      line-height: 16px;\n      border: solid 1px #999;\n    }\n    .container-3:empty::before {\n      content: \"输入消息...\";\n      color: #999999;\n    }\n    .container-3:focus::before {\n      content: none;\n    }\n  </style>\n\n\n<p>　　如果你使用 Vue.js, 我们也可以它封装为一个Vue组件：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">class</span>=<span class=\"string\">\"msg-input\"</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">contenteditable</span>=<span class=\"string\">\"true\"</span></span></span><br><span class=\"line\"><span class=\"tag\">      @<span class=\"attr\">input</span>=<span class=\"string\">\"changeText\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    &gt;</span>&#123;&#123; innerText &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span>&#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">  name: <span class=\"string\">\"MsgInput\"</span>,</span></span><br><span class=\"line\"><span class=\"actionscript\">  props: [<span class=\"string\">'value'</span>],</span></span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"actionscript\">  data: <span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">()</span> </span>&#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">    <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">      innerText: <span class=\"keyword\">this</span>.value,</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  </span><br><span class=\"line\">  methods: &#123;</span><br><span class=\"line\">    changeText() &#123;</span><br><span class=\"line\"><span class=\"actionscript\">      <span class=\"keyword\">this</span>.$emit(<span class=\"string\">'input'</span>, <span class=\"keyword\">this</span>.$el.innerText);</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span> <span class=\"attr\">scoped</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.msg-input</span> &#123;</span></span><br><span class=\"line\">  width: 500px;</span><br><span class=\"line\">  font-size: 14px;</span><br><span class=\"line\">  line-height: 16px;</span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-tag\">border</span>: <span class=\"selector-tag\">solid</span> 1<span class=\"selector-tag\">px</span> <span class=\"selector-id\">#999</span>;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.msg-input</span><span class=\"selector-pseudo\">:empty</span><span class=\"selector-pseudo\">::before</span> &#123;</span></span><br><span class=\"line\">  content: \"输入消息...\";</span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-tag\">color</span>: <span class=\"selector-id\">#999999</span>;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.msg-input</span><span class=\"selector-pseudo\">:focus</span><span class=\"selector-pseudo\">::before</span> &#123;</span></span><br><span class=\"line\">  content: none;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>接下来在父组件中引用这个组件：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">MsgInput</span> <span class=\"attr\">v-model</span>=<span class=\"string\">\"msg\"</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">import</span> MsgInput <span class=\"keyword\">from</span> <span class=\"string\">\"/MsgInput.vue\"</span>;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">  name: <span class=\"string\">\"MsgToolkit\"</span>,</span></span><br><span class=\"line\"><span class=\"actionscript\">  data: <span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">()</span> </span>&#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">    <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">      msg: <span class=\"string\">''</span></span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  components: &#123;</span><br><span class=\"line\">    MsgInput</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>　　父组件为子组件使用 <code>v-model</code> 指令，将子组件的 <code>value</code> 与 父组件的 <code>msg</code> 双向绑定在一起。当输入事件发生后，子组件调用changeText方法，触发一个 <code>input</code> 事件，父组件监听到此事件，将事件传递过来的数据同步到 <code>msg</code> 上，由于数据是双向绑定的，子组件的 <code>value</code> 值也会相应发生变化。更过原理请参考 <a href=\"https://cn.vuejs.org/v2/guide/components-custom-events.html#自定义组件的-v-model\">自定义组件的-v-model</a></p>\n<p><em>该篇博客内的代码已同步到<a href=\"https://github.com/zsimline/mxsyx-public/tree/master/code/archive-10\">Github</a></em></p>\n<p>参考资料：<br>  [1]. MDN文档 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/HTML/Global_attributes/contenteditable\">https://developer.mozilla.org/zh-CN/docs/Web/HTML/Global_attributes/contenteditable</a><br>  [2]. MDN文档 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/visibility\">https://developer.mozilla.org/zh-CN/docs/Web/CSS/visibility</a><br>  [3]. MDN文档 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/:empty\">https://developer.mozilla.org/zh-CN/docs/Web/CSS/:empty</a><br>  [4]. MDN文档 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/:focus\">https://developer.mozilla.org/zh-CN/docs/Web/CSS/:focus</a><br>  [5]. Vue.js官方文档 <a href=\"https://cn.vuejs.org/v2/guide/components-custom-events.html#自定义组件的-v-model\">https://cn.vuejs.org/v2/guide/components-custom-events.html#自定义组件的-v-model</a></p>"},{"title":"解决Debina系统自动更新软件包的问题","date":"2019-12-02T15:09:23.000Z","reward":true,"toc":true,"_content":"\n　　不知从何时开始，我的电脑每天开机连接上网络之后，不断的在下载数据，状态栏显示网速达到每秒1到2兆。开始我还不太在意，不过后来由于带宽全部被这种莫名其奥妙的下载占据了，我连网页都无否正常浏览了，所以我决定解决掉这个问题。下面记录一下解决这个问题的过程。\n\n　　首先我利用一款名为`nethogs`的实时网速监控程序查看是哪个进程在占据带宽，发现占据带宽的正是系统的APT包管理工具，我想肯定是系统在执行自动更新。杀掉这个进程后，我便去Google了一下如何关闭APT包管理工具的的自动更新。网上人们提供的解决方案大都一致：修改APT的配置文件。\n<!-- More -->\nAPT关于自动更新的配置文件位于\"/etc/apt/apt.conf.d/20auto-upgrades\", 将其中的\n```shell\nAPT::Periodic::Update-Package-Lists \"1\";\nAPT::Periodic::Unattended-Upgrade \"1\";\n```\n更改为\n```shell\nAPT::Periodic::Update-Package-Lists \"0\";\nAPT::Periodic::Unattended-Upgrade \"0\";\n```\n其中\n- APT::Periodic::Update-Package-Lists; 每一天自动运行一次 apt-get update，1 表示启用，0 表示禁用。\n- APT::Periodic::Unattended-Upgrade; 每一天运行一次 unattended-upgrade 安全升级脚本，1 表示启用，0 表示禁用。\n  \n　　然而，并无卵用，第二天开机后APT又执行自动更新了，更奇怪的是杀掉APT进程不久之后它会再一次运行。这时我才意识到一件事情，APT是不会自动把自己调入内存运行的，一定是另有进程调用了它。打开进程管理器之后，查看 APT 进程的依赖关系，发现果然它有一个名为 `packagekit` 的父进程，我查了一下 `packagekit` 是一个旨在简化Linux发行版安装和更新软件的系统，它为不同的包管理工具提供了统一的前端，你可以在不同的Linux发行版中使用它来管理软件包。\n\n　　我的系统默认在开机时启动packgekit服务，查看 `packagekit` 的启动单元: \n`cat /lib/systemd/system/packagekit.service`\n```shell\n[Unit]\nDescription=PackageKit Daemon\n# PK does not know how to do anything on ostree-managed systems;\n# currently the design is to have dedicated daemons like\n# eos-updater and rpm-ostree, and gnome-software talks to those.\nConditionPathExists=!/run/ostree-booted\n\n[Service]\nType=dbus\nBusName=org.freedesktop.PackageKit\nUser=root\nExecStart=/usr/lib/packagekit/packagekitd\n```\n*系统每次开机时都会启动这个单元，执行 `/usr/lib/packagekit/packagekitd` 命令，而 `packagekit` 又将在运行期间调起APT下载需要更新的软件包。*\n\n　　知道了这些问题自然也就解决了，禁用此服务: `systemctl disable packagekit.service`.\n　　或者干脆删除 `/lib/systemd/system/` 目录下的 `packagekit.service` (当然你也可以把这个文件移动到别的地方去，以后用到时再放回来)\n\n　　在那之后，系统便再也没有执行过自动更新了。\n　　\n[附]\n>[nethohs](https://github.com/raboof/nethogs)是一个能按进程实时监控网络的命令行工具，它可以动态的展示某一时刻正在进行通信的进程的网络流量信息。\n\n在 Debian/Ubuntu 下，使用`apt-get install nethogs` 安装它。\n或编译安装:\n```shell\nwget -c https://github.com/raboof/nethogs/archive/v0.8.5.tar.gz\ntar xf v0.8.5.tar.gz \ncd ./nethogs-0.8.5/\nmake && make install\n```\n如果编译失败需要安装依赖库\n```\napt-get install libncurses5-dev libpcap-dev\n```\n\n使用\n\n```shell\nroot@zsimline$ nethogs\nNetHogs version 0.8.5-2+b1\nPID  USER    PROGRAM                   DEV  SENT      RECEIVED  \n2181 mxsyx  /usr/share/code/code       usb0 0.449   0.900 KB/sec\n1598 mxsyx  /usr/lib/chromium/chromium usb0 0.031   0.018 KB/sec\n?    root   unknown TCP                     0.000   0.000 KB/sec\n\n  TOTAL                                     0.480       0.917 KB/se\n```\n\n指定网卡\n```shell\nroot@zsimline$ nethogs wlan0 # 监听wlan0\nroot@zsimline$ nethogs -a    # 监听所有网卡\n```\n\n指定刷新频率 -d seconds (默认为1)\n```shell\nroot@zsimline$ nethogs -d 2\n```\n\n指定刷新次数 -c number (默认不限)\n```shell\nroot@zsimline$ nethogs -c 10\n```\n\n交互模式\n在进入 nethogs 之后，可以使用如下的交互命令:\n```shell\nq: 退出\ns: 按照发送流量排序\nr: 按照流量排序\nm: 修改网速单位 (KB, B, MB) and KB/s\n```","source":"_posts/解决Debina系统自动更新软件包的问题.md","raw":"---\ntitle: 解决Debina系统自动更新软件包的问题\ndate: 2019-12-02 23:09:23\npermalink: 2\ncategories: Linux\ntags: Linux\nreward: true\ntoc: true\n---\n\n　　不知从何时开始，我的电脑每天开机连接上网络之后，不断的在下载数据，状态栏显示网速达到每秒1到2兆。开始我还不太在意，不过后来由于带宽全部被这种莫名其奥妙的下载占据了，我连网页都无否正常浏览了，所以我决定解决掉这个问题。下面记录一下解决这个问题的过程。\n\n　　首先我利用一款名为`nethogs`的实时网速监控程序查看是哪个进程在占据带宽，发现占据带宽的正是系统的APT包管理工具，我想肯定是系统在执行自动更新。杀掉这个进程后，我便去Google了一下如何关闭APT包管理工具的的自动更新。网上人们提供的解决方案大都一致：修改APT的配置文件。\n<!-- More -->\nAPT关于自动更新的配置文件位于\"/etc/apt/apt.conf.d/20auto-upgrades\", 将其中的\n```shell\nAPT::Periodic::Update-Package-Lists \"1\";\nAPT::Periodic::Unattended-Upgrade \"1\";\n```\n更改为\n```shell\nAPT::Periodic::Update-Package-Lists \"0\";\nAPT::Periodic::Unattended-Upgrade \"0\";\n```\n其中\n- APT::Periodic::Update-Package-Lists; 每一天自动运行一次 apt-get update，1 表示启用，0 表示禁用。\n- APT::Periodic::Unattended-Upgrade; 每一天运行一次 unattended-upgrade 安全升级脚本，1 表示启用，0 表示禁用。\n  \n　　然而，并无卵用，第二天开机后APT又执行自动更新了，更奇怪的是杀掉APT进程不久之后它会再一次运行。这时我才意识到一件事情，APT是不会自动把自己调入内存运行的，一定是另有进程调用了它。打开进程管理器之后，查看 APT 进程的依赖关系，发现果然它有一个名为 `packagekit` 的父进程，我查了一下 `packagekit` 是一个旨在简化Linux发行版安装和更新软件的系统，它为不同的包管理工具提供了统一的前端，你可以在不同的Linux发行版中使用它来管理软件包。\n\n　　我的系统默认在开机时启动packgekit服务，查看 `packagekit` 的启动单元: \n`cat /lib/systemd/system/packagekit.service`\n```shell\n[Unit]\nDescription=PackageKit Daemon\n# PK does not know how to do anything on ostree-managed systems;\n# currently the design is to have dedicated daemons like\n# eos-updater and rpm-ostree, and gnome-software talks to those.\nConditionPathExists=!/run/ostree-booted\n\n[Service]\nType=dbus\nBusName=org.freedesktop.PackageKit\nUser=root\nExecStart=/usr/lib/packagekit/packagekitd\n```\n*系统每次开机时都会启动这个单元，执行 `/usr/lib/packagekit/packagekitd` 命令，而 `packagekit` 又将在运行期间调起APT下载需要更新的软件包。*\n\n　　知道了这些问题自然也就解决了，禁用此服务: `systemctl disable packagekit.service`.\n　　或者干脆删除 `/lib/systemd/system/` 目录下的 `packagekit.service` (当然你也可以把这个文件移动到别的地方去，以后用到时再放回来)\n\n　　在那之后，系统便再也没有执行过自动更新了。\n　　\n[附]\n>[nethohs](https://github.com/raboof/nethogs)是一个能按进程实时监控网络的命令行工具，它可以动态的展示某一时刻正在进行通信的进程的网络流量信息。\n\n在 Debian/Ubuntu 下，使用`apt-get install nethogs` 安装它。\n或编译安装:\n```shell\nwget -c https://github.com/raboof/nethogs/archive/v0.8.5.tar.gz\ntar xf v0.8.5.tar.gz \ncd ./nethogs-0.8.5/\nmake && make install\n```\n如果编译失败需要安装依赖库\n```\napt-get install libncurses5-dev libpcap-dev\n```\n\n使用\n\n```shell\nroot@zsimline$ nethogs\nNetHogs version 0.8.5-2+b1\nPID  USER    PROGRAM                   DEV  SENT      RECEIVED  \n2181 mxsyx  /usr/share/code/code       usb0 0.449   0.900 KB/sec\n1598 mxsyx  /usr/lib/chromium/chromium usb0 0.031   0.018 KB/sec\n?    root   unknown TCP                     0.000   0.000 KB/sec\n\n  TOTAL                                     0.480       0.917 KB/se\n```\n\n指定网卡\n```shell\nroot@zsimline$ nethogs wlan0 # 监听wlan0\nroot@zsimline$ nethogs -a    # 监听所有网卡\n```\n\n指定刷新频率 -d seconds (默认为1)\n```shell\nroot@zsimline$ nethogs -d 2\n```\n\n指定刷新次数 -c number (默认不限)\n```shell\nroot@zsimline$ nethogs -c 10\n```\n\n交互模式\n在进入 nethogs 之后，可以使用如下的交互命令:\n```shell\nq: 退出\ns: 按照发送流量排序\nr: 按照流量排序\nm: 修改网速单位 (KB, B, MB) and KB/s\n```","slug":"2","published":1,"updated":"2020-01-07T07:49:50.025Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck541morl000pecfw6mowda4q","content":"<p>　　不知从何时开始，我的电脑每天开机连接上网络之后，不断的在下载数据，状态栏显示网速达到每秒1到2兆。开始我还不太在意，不过后来由于带宽全部被这种莫名其奥妙的下载占据了，我连网页都无否正常浏览了，所以我决定解决掉这个问题。下面记录一下解决这个问题的过程。</p>\n<p>　　首先我利用一款名为<code>nethogs</code>的实时网速监控程序查看是哪个进程在占据带宽，发现占据带宽的正是系统的APT包管理工具，我想肯定是系统在执行自动更新。杀掉这个进程后，我便去Google了一下如何关闭APT包管理工具的的自动更新。网上人们提供的解决方案大都一致：修改APT的配置文件。</p>\n<a id=\"more\"></a>\n<p>APT关于自动更新的配置文件位于”/etc/apt/apt.conf.d/20auto-upgrades”, 将其中的</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">APT::Periodic::Update-Package-Lists \"1\";</span><br><span class=\"line\">APT::Periodic::Unattended-Upgrade \"1\";</span><br></pre></td></tr></table></figure>\n<p>更改为</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">APT::Periodic::Update-Package-Lists \"0\";</span><br><span class=\"line\">APT::Periodic::Unattended-Upgrade \"0\";</span><br></pre></td></tr></table></figure>\n<p>其中</p>\n<ul>\n<li>APT::Periodic::Update-Package-Lists; 每一天自动运行一次 apt-get update，1 表示启用，0 表示禁用。</li>\n<li>APT::Periodic::Unattended-Upgrade; 每一天运行一次 unattended-upgrade 安全升级脚本，1 表示启用，0 表示禁用。</li>\n</ul>\n<p>　　然而，并无卵用，第二天开机后APT又执行自动更新了，更奇怪的是杀掉APT进程不久之后它会再一次运行。这时我才意识到一件事情，APT是不会自动把自己调入内存运行的，一定是另有进程调用了它。打开进程管理器之后，查看 APT 进程的依赖关系，发现果然它有一个名为 <code>packagekit</code> 的父进程，我查了一下 <code>packagekit</code> 是一个旨在简化Linux发行版安装和更新软件的系统，它为不同的包管理工具提供了统一的前端，你可以在不同的Linux发行版中使用它来管理软件包。</p>\n<p>　　我的系统默认在开机时启动packgekit服务，查看 <code>packagekit</code> 的启动单元:<br><code>cat /lib/systemd/system/packagekit.service</code></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=PackageKit Daemon</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> PK does not know how to <span class=\"keyword\">do</span> anything on ostree-managed systems;</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> currently the design is to have dedicated daemons like</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> eos-updater and rpm-ostree, and gnome-software talks to those.</span></span><br><span class=\"line\">ConditionPathExists=!/run/ostree-booted</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">Type=dbus</span><br><span class=\"line\">BusName=org.freedesktop.PackageKit</span><br><span class=\"line\">User=root</span><br><span class=\"line\">ExecStart=/usr/lib/packagekit/packagekitd</span><br></pre></td></tr></table></figure>\n<p><em>系统每次开机时都会启动这个单元，执行 <code>/usr/lib/packagekit/packagekitd</code> 命令，而 <code>packagekit</code> 又将在运行期间调起APT下载需要更新的软件包。</em></p>\n<p>　　知道了这些问题自然也就解决了，禁用此服务: <code>systemctl disable packagekit.service</code>.<br>　　或者干脆删除 <code>/lib/systemd/system/</code> 目录下的 <code>packagekit.service</code> (当然你也可以把这个文件移动到别的地方去，以后用到时再放回来)</p>\n<p>　　在那之后，系统便再也没有执行过自动更新了。<br>　　<br>[附]</p>\n<blockquote>\n<p><a href=\"https://github.com/raboof/nethogs\">nethohs</a>是一个能按进程实时监控网络的命令行工具，它可以动态的展示某一时刻正在进行通信的进程的网络流量信息。</p>\n</blockquote>\n<p>在 Debian/Ubuntu 下，使用<code>apt-get install nethogs</code> 安装它。<br>或编译安装:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget -c https://github.com/raboof/nethogs/archive/v0.8.5.tar.gz</span><br><span class=\"line\">tar xf v0.8.5.tar.gz </span><br><span class=\"line\">cd ./nethogs-0.8.5/</span><br><span class=\"line\">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>\n<p>如果编译失败需要安装依赖库</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt-get install libncurses5-dev libpcap-dev</span><br></pre></td></tr></table></figure>\n\n<p>使用</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">root@zsimline$</span><span class=\"bash\"> nethogs</span></span><br><span class=\"line\">NetHogs version 0.8.5-2+b1</span><br><span class=\"line\">PID  USER    PROGRAM                   DEV  SENT      RECEIVED  </span><br><span class=\"line\">2181 mxsyx  /usr/share/code/code       usb0 0.449   0.900 KB/sec</span><br><span class=\"line\">1598 mxsyx  /usr/lib/chromium/chromium usb0 0.031   0.018 KB/sec</span><br><span class=\"line\">?    root   unknown TCP                     0.000   0.000 KB/sec</span><br><span class=\"line\"></span><br><span class=\"line\">  TOTAL                                     0.480       0.917 KB/se</span><br></pre></td></tr></table></figure>\n\n<p>指定网卡</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">root@zsimline$</span><span class=\"bash\"> nethogs wlan0 <span class=\"comment\"># 监听wlan0</span></span></span><br><span class=\"line\"><span class=\"meta\">root@zsimline$</span><span class=\"bash\"> nethogs -a    <span class=\"comment\"># 监听所有网卡</span></span></span><br></pre></td></tr></table></figure>\n\n<p>指定刷新频率 -d seconds (默认为1)</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">root@zsimline$</span><span class=\"bash\"> nethogs -d 2</span></span><br></pre></td></tr></table></figure>\n\n<p>指定刷新次数 -c number (默认不限)</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">root@zsimline$</span><span class=\"bash\"> nethogs -c 10</span></span><br></pre></td></tr></table></figure>\n\n<p>交互模式<br>在进入 nethogs 之后，可以使用如下的交互命令:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">q: 退出</span><br><span class=\"line\">s: 按照发送流量排序</span><br><span class=\"line\">r: 按照流量排序</span><br><span class=\"line\">m: 修改网速单位 (KB, B, MB) and KB/s</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<p>　　不知从何时开始，我的电脑每天开机连接上网络之后，不断的在下载数据，状态栏显示网速达到每秒1到2兆。开始我还不太在意，不过后来由于带宽全部被这种莫名其奥妙的下载占据了，我连网页都无否正常浏览了，所以我决定解决掉这个问题。下面记录一下解决这个问题的过程。</p>\n<p>　　首先我利用一款名为<code>nethogs</code>的实时网速监控程序查看是哪个进程在占据带宽，发现占据带宽的正是系统的APT包管理工具，我想肯定是系统在执行自动更新。杀掉这个进程后，我便去Google了一下如何关闭APT包管理工具的的自动更新。网上人们提供的解决方案大都一致：修改APT的配置文件。</p>","more":"<p>APT关于自动更新的配置文件位于”/etc/apt/apt.conf.d/20auto-upgrades”, 将其中的</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">APT::Periodic::Update-Package-Lists \"1\";</span><br><span class=\"line\">APT::Periodic::Unattended-Upgrade \"1\";</span><br></pre></td></tr></table></figure>\n<p>更改为</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">APT::Periodic::Update-Package-Lists \"0\";</span><br><span class=\"line\">APT::Periodic::Unattended-Upgrade \"0\";</span><br></pre></td></tr></table></figure>\n<p>其中</p>\n<ul>\n<li>APT::Periodic::Update-Package-Lists; 每一天自动运行一次 apt-get update，1 表示启用，0 表示禁用。</li>\n<li>APT::Periodic::Unattended-Upgrade; 每一天运行一次 unattended-upgrade 安全升级脚本，1 表示启用，0 表示禁用。</li>\n</ul>\n<p>　　然而，并无卵用，第二天开机后APT又执行自动更新了，更奇怪的是杀掉APT进程不久之后它会再一次运行。这时我才意识到一件事情，APT是不会自动把自己调入内存运行的，一定是另有进程调用了它。打开进程管理器之后，查看 APT 进程的依赖关系，发现果然它有一个名为 <code>packagekit</code> 的父进程，我查了一下 <code>packagekit</code> 是一个旨在简化Linux发行版安装和更新软件的系统，它为不同的包管理工具提供了统一的前端，你可以在不同的Linux发行版中使用它来管理软件包。</p>\n<p>　　我的系统默认在开机时启动packgekit服务，查看 <code>packagekit</code> 的启动单元:<br><code>cat /lib/systemd/system/packagekit.service</code></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=PackageKit Daemon</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> PK does not know how to <span class=\"keyword\">do</span> anything on ostree-managed systems;</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> currently the design is to have dedicated daemons like</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> eos-updater and rpm-ostree, and gnome-software talks to those.</span></span><br><span class=\"line\">ConditionPathExists=!/run/ostree-booted</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">Type=dbus</span><br><span class=\"line\">BusName=org.freedesktop.PackageKit</span><br><span class=\"line\">User=root</span><br><span class=\"line\">ExecStart=/usr/lib/packagekit/packagekitd</span><br></pre></td></tr></table></figure>\n<p><em>系统每次开机时都会启动这个单元，执行 <code>/usr/lib/packagekit/packagekitd</code> 命令，而 <code>packagekit</code> 又将在运行期间调起APT下载需要更新的软件包。</em></p>\n<p>　　知道了这些问题自然也就解决了，禁用此服务: <code>systemctl disable packagekit.service</code>.<br>　　或者干脆删除 <code>/lib/systemd/system/</code> 目录下的 <code>packagekit.service</code> (当然你也可以把这个文件移动到别的地方去，以后用到时再放回来)</p>\n<p>　　在那之后，系统便再也没有执行过自动更新了。<br>　　<br>[附]</p>\n<blockquote>\n<p><a href=\"https://github.com/raboof/nethogs\">nethohs</a>是一个能按进程实时监控网络的命令行工具，它可以动态的展示某一时刻正在进行通信的进程的网络流量信息。</p>\n</blockquote>\n<p>在 Debian/Ubuntu 下，使用<code>apt-get install nethogs</code> 安装它。<br>或编译安装:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget -c https://github.com/raboof/nethogs/archive/v0.8.5.tar.gz</span><br><span class=\"line\">tar xf v0.8.5.tar.gz </span><br><span class=\"line\">cd ./nethogs-0.8.5/</span><br><span class=\"line\">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>\n<p>如果编译失败需要安装依赖库</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt-get install libncurses5-dev libpcap-dev</span><br></pre></td></tr></table></figure>\n\n<p>使用</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">root@zsimline$</span><span class=\"bash\"> nethogs</span></span><br><span class=\"line\">NetHogs version 0.8.5-2+b1</span><br><span class=\"line\">PID  USER    PROGRAM                   DEV  SENT      RECEIVED  </span><br><span class=\"line\">2181 mxsyx  /usr/share/code/code       usb0 0.449   0.900 KB/sec</span><br><span class=\"line\">1598 mxsyx  /usr/lib/chromium/chromium usb0 0.031   0.018 KB/sec</span><br><span class=\"line\">?    root   unknown TCP                     0.000   0.000 KB/sec</span><br><span class=\"line\"></span><br><span class=\"line\">  TOTAL                                     0.480       0.917 KB/se</span><br></pre></td></tr></table></figure>\n\n<p>指定网卡</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">root@zsimline$</span><span class=\"bash\"> nethogs wlan0 <span class=\"comment\"># 监听wlan0</span></span></span><br><span class=\"line\"><span class=\"meta\">root@zsimline$</span><span class=\"bash\"> nethogs -a    <span class=\"comment\"># 监听所有网卡</span></span></span><br></pre></td></tr></table></figure>\n\n<p>指定刷新频率 -d seconds (默认为1)</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">root@zsimline$</span><span class=\"bash\"> nethogs -d 2</span></span><br></pre></td></tr></table></figure>\n\n<p>指定刷新次数 -c number (默认不限)</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">root@zsimline$</span><span class=\"bash\"> nethogs -c 10</span></span><br></pre></td></tr></table></figure>\n\n<p>交互模式<br>在进入 nethogs 之后，可以使用如下的交互命令:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">q: 退出</span><br><span class=\"line\">s: 按照发送流量排序</span><br><span class=\"line\">r: 按照流量排序</span><br><span class=\"line\">m: 修改网速单位 (KB, B, MB) and KB/s</span><br></pre></td></tr></table></figure>"},{"title":"那年夏夜","reward":true,"date":"2019-12-10T13:27:49.000Z","toc":true,"_content":"\n　　我想写些东西已经很久了，以前不会写，不知该从何处下笔。不知道现在会不会写，但凡事都可以去试一试，于是我写下了这篇文章。\n\n　　十多年前，在我上小学的时候，那时的我还有一双明亮的眼睛，能清楚的看见天上数不清的星星。现在呢，患了近视的我再也无法看清那些星星了，也许真的是身体上的原因，又或许是有什么不干净的东西模糊了我的眼睛。\n<!-- More -->\n　　那时的夏夜很是凉爽，每到傍晚时分，父亲便搬出桌子，摆在院子中央，我们一家人就在院子里吃晚饭。奶奶总是熬一锅西红柿粥给全家人喝，说实话我真的很爱喝，只不过再也喝不到了。我似乎记不起吃过完后家人们都去做什么了，除了我的爷爷。爷爷有两个老物件，一个是他的三轮车，那是一辆很破旧的三轮车，也是我第一个会驾驶的“交通工具”，爷爷每天用它来拉一些用来喂羊的树枝、青草。这另一个物件，就是爷爷非常喜爱的躺椅，每当吃过晚饭后，爷爷便躺在上面乘凉。老人家睡觉比较早，晚上八点钟左右爷爷便去屋子里睡觉了，可是我一个小孩子在八点钟是绝对不会睡觉的，但也没什么可供玩耍的，于是我便相中了爷爷的躺椅。\n\n　　爷爷去屋子里睡觉后，我便霸占了他的躺椅。躺在上面，放眼望去，映入眼帘的是一个璀璨的星空。离我最近的星星如镰刀一般，最亮也最引人注目，听说有一个漂亮的姐姐住在上面，那时的我已经知道了它叫月亮。离着月亮不远处有一颗非常亮的星星，除了月亮外它便是最耀眼的，那时我还不知它叫什么名字，后来有人告诉我它叫启明星，是指引人们前进的星星。 这些星星交织在一起，有的亮一些，有的暗一些，有的一直在闪烁，有的从来都不会闪烁，美丽极了。\n\n　　那时的夏夜很安静，除了能听到几只蛐蛐的叫声外，再也听不到其他声音了。小时候的我很喜欢那样安静的氛围，我在躺椅上躺一两个小时都不会觉的枯燥，我很想睡在上面，只不过母亲总是会把我赶到屋子中睡觉。\n\n　　这么多年过去了，一年四季中依旧不会少了夏季，白昼过后还是会迎来黑夜。只是，我再也没有机会去享受一个那样纯净的夏夜了。爷爷在我上初一时离开了我们，奶奶也终将离我们而去，姐姐即将出嫁，父亲与母亲苍老了许多。曾经的一家人永远的留在了那个夜晚。\n\n　　童年的记忆已经忘却的差不多了，以后我只会记得曾经有过一个个美好的夏夜，关于那些夏夜里发生了什么，就再也记不得了。也许生命本该是如此，美好的永远只属于过去，现在，包括将来，不会再遇到这样的美好。只能在心底里默默的发出一丝感伤：我曾经拥有过一份美好，无奈世间多沧桑，它总归要离我而去。\n\n　　那个夏夜，承载了我太多的回忆，如今这份回忆已经被我亲手埋葬，过去的我也永远的睡在了那张躺椅上。","source":"_posts/那年夏夜.md","raw":"---\ntitle: 那年夏夜\nreward: true\ndate: 2019-12-10 21:27:49\ntags: 生活\npermalink: 6\ncategories: 那年夏夜\ntoc: true\n---\n\n　　我想写些东西已经很久了，以前不会写，不知该从何处下笔。不知道现在会不会写，但凡事都可以去试一试，于是我写下了这篇文章。\n\n　　十多年前，在我上小学的时候，那时的我还有一双明亮的眼睛，能清楚的看见天上数不清的星星。现在呢，患了近视的我再也无法看清那些星星了，也许真的是身体上的原因，又或许是有什么不干净的东西模糊了我的眼睛。\n<!-- More -->\n　　那时的夏夜很是凉爽，每到傍晚时分，父亲便搬出桌子，摆在院子中央，我们一家人就在院子里吃晚饭。奶奶总是熬一锅西红柿粥给全家人喝，说实话我真的很爱喝，只不过再也喝不到了。我似乎记不起吃过完后家人们都去做什么了，除了我的爷爷。爷爷有两个老物件，一个是他的三轮车，那是一辆很破旧的三轮车，也是我第一个会驾驶的“交通工具”，爷爷每天用它来拉一些用来喂羊的树枝、青草。这另一个物件，就是爷爷非常喜爱的躺椅，每当吃过晚饭后，爷爷便躺在上面乘凉。老人家睡觉比较早，晚上八点钟左右爷爷便去屋子里睡觉了，可是我一个小孩子在八点钟是绝对不会睡觉的，但也没什么可供玩耍的，于是我便相中了爷爷的躺椅。\n\n　　爷爷去屋子里睡觉后，我便霸占了他的躺椅。躺在上面，放眼望去，映入眼帘的是一个璀璨的星空。离我最近的星星如镰刀一般，最亮也最引人注目，听说有一个漂亮的姐姐住在上面，那时的我已经知道了它叫月亮。离着月亮不远处有一颗非常亮的星星，除了月亮外它便是最耀眼的，那时我还不知它叫什么名字，后来有人告诉我它叫启明星，是指引人们前进的星星。 这些星星交织在一起，有的亮一些，有的暗一些，有的一直在闪烁，有的从来都不会闪烁，美丽极了。\n\n　　那时的夏夜很安静，除了能听到几只蛐蛐的叫声外，再也听不到其他声音了。小时候的我很喜欢那样安静的氛围，我在躺椅上躺一两个小时都不会觉的枯燥，我很想睡在上面，只不过母亲总是会把我赶到屋子中睡觉。\n\n　　这么多年过去了，一年四季中依旧不会少了夏季，白昼过后还是会迎来黑夜。只是，我再也没有机会去享受一个那样纯净的夏夜了。爷爷在我上初一时离开了我们，奶奶也终将离我们而去，姐姐即将出嫁，父亲与母亲苍老了许多。曾经的一家人永远的留在了那个夜晚。\n\n　　童年的记忆已经忘却的差不多了，以后我只会记得曾经有过一个个美好的夏夜，关于那些夏夜里发生了什么，就再也记不得了。也许生命本该是如此，美好的永远只属于过去，现在，包括将来，不会再遇到这样的美好。只能在心底里默默的发出一丝感伤：我曾经拥有过一份美好，无奈世间多沧桑，它总归要离我而去。\n\n　　那个夏夜，承载了我太多的回忆，如今这份回忆已经被我亲手埋葬，过去的我也永远的睡在了那张躺椅上。","slug":"6","published":1,"updated":"2020-01-07T07:48:16.189Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck541morn000tecfwc54h0ukx","content":"<p>　　我想写些东西已经很久了，以前不会写，不知该从何处下笔。不知道现在会不会写，但凡事都可以去试一试，于是我写下了这篇文章。</p>\n<p>　　十多年前，在我上小学的时候，那时的我还有一双明亮的眼睛，能清楚的看见天上数不清的星星。现在呢，患了近视的我再也无法看清那些星星了，也许真的是身体上的原因，又或许是有什么不干净的东西模糊了我的眼睛。</p>\n<a id=\"more\"></a>\n<p>　　那时的夏夜很是凉爽，每到傍晚时分，父亲便搬出桌子，摆在院子中央，我们一家人就在院子里吃晚饭。奶奶总是熬一锅西红柿粥给全家人喝，说实话我真的很爱喝，只不过再也喝不到了。我似乎记不起吃过完后家人们都去做什么了，除了我的爷爷。爷爷有两个老物件，一个是他的三轮车，那是一辆很破旧的三轮车，也是我第一个会驾驶的“交通工具”，爷爷每天用它来拉一些用来喂羊的树枝、青草。这另一个物件，就是爷爷非常喜爱的躺椅，每当吃过晚饭后，爷爷便躺在上面乘凉。老人家睡觉比较早，晚上八点钟左右爷爷便去屋子里睡觉了，可是我一个小孩子在八点钟是绝对不会睡觉的，但也没什么可供玩耍的，于是我便相中了爷爷的躺椅。</p>\n<p>　　爷爷去屋子里睡觉后，我便霸占了他的躺椅。躺在上面，放眼望去，映入眼帘的是一个璀璨的星空。离我最近的星星如镰刀一般，最亮也最引人注目，听说有一个漂亮的姐姐住在上面，那时的我已经知道了它叫月亮。离着月亮不远处有一颗非常亮的星星，除了月亮外它便是最耀眼的，那时我还不知它叫什么名字，后来有人告诉我它叫启明星，是指引人们前进的星星。 这些星星交织在一起，有的亮一些，有的暗一些，有的一直在闪烁，有的从来都不会闪烁，美丽极了。</p>\n<p>　　那时的夏夜很安静，除了能听到几只蛐蛐的叫声外，再也听不到其他声音了。小时候的我很喜欢那样安静的氛围，我在躺椅上躺一两个小时都不会觉的枯燥，我很想睡在上面，只不过母亲总是会把我赶到屋子中睡觉。</p>\n<p>　　这么多年过去了，一年四季中依旧不会少了夏季，白昼过后还是会迎来黑夜。只是，我再也没有机会去享受一个那样纯净的夏夜了。爷爷在我上初一时离开了我们，奶奶也终将离我们而去，姐姐即将出嫁，父亲与母亲苍老了许多。曾经的一家人永远的留在了那个夜晚。</p>\n<p>　　童年的记忆已经忘却的差不多了，以后我只会记得曾经有过一个个美好的夏夜，关于那些夏夜里发生了什么，就再也记不得了。也许生命本该是如此，美好的永远只属于过去，现在，包括将来，不会再遇到这样的美好。只能在心底里默默的发出一丝感伤：我曾经拥有过一份美好，无奈世间多沧桑，它总归要离我而去。</p>\n<p>　　那个夏夜，承载了我太多的回忆，如今这份回忆已经被我亲手埋葬，过去的我也永远的睡在了那张躺椅上。</p>\n","site":{"data":{}},"excerpt":"<p>　　我想写些东西已经很久了，以前不会写，不知该从何处下笔。不知道现在会不会写，但凡事都可以去试一试，于是我写下了这篇文章。</p>\n<p>　　十多年前，在我上小学的时候，那时的我还有一双明亮的眼睛，能清楚的看见天上数不清的星星。现在呢，患了近视的我再也无法看清那些星星了，也许真的是身体上的原因，又或许是有什么不干净的东西模糊了我的眼睛。</p>","more":"<p>　　那时的夏夜很是凉爽，每到傍晚时分，父亲便搬出桌子，摆在院子中央，我们一家人就在院子里吃晚饭。奶奶总是熬一锅西红柿粥给全家人喝，说实话我真的很爱喝，只不过再也喝不到了。我似乎记不起吃过完后家人们都去做什么了，除了我的爷爷。爷爷有两个老物件，一个是他的三轮车，那是一辆很破旧的三轮车，也是我第一个会驾驶的“交通工具”，爷爷每天用它来拉一些用来喂羊的树枝、青草。这另一个物件，就是爷爷非常喜爱的躺椅，每当吃过晚饭后，爷爷便躺在上面乘凉。老人家睡觉比较早，晚上八点钟左右爷爷便去屋子里睡觉了，可是我一个小孩子在八点钟是绝对不会睡觉的，但也没什么可供玩耍的，于是我便相中了爷爷的躺椅。</p>\n<p>　　爷爷去屋子里睡觉后，我便霸占了他的躺椅。躺在上面，放眼望去，映入眼帘的是一个璀璨的星空。离我最近的星星如镰刀一般，最亮也最引人注目，听说有一个漂亮的姐姐住在上面，那时的我已经知道了它叫月亮。离着月亮不远处有一颗非常亮的星星，除了月亮外它便是最耀眼的，那时我还不知它叫什么名字，后来有人告诉我它叫启明星，是指引人们前进的星星。 这些星星交织在一起，有的亮一些，有的暗一些，有的一直在闪烁，有的从来都不会闪烁，美丽极了。</p>\n<p>　　那时的夏夜很安静，除了能听到几只蛐蛐的叫声外，再也听不到其他声音了。小时候的我很喜欢那样安静的氛围，我在躺椅上躺一两个小时都不会觉的枯燥，我很想睡在上面，只不过母亲总是会把我赶到屋子中睡觉。</p>\n<p>　　这么多年过去了，一年四季中依旧不会少了夏季，白昼过后还是会迎来黑夜。只是，我再也没有机会去享受一个那样纯净的夏夜了。爷爷在我上初一时离开了我们，奶奶也终将离我们而去，姐姐即将出嫁，父亲与母亲苍老了许多。曾经的一家人永远的留在了那个夜晚。</p>\n<p>　　童年的记忆已经忘却的差不多了，以后我只会记得曾经有过一个个美好的夏夜，关于那些夏夜里发生了什么，就再也记不得了。也许生命本该是如此，美好的永远只属于过去，现在，包括将来，不会再遇到这样的美好。只能在心底里默默的发出一丝感伤：我曾经拥有过一份美好，无奈世间多沧桑，它总归要离我而去。</p>\n<p>　　那个夏夜，承载了我太多的回忆，如今这份回忆已经被我亲手埋葬，过去的我也永远的睡在了那张躺椅上。</p>"}],"PostAsset":[],"PostCategory":[{"post_id":"ck541moqr0000ecfwgyzv8bsk","category_id":"ck541mor40004ecfw3x2u7vil","_id":"ck541morf000fecfw3n9k3mld"},{"post_id":"ck541mor70006ecfw4nmwhwmq","category_id":"ck541morf000gecfwbps5f3mw","_id":"ck541morm000recfw83d3eu7p"},{"post_id":"ck541morc000decfw7juq9hs8","category_id":"ck541morm000qecfwb8lgf6es","_id":"ck541morp000yecfw7r752op2"},{"post_id":"ck541mor10002ecfw41b7gq34","category_id":"ck541morb000aecfweb4u4zy5","_id":"ck541morq0012ecfw90036bqx"},{"post_id":"ck541mor10002ecfw41b7gq34","category_id":"ck541moro000vecfwhyge66vi","_id":"ck541morr0015ecfwdpalhlal"},{"post_id":"ck541more000eecfwevmkdjih","category_id":"ck541morp000zecfw1kgvgm3y","_id":"ck541mort0018ecfw55ivbbu3"},{"post_id":"ck541morg000iecfw8cql3jnq","category_id":"ck541morm000qecfwb8lgf6es","_id":"ck541moru001aecfwgdb4f0is"},{"post_id":"ck541morh000kecfw9su6clac","category_id":"ck541morr0017ecfwg0dx0z7t","_id":"ck541moru001cecfwefum1j0u"},{"post_id":"ck541mork000necfwf1x84ik8","category_id":"ck541moru001becfw7662393i","_id":"ck541morv001eecfwfn7ndsq8"},{"post_id":"ck541mor90008ecfw9lz4am63","category_id":"ck541morb000aecfweb4u4zy5","_id":"ck541morw001gecfw1ee6biw0"},{"post_id":"ck541mor90008ecfw9lz4am63","category_id":"ck541morv001decfw8kcr86a8","_id":"ck541morw001iecfwgwloadzc"},{"post_id":"ck541morl000pecfw6mowda4q","category_id":"ck541morv001fecfweutj7wmp","_id":"ck541morx001jecfwb5ki3k00"},{"post_id":"ck541morn000tecfwc54h0ukx","category_id":"ck541morw001hecfwb1lzh4j6","_id":"ck541morx001kecfw4relh208"}],"PostTag":[{"post_id":"ck541moqr0000ecfwgyzv8bsk","tag_id":"ck541mor60005ecfw6o88hkag","_id":"ck541morc000cecfw1rhf3xnx"},{"post_id":"ck541mor70006ecfw4nmwhwmq","tag_id":"ck541morc000becfw7q9qc1dm","_id":"ck541morh000jecfwgs5cezjg"},{"post_id":"ck541mor90008ecfw9lz4am63","tag_id":"ck541morg000hecfwbl6gegnr","_id":"ck541morl000oecfwfx399kud"},{"post_id":"ck541morc000decfw7juq9hs8","tag_id":"ck541morj000mecfwbvls45g3","_id":"ck541moro000uecfwcvafabr0"},{"post_id":"ck541morg000iecfw8cql3jnq","tag_id":"ck541morj000mecfwbvls45g3","_id":"ck541morp000xecfw8v37538o"},{"post_id":"ck541morh000kecfw9su6clac","tag_id":"ck541morp000wecfwflkk4gkr","_id":"ck541morq0011ecfw2467h1x9"},{"post_id":"ck541morl000pecfw6mowda4q","tag_id":"ck541morq0010ecfwcv4gcpac","_id":"ck541morr0016ecfwdbad4jt1"},{"post_id":"ck541morn000tecfwc54h0ukx","tag_id":"ck541morq0014ecfwd1e4022n","_id":"ck541moru0019ecfwdab793rl"}],"Tag":[{"name":"C++","_id":"ck541mor60005ecfw6o88hkag"},{"name":"工具使用","_id":"ck541morc000becfw7q9qc1dm"},{"name":"CSS","_id":"ck541morg000hecfwbl6gegnr"},{"name":"思考","_id":"ck541morj000mecfwbvls45g3"},{"name":"兴趣","_id":"ck541morp000wecfwflkk4gkr"},{"name":"Linux","_id":"ck541morq0010ecfwcv4gcpac"},{"name":"生活","_id":"ck541morq0014ecfwd1e4022n"}]}}